!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ecCom"),require("antd"),require("weaPortal")):"function"==typeof define&&define.amd?define(["React","ecCom","antd","weaPortal"],t):"object"==typeof exports?exports.weaWorkflow=t(require("React"),require("ecCom"),require("antd"),require("weaPortal")):e.weaWorkflow=t(e.React,e.ecCom,e.antd,e.weaPortal)}(this,function(__WEBPACK_EXTERNAL_MODULE_40__,__WEBPACK_EXTERNAL_MODULE_123__,__WEBPACK_EXTERNAL_MODULE_134__,__WEBPACK_EXTERNAL_MODULE_274__){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var a=r(1),i=o(a),s=r(39),l=o(s),u=r(46),c=o(u),d=r(96),f=o(d),p=r(275),h=o(p),m=r(276),_=o(m),g=r(277),w=o(g),v=r(301),y=o(v),b=r(302),S=o(b),E=r(309),k=o(E);r(312),r(313),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(321),r(322);var R=r(323),T=o(R),I=r(125),O=r(120),x=n(O),C=r(278),A=n(C),j=r(310),D=n(j),P=(r(123),(0,i["default"])({},T["default"],I.comsReducer));r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343);var q=React.createElement(l["default"],{path:"workflow",breadcrumbName:"流程",component:c["default"]},React.createElement(l["default"],{name:"listDoing",path:"listDoing",component:f["default"]}),React.createElement(l["default"],{name:"listDone",path:"listDone",component:h["default"]}),React.createElement(l["default"],{name:"listMine",path:"listMine",component:_["default"]}),React.createElement(l["default"],{name:"add",path:"add",component:S["default"]}),React.createElement(l["default"],{name:"req",path:"req",component:w["default"]}),React.createElement(l["default"],{name:"reqReload",path:"reqReload",component:y["default"]}),React.createElement(l["default"],{name:"queryFlow",path:"queryFlow",component:k["default"]}));e.exports={Route:q,reducer:P,action:{WorkflowListAction:x,WorkflowReqAction:A,WorkflowQueryAction:D}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(2),a=n(o);t["default"]=a["default"]||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){e.exports={"default":r(3),__esModule:!0}},function(e,t,r){r(4),e.exports=r(7).Object.assign},function(e,t,r){var n=r(5);n(n.S+n.F,"Object",{assign:r(20)})},function(e,t,r){var n=r(6),o=r(7),a=r(8),i=r(10),s="prototype",l=function(e,t,r){var u,c,d,f=e&l.F,p=e&l.G,h=e&l.S,m=e&l.P,_=e&l.B,g=e&l.W,w=p?o:o[t]||(o[t]={}),v=w[s],y=p?n:h?n[t]:(n[t]||{})[s];p&&(r=t);for(u in r)c=!f&&y&&void 0!==y[u],c&&u in w||(d=c?y[u]:r[u],w[u]=p&&"function"!=typeof y[u]?r[u]:_&&c?a(d,n):g&&y[u]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((w.virtual||(w.virtual={}))[u]=d,e&l.R&&v&&!v[u]&&i(v,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(9);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(11),o=r(19);e.exports=r(15)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(12),o=r(14),a=r(18),i=Object.defineProperty;t.f=r(15)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),o)try{return i(e,t,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(13);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(15)&&!r(16)(function(){return 7!=Object.defineProperty(r(17)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports=!r(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){var n=r(13),o=r(6).document,a=n(o)&&n(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,r){var n=r(13);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){"use strict";var n=r(21),o=r(36),a=r(37),i=r(38),s=r(25),l=Object.assign;e.exports=!l||r(16)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var r=i(e),l=arguments.length,u=1,c=o.f,d=a.f;l>u;)for(var f,p=s(arguments[u++]),h=c?n(p).concat(c(p)):n(p),m=h.length,_=0;m>_;)d.call(p,f=h[_++])&&(r[f]=p[f]);return r}:l},function(e,t,r){var n=r(22),o=r(35);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(23),o=r(24),a=r(28)(!1),i=r(32)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,u=[];for(r in s)r!=i&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~a(u,r)||u.push(r));return u}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(25),o=r(27);e.exports=function(e){return n(o(e))}},function(e,t,r){var n=r(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(24),o=r(29),a=r(31);e.exports=function(e){return function(t,r,i){var s,l=n(t),u=o(l.length),c=a(i,u);if(e&&r!=r){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(30),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(30),o=Math.max,a=Math.min;e.exports=function(e,t){return e=n(e),e<0?o(e+t,0):a(e,t)}},function(e,t,r){var n=r(33)("keys"),o=r(34);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(6),o="__core-js_shared__",a=n[o]||(n[o]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(27);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(40),a=n(o),i=r(41),s=n(i),l=r(42),u=r(45),c=a["default"].PropTypes,d=c.string,f=c.func,p=a["default"].createClass({displayName:"Route",statics:{createRouteFromReactElement:l.createRouteFromReactElement},propTypes:{path:d,component:u.component,components:u.components,getComponent:f,getComponents:f},render:function(){s["default"](!1)}});t["default"]=p,e.exports=t["default"]},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_40__},function(e,t,r){"use strict";var n=function(e,t,r,n,o,a,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,a,i,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return null==e||p["default"].isValidElement(e)}function a(e){return o(e)||Array.isArray(e)&&e.every(o)}function i(e,t,r){e=e||"UnknownComponent";for(var n in t)if(t.hasOwnProperty(n)){var o=t[n](r,n,e);o instanceof Error}}function s(e,t){return d({},e,t)}function l(e){var t=e.type,r=s(t.defaultProps,e.props);if(t.propTypes&&i(t.displayName||t.name,t.propTypes,r),r.children){var n=u(r.children,r);n.length&&(r.childRoutes=n),delete r.children}return r}function u(e,t){var r=[];return p["default"].Children.forEach(e,function(e){if(p["default"].isValidElement(e))if(e.type.createRouteFromReactElement){var n=e.type.createRouteFromReactElement(e,t);n&&r.push(n)}else r.push(l(e))}),r}function c(e){return a(e)?e=u(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.isReactChildren=a,t.createRouteFromReactElement=l,t.createRoutesFromReactChildren=u,t.createRoutes=c;var f=r(40),p=n(f),h=r(43);n(h)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){t="[react-router] "+t;for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o]}t.__esModule=!0,t["default"]=o;var a=r(44);n(a);e.exports=t["default"]},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";function n(e,t,r){if(e[t])return new Error("<"+r+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.falsy=n;var o=r(40),a=o.PropTypes.func,i=o.PropTypes.object,s=o.PropTypes.arrayOf,l=o.PropTypes.oneOfType,u=o.PropTypes.element,c=o.PropTypes.shape,d=o.PropTypes.string,f=c({listen:a.isRequired,pushState:a.isRequired,replaceState:a.isRequired,go:a.isRequired});t.history=f;var p=c({pathname:d.isRequired,search:d.isRequired,state:i,action:d.isRequired,key:d});t.location=p;var h=l([a,d]);t.component=h;var m=l([h,i]);t.components=m;var _=l([i,u]);t.route=_;var g=l([_,s(_)]);t.routes=g,t["default"]={falsy:n,history:f,location:p,component:h,components:m,route:_}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){return React.createElement("div",{style:{height:"100%"}},React.createElement("iframe",{id:"hiddenPreLoaderSingle",name:"hiddenPreLoaderSingle",style:{display:"none"},width:"0",height:"0",border:"0",frameborder:"0"}),this.props.children)}}]),t}(React.Component);t["default"]=f},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(49),a=n(o);t["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a["default"])(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){e.exports={"default":r(50),__esModule:!0}},function(e,t,r){r(51);var n=r(7).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(5);n(n.S+n.F*!r(15),"Object",{defineProperty:r(11).f})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(53),a=n(o);t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,a["default"])(t))&&"function"!=typeof t?e:t}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(54),a=n(o),i=r(74),s=n(i),l="function"==typeof s["default"]&&"symbol"==typeof a["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]?"symbol":typeof e};t["default"]="function"==typeof s["default"]&&"symbol"===l(a["default"])?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof s["default"]&&e.constructor===s["default"]?"symbol":"undefined"==typeof e?"undefined":l(e)}},function(e,t,r){e.exports={"default":r(55),__esModule:!0}},function(e,t,r){r(56),r(69),e.exports=r(73).f("iterator")},function(e,t,r){"use strict";var n=r(57)(!0);r(58)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(30),o=r(27);e.exports=function(e){return function(t,r){var a,i,s=String(o(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(i=s.charCodeAt(l+1))<56320||i>57343?e?s.charAt(l):a:e?s.slice(l,l+2):(a-55296<<10)+(i-56320)+65536)}}},function(e,t,r){"use strict";var n=r(59),o=r(5),a=r(60),i=r(10),s=r(23),l=r(61),u=r(62),c=r(66),d=r(68),f=r(67)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",_="values",g=function(){return this};e.exports=function(e,t,r,w,v,y,b){u(r,t,w);var S,E,k,R=function(e){if(!p&&e in x)return x[e];switch(e){case m:return function(){return new r(this,e)};case _:return function(){return new r(this,e)}}return function(){return new r(this,e)}},T=t+" Iterator",I=v==_,O=!1,x=e.prototype,C=x[f]||x[h]||v&&x[v],A=C||R(v),j=v?I?R("entries"):A:void 0,D="Array"==t?x.entries||C:C;if(D&&(k=d(D.call(new e)),k!==Object.prototype&&(c(k,T,!0),n||s(k,f)||i(k,f,g))),I&&C&&C.name!==_&&(O=!0,A=function(){return C.call(this)}),n&&!b||!p&&!O&&x[f]||i(x,f,A),l[t]=A,l[T]=g,v)if(S={values:I?A:R(_),keys:y?A:R(m),entries:j},b)for(E in S)E in x||a(x,E,S[E]);else o(o.P+o.F*(p||O),t,S);return S}},function(e,t){e.exports=!0},function(e,t,r){e.exports=r(10)},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(63),o=r(19),a=r(66),i={};r(10)(i,r(67)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(i,{next:o(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var n=r(12),o=r(64),a=r(35),i=r(32)("IE_PROTO"),s=function(){},l="prototype",u=function(){var e,t=r(17)("iframe"),n=a.length,o="<",i=">";for(t.style.display="none",r(65).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+i+"document.F=Object"+o+"/script"+i),e.close(),u=e.F;n--;)delete u[l][a[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[l]=n(e),r=new s,s[l]=null,r[i]=e):r=u(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(11),o=r(12),a=r(21);e.exports=r(15)?Object.defineProperties:function(e,t){o(e);for(var r,i=a(t),s=i.length,l=0;s>l;)n.f(e,r=i[l++],t[r]);return e}},function(e,t,r){e.exports=r(6).document&&document.documentElement},function(e,t,r){var n=r(11).f,o=r(23),a=r(67)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){var n=r(33)("wks"),o=r(34),a=r(6).Symbol,i="function"==typeof a,s=e.exports=function(e){return n[e]||(n[e]=i&&a[e]||(i?a:o)("Symbol."+e))};s.store=n},function(e,t,r){var n=r(23),o=r(38),a=r(32)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,r){r(70);for(var n=r(6),o=r(10),a=r(61),i=r(67)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var u=s[l],c=n[u],d=c&&c.prototype;d&&!d[i]&&o(d,i,u),a[u]=a.Array}},function(e,t,r){"use strict";var n=r(71),o=r(72),a=r(61),i=r(24);e.exports=r(58)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){t.f=r(67)},function(e,t,r){e.exports={"default":r(75),__esModule:!0}},function(e,t,r){r(76),r(85),r(86),r(87),e.exports=r(7).Symbol},function(e,t,r){"use strict";var n=r(6),o=r(23),a=r(15),i=r(5),s=r(60),l=r(77).KEY,u=r(16),c=r(33),d=r(66),f=r(34),p=r(67),h=r(73),m=r(78),_=r(79),g=r(80),w=r(81),v=r(12),y=r(24),b=r(18),S=r(19),E=r(63),k=r(82),R=r(84),T=r(11),I=r(21),O=R.f,x=T.f,C=k.f,A=n.Symbol,j=n.JSON,D=j&&j.stringify,P="prototype",q=p("_hidden"),L=p("toPrimitive"),N={}.propertyIsEnumerable,M=c("symbol-registry"),W=c("symbols"),F=c("op-symbols"),U=Object[P],z="function"==typeof A,B=n.QObject,Q=!B||!B[P]||!B[P].findChild,K=a&&u(function(){return 7!=E(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=O(U,t);n&&delete U[t],x(e,t,r),n&&e!==U&&x(U,t,n)}:x,H=function(e){var t=W[e]=E(A[P]);return t._k=e,t},V=z&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},G=function(e,t,r){return e===U&&G(F,t,r),v(e),t=b(t,!0),v(r),o(W,t)?(r.enumerable?(o(e,q)&&e[q][t]&&(e[q][t]=!1),r=E(r,{enumerable:S(0,!1)})):(o(e,q)||x(e,q,S(1,{})),e[q][t]=!0),K(e,t,r)):x(e,t,r)},J=function(e,t){v(e);for(var r,n=g(t=y(t)),o=0,a=n.length;a>o;)G(e,r=n[o++],t[r]);return e},Y=function(e,t){return void 0===t?E(e):J(E(e),t)},$=function(e){var t=N.call(this,e=b(e,!0));return!(this===U&&o(W,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(W,e)||o(this,q)&&this[q][e])||t)},X=function(e,t){if(e=y(e),t=b(t,!0),e!==U||!o(W,t)||o(F,t)){var r=O(e,t);return!r||!o(W,t)||o(e,q)&&e[q][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=C(y(e)),n=[],a=0;r.length>a;)o(W,t=r[a++])||t==q||t==l||n.push(t);return n},ee=function(e){for(var t,r=e===U,n=C(r?F:y(e)),a=[],i=0;n.length>i;)!o(W,t=n[i++])||r&&!o(U,t)||a.push(W[t]);return a};z||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===U&&t.call(F,r),o(this,q)&&o(this[q],e)&&(this[q][e]=!1),K(this,e,S(1,r))};return a&&Q&&K(U,e,{configurable:!0,set:t}),H(e)},s(A[P],"toString",function(){return this._k}),R.f=X,T.f=G,r(83).f=k.f=Z,r(37).f=$,r(36).f=ee,a&&!r(59)&&s(U,"propertyIsEnumerable",$,!0),h.f=function(e){return H(p(e))}),i(i.G+i.W+i.F*!z,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var te=I(p.store),re=0;te.length>re;)m(te[re++]);i(i.S+i.F*!z,"Symbol",{"for":function(e){return o(M,e+="")?M[e]:M[e]=A(e)},keyFor:function(e){if(V(e))return _(M,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),i(i.S+i.F*!z,"Object",{create:Y,defineProperty:G,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),j&&i(i.S+i.F*(!z||u(function(){var e=A();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!V(e)){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);return t=n[1],"function"==typeof t&&(r=t),!r&&w(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!V(t))return t}),n[1]=t,D.apply(j,n)}}}),A[P][L]||r(10)(A[P],L,A[P].valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){var n=r(34)("meta"),o=r(13),a=r(23),i=r(11).f,s=0,l=Object.isExtensible||function(){return!0},u=!r(16)(function(){return l(Object.preventExtensions({}))}),c=function(e){i(e,n,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},f=function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},p=function(e){return u&&h.NEED&&l(e)&&!a(e,n)&&c(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,r){var n=r(6),o=r(7),a=r(59),i=r(73),s=r(11).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},function(e,t,r){var n=r(21),o=r(24);e.exports=function(e,t){for(var r,a=o(e),i=n(a),s=i.length,l=0;s>l;)if(a[r=i[l++]]===t)return r}},function(e,t,r){var n=r(21),o=r(36),a=r(37);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var i,s=r(e),l=a.f,u=0;s.length>u;)l.call(e,i=s[u++])&&t.push(i);return t}},function(e,t,r){var n=r(26);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(24),o=r(83).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?s(e):o(n(e))}},function(e,t,r){var n=r(22),o=r(35).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(37),o=r(19),a=r(24),i=r(18),s=r(23),l=r(14),u=Object.getOwnPropertyDescriptor;t.f=r(15)?u:function(e,t){if(e=a(e),t=i(t,!0),l)try{return u(e,t)}catch(r){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){r(78)("asyncIterator")},function(e,t,r){r(78)("observable")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(89),a=n(o),i=r(93),s=n(i),l=r(53),u=n(l);t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,u["default"])(t)));e.prototype=(0,s["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a["default"]?(0,a["default"])(e,t):e.__proto__=t)}},function(e,t,r){e.exports={"default":r(90),__esModule:!0}},function(e,t,r){r(91),e.exports=r(7).Object.setPrototypeOf},function(e,t,r){var n=r(5);n(n.S,"Object",{setPrototypeOf:r(92).set})},function(e,t,r){var n=r(13),o=r(12),a=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(8)(Function.call,r(84).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){e.exports={"default":r(94),__esModule:!0}},function(e,t,r){r(95);var n=r(7).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(5);n(n.S,"Object",{create:r(63)})},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.workflowlistDoing,r=e.comsWeaTable;return{title:t.get("title"),leftTree:t.get("leftTree"),leftTreeCount:t.get("leftTreeCount"),leftTreeCountType:t.get("leftTreeCountType"),topTab:t.get("topTab"),topTabCount:t.get("topTabCount"),searchParams:t.get("searchParams"),searchParamsAd:t.get("searchParamsAd"),orderFields:t.get("orderFields"),showSearchAd:t.get("showSearchAd"),selectedTreeKeys:t.get("selectedTreeKeys"),isSpaForm:t.get("isSpaForm"),isClearNowPageStatus:t.get("isClearNowPageStatus"),sortParams:t.get("sortParams"),conditioninfo:t.get("conditioninfo"),showBatchSubmit:t.get("showBatchSubmit"),phrasesObj:t.get("phrasesObj"),sharearg:t.get("sharearg"),comsWeaTable:r.get(r.get("tableNow"))}}function i(e){return{actions:(0,g.bindActionCreators)((0,l["default"])({},y,L),e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),l=o(s),u=r(47),c=o(u),d=r(48),f=o(d),p=r(52),h=o(p),m=r(88),_=o(m),g=r(97),w=r(112),v=r(120),y=n(v),b=r(229),S=o(b),E=r(272),k=o(E),R=r(273),T=o(R),I=r(274),O=r(125),x=r(123),C=r(134),A=r(136),j=(o(A),r(135)),D=(o(j),r(45)),P=(o(D),r(129)),q=o(P),L=O.WeaTable.action,N=C.Form.create,M=C.Form.Item,W=q["default"].is,F=null,U=function(e){function t(e){(0,c["default"])(this,t);var r=(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return F=r,r}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.actions;e.setNowRouterWfpath("listDoing"),e.initDatas({method:"all"}),e.doSearch()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.location.key,r=e.location.key;if(t!==r){var n=this.props,o=n.actions,a=n.isClearNowPageStatus;o.unmountClear(a),o.isClearNowPageStatus(!1),o.setNowRouterWfpath("listDoing"),o.initDatas({method:"all"}),o.doSearch()}window.location.pathname.indexOf("/spa/workflow/index")>=0&&e.title&&document.title!==e.title&&(document.title=e.title)}},{key:"shouldComponentUpdate",value:function(e,t){return!(W(this.props.title,e.title)&&W(this.props.leftTree,e.leftTree)&&W(this.props.leftTreeCount,e.leftTreeCount)&&W(this.props.leftTreeCountType,e.leftTreeCountType)&&W(this.props.topTab,e.topTab)&&W(this.props.topTabCount,e.topTabCount)&&W(this.props.searchParams,e.searchParams)&&W(this.props.searchParamsAd,e.searchParamsAd)&&W(this.props.orderFields,e.orderFields)&&W(this.props.showSearchAd,e.showSearchAd)&&W(this.props.showBatchSubmit,e.showBatchSubmit)&&W(this.props.phrasesObj,e.phrasesObj)&&W(this.props.sharearg,e.sharearg)&&W(this.props.selectedTreeKeys,e.selectedTreeKeys)&&W(this.props.comsWeaTable,e.comsWeaTable)&&W(this.props.isSpaForm,e.isSpaForm)&&W(this.props.conditioninfo,e.conditioninfo)&&W(this.props.isClearNowPageStatus,e.isClearNowPageStatus))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.actions,r=e.isClearNowPageStatus;t.unmountClear(r),t.isClearNowPageStatus(!1)}},{key:"render",value:function(){var e=window.location.pathname.indexOf("/spa/workflow/index")>=0,t=this.props,r=t.comsWeaTable,n=t.topTab,o=t.topTabCount,a=t.actions,i=t.title,s=t.searchParams,l=t.showSearchAd,u=t.searchParamsAd,c=t.showBatchSubmit,d=t.phrasesObj,f=r.get("loading"),p=r.get("selectedRowKeys");return React.createElement("div",null,e&&React.createElement(x.WeaPopoverHrm,null),React.createElement(x.WeaRightMenu,{datas:this.getRightMenu(),onClick:this.onRightMenuClick.bind(this)},React.createElement(x.WeaTop,{title:i,loading:f,icon:React.createElement("i",{className:"icon-portal-workflow"}),iconBgcolor:"#55D2D4",buttons:this.getButtons(),buttonSpace:10,showDropIcon:!0,dropMenuDatas:this.getRightMenu(),onDropMenuClick:this.onRightMenuClick.bind(this)},React.createElement(x.WeaLeftRightLayout,{defaultShowLeft:!0,leftCom:this.getTree(),leftWidth:25},React.createElement(x.WeaTab,{buttonsAd:this.getTabButtonsAd(),searchType:["base","advanced"],searchsBaseValue:u.get("requestname"),setShowSearchAd:function(e){a.setShowSearchAd(e)},hideSearchAd:function(){return a.setShowSearchAd(!1)},searchsAd:React.createElement(C.Form,{horizontal:!0},this.getSearchs()),showSearchAd:l,datas:n&&n.toJS(),selectedKey:s.get("viewcondition"),counts:o&&o.toJS(),onSearch:function(e){a.doSearch()},onSearchChange:function(e){a.saveOrderFields({requestname:{name:"requestname",value:e}})},keyParam:"viewcondition",countParam:"groupid",onChange:this.changeData.bind(this)}),React.createElement(O.WeaTable,{hasOrder:!0,needScroll:!0})),c&&React.createElement(T["default"],{actions:a,showBatchSubmit:c,phrasesObj:d,selectedRowKeys:""+(p&&p.toJS())}))),React.createElement(I.Synergy,{pathname:"/workflow/listDoing",requestid:"-1"}))}},{key:"onRightMenuClick",value:function(e){var t=this.props,r=t.actions,n=t.comsWeaTable,o=n.get("selectedRowKeys");"0"==e&&(r.doSearch(),r.setShowSearchAd(!1)),"1"==e&&r.batchSubmitClick({checkedKeys:""+o.toJS()}),"2"==e&&(r.setColSetVisible(!0),r.tableColSet(!0))}},{key:"getRightMenu",value:function(){var e=this.props,t=e.comsWeaTable,r=e.sharearg,n=(e.actions,t.get("selectedRowKeys")),o=r&&r.get("hasBatchBtn"),a=[];return a.push({icon:React.createElement("i",{className:"icon-Right-menu--search"}),content:"搜索"}),a.push({icon:React.createElement("i",{className:"icon-Right-menu-batch"}),content:"批量提交",disabled:!("true"===o&&n&&""+n.toJS())}),a.push({icon:React.createElement("i",{className:"icon-Right-menu-Custom"}),content:"显示定制列"}),a}},{key:"getSearchs",value:function(){return[React.createElement(x.WeaSearchGroup,{needTigger:!0,title:this.getTitle(),showGroup:this.isShowFields(),items:this.getFields()}),React.createElement(x.WeaSearchGroup,{needTigger:!0,title:this.getTitle(1),showGroup:this.isShowFields(1),items:this.getFields(1)})]}},{key:"getTitle",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.conditioninfo;return!(0,k["default"])(t.toJS())&&t.toJS()[e].title}},{key:"isShowFields",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.conditioninfo;return!(0,k["default"])(t.toJS())&&t.toJS()[e].defaultshow}},{key:"getFields",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=this.props.conditioninfo,n=!(0,k["default"])(r.toJS())&&r.toJS()[t].items,o=[];return(0,S["default"])(n,function(t){o.push({com:React.createElement(M,{label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol}},x.WeaTools.switchComponent(e.props,t.key,t.domkey,t)),colSpan:1})}),o}},{key:"changeData",value:function(e){var t=this.props.actions;t.setShowSearchAd(!1),t.doSearch({viewcondition:e},{})}},{key:"getTree",value:function(){var e=this.props,t=e.leftTree,r=e.leftTreeCount,n=e.leftTreeCountType,o=e.actions,a=e.topTab,i=(e.searchParams,e.selectedTreeKeys),s=e.loading;return React.createElement(x.WeaLeftTree,{datas:t&&t.toJS(),counts:r&&r.toJS(),countsType:n&&n.toJS(),selectedKeys:i&&i.toJS(),loading:s,onFliterAll:function(){o.setShowSearchAd(!1),o.setSelectedTreeKeys([]),o.saveOrderFields(),o.initDatas({method:"all"}),o.doSearch({method:"all",viewcondition:0,workflowid:"",wftype:""})},onSelect:function(e,r,n){o.setShowSearchAd(!1);var i="0";o.setSelectedTreeKeys([e]),a.map(function(e){n&&n.name&&e.get("groupid")==n.name&&(i=e.get("viewcondition"))});var s=0===e.indexOf("wf_")?e.substring(3):"",l=0===e.indexOf("type_")?e.substring(5):"",u="",c="";t&&t.map(function(t){t.get("domid")==e&&(c=t.get("name")),t.get("childs")&&t.get("childs").map(function(t){t.get("domid")==e&&(u=t.get("name"))})});var d={workflowid:{name:"workflowid",value:s,valueSpan:u},workflowtype:{name:"workflowtype",value:l,valueSpan:c}};o.saveOrderFields(d),o.doSearch({method:0===e.indexOf("type_")?"reqeustbytype":"reqeustbywfid",wftype:l,workflowid:s,viewcondition:i})}})}},{key:"getTabButtonsAd",value:function(){var e=this.props.actions;return[React.createElement(C.Button,{type:"primary",onClick:function(){e.doSearch(),e.setShowSearchAd(!1)}},"搜索"),React.createElement(C.Button,{
type:"ghost",onClick:function(){e.saveOrderFields({})}},"重置"),React.createElement(C.Button,{type:"ghost",onClick:function(){e.setShowSearchAd(!1)}},"取消")]}},{key:"getButtons",value:function(){var e=this.props,t=e.comsWeaTable,r=e.sharearg,n=e.actions,o=t.get("selectedRowKeys"),a=r&&r.get("hasBatchBtn"),i=[];return"true"==a&&i.push(React.createElement(C.Button,{type:"primary",disabled:!(o&&""+o.toJS()),onClick:function(){n.batchSubmitClick({checkedKeys:""+o.toJS()})}},"批量提交")),i}}]),t}(React.Component);window.openSPA=function(e,t){var r=F.props,n=r.actions,o=r.history;n.isClearNowPageStatus(!0),o.push(e)};var z={},B=navigator.userAgent.toLowerCase(),Q=void 0;(Q=B.match(/msie ([\d.]+)/))?z.ie=Q[1]:(Q=B.match(/firefox\/([\d.]+)/))?z.firefox=Q[1]:(Q=B.match(/chrome\/([\d.]+)/))?z.chrome=Q[1]:(Q=B.match(/opera.([\d.]+)/))?z.opera=Q[1]:(Q=B.match(/version\/([\d.]+).*safari/))?z.safari=Q[1]:0,window.openSPA4SingleTab=function(e,t){window.openSPA4Single(e,t,!0)},window.openSPA4Single=function(e,t,r){var n=jQuery("#hiddenPreLoader").length>0?jQuery("#hiddenPreLoader"):jQuery("#hiddenPreLoaderSingle"),o=function(e){var t="/api/workflow/request/reqinfo?actiontype=loadRight&ispreload=1&";t+=e.split("?")[1],jQuery.ajax({type:"GET",url:t})};z.chrome&&($(window).mousedown(function(){}),n.attr("src",""),n.attr("src","/spa/workflow/index.html"));var a=(new Date).getTime();e+="&preloadkey="+a,o(e);var i=screen.availWidth-10,s=screen.availHeight-50,l="";r||(l="top=0,",l+="left=0,",l+="width="+i+",",l+="height="+s+",",l+="directories=no,",l+="status=yes,toolbar=no,location=no,",l+="menubar=no,",l+="scrollbars=yes,",l+="resizable=yes"),z.chrome?n.on("load",function(){var t=window.open("/spa/workflow/index.html#"+e,"_blank",l);t||C.message.warning("对不起，流程表单弹窗被chrome阻止，请点击浏览器地址栏尾部配置例外！",5),$(window).unbind("mousedown"),n.unbind("load")}):window.open("/spa/workflow/index.html#"+e,"",l)};var K=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props.error&&""!==this.props.error;return React.createElement(x.WeaErrorPage,{msg:e?this.props.error:"对不起，该页面异常，请联系管理员！"})}}]),t}(React.Component);U=x.WeaTools.tryCatch(React,K,{error:""})(U),U=N({onFieldsChange:function(e,t){e.actions.saveOrderFields((0,l["default"])({},e.orderFields.toJS(),t))},mapPropsToFields:function(e){return e.orderFields.toJS()}})(U),t["default"]=(0,w.connect)(a,i)(U)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=r(98),a=n(o),i=r(107),s=n(i),l=r(109),u=n(l),c=r(110),d=n(c),f=r(111),p=n(f),h=r(108);n(h);t.createStore=a["default"],t.combineReducers=s["default"],t.bindActionCreators=u["default"],t.applyMiddleware=d["default"],t.compose=p["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){function n(){g===_&&(g=_.slice())}function a(){return m}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return n(),g.push(e),function(){if(t){t=!1,n();var r=g.indexOf(e);g.splice(r,1)}}}function c(e){if(!(0,i["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(w)throw new Error("Reducers may not dispatch actions.");try{w=!0,m=h(m,e)}finally{w=!1}for(var t=_=g,r=0;r<t.length;r++)t[r]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:u.INIT})}function f(){var e,t=s;return e={subscribe:function(e){function r(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");r();var n=t(r);return{unsubscribe:n}}},e[l["default"]]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof r&&(r=t,t=void 0),"undefined"!=typeof r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,_=[],g=_,w=!1;return c({type:u.INIT}),p={dispatch:c,subscribe:s,getState:a,replaceReducer:d},p[l["default"]]=f,p}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var a=r(99),i=n(a),s=r(104),l=n(s),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,r){function n(e){if(!i(e)||p.call(e)!=s||a(e))return!1;var t=o(e);if(null===t)return!0;var r=d.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==f}var o=r(100),a=r(102),i=r(103),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=c.call(Object),p=u.toString;e.exports=n},function(e,t,r){var n=r(101),o=n(Object.getPrototypeOf,Object);e.exports=o},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t){function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t,r){e.exports=r(105)},function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(106),a=n(o),i=void 0;"undefined"!=typeof e?i=e:"undefined"!=typeof window&&(i=window);var s=(0,a["default"])(i);t["default"]=s}).call(t,function(){return this}())},function(e,t){"use strict";function r(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=t&&t.type,n=r&&'"'+r.toString()+'"'||"an action";return"Given action "+n+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function a(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof n)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof r(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function i(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];"function"==typeof e[i]&&(r[i]=e[i])}var s,l=Object.keys(r);try{a(r)}catch(u){s=u}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var n=!1,a={},i=0;i<l.length;i++){var u=l[i],c=r[u],d=e[u],f=c(d,t);if("undefined"==typeof f){var p=o(u,t);throw new Error(p)}a[u]=f,n=n||f!==d}return n?a:e}}t.__esModule=!0,t["default"]=i;var s=r(98),l=r(99),u=(n(l),r(108));n(u)},function(e,t){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=r},function(e,t){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function n(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},a=0;a<n.length;a++){var i=n[a],s=e[i];"function"==typeof s&&(o[i]=r(s,t))}return o}t.__esModule=!0,t["default"]=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,o){var i=e(r,n,o),l=i.dispatch,u=[],c={getState:i.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=s["default"].apply(void 0,u)(i.dispatch),a({},i,{dispatch:l})}}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o;var i=r(111),s=n(i)},function(e,t){"use strict";function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var n=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},n.apply(void 0,arguments))}}t.__esModule=!0,t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=r(113),a=n(o),i=r(116),s=n(i);t.Provider=a["default"],t.connect=s["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var s=r(40),l=r(114),u=n(l),c=r(115),d=(n(c),function(e){function t(r,n){o(this,t);var i=a(this,e.call(this,r,n));return i.store=r.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return s.Children.only(e)},t}(s.Component));t["default"]=d,d.propTypes={store:u["default"].isRequired,children:s.PropTypes.element.isRequired},d.childContextTypes={store:u["default"].isRequired}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(40);t["default"]=n.PropTypes.shape({subscribe:n.PropTypes.func.isRequired,dispatch:n.PropTypes.func.isRequired,getState:n.PropTypes.func.isRequired})},function(e,t){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function l(e,t){try{return e.apply(t)}catch(r){return I.value=r,I}}function u(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],u=Boolean(e),f=e||k,h=void 0;h="function"==typeof t?t:t?(0,g["default"])(t):R;var _=r||T,w=n.pure,v=void 0===w||w,y=n.withRef,S=void 0!==y&&y,x=v&&_!==T,C=O++;return function(e){function t(e,t,r){var n=_(e,t,r);return n}var r="Connect("+s(e)+")",n=function(n){function s(e,t){o(this,s);var i=a(this,n.call(this,e,t));i.version=C,i.store=e.store||t.store,(0,E["default"])(i.store,'Could not find "store" in either the context or '+('props of "'+r+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+r+'".'));var l=i.store.getState();return i.state={storeState:l},i.clearCache(),i}return i(s,n),s.prototype.shouldComponentUpdate=function(){return!v||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var r=e.getState(),n=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,t):this.finalMapStateToProps(r);return n},s.prototype.configureFinalMapState=function(e,t){var r=f(e.getState(),t),n="function"==typeof r;return this.finalMapStateToProps=n?r:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,n?this.computeStateProps(e,t):r},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var r=e.dispatch,n=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,t):this.finalMapDispatchToProps(r);return n},s.prototype.configureFinalMapDispatch=function(e,t){var r=h(e.dispatch,t),n="function"==typeof r;return this.finalMapDispatchToProps=n?r:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,n?this.computeDispatchProps(e,t):r},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,m["default"])(e,this.stateProps))&&(this.stateProps=e,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,m["default"])(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&x&&(0,m["default"])(e,this.mergedProps))&&(this.mergedProps=e,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){u&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){v&&(0,m["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!v||t!==e){if(v&&!this.doStatePropsDependOnOwnProps){var r=l(this.updateStatePropsIfNeeded,this);if(!r)return;r===I&&(this.statePropsPrecalculationError=I.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,E["default"])(S,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,n=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,a=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var i=!0,s=!0;v&&a&&(i=r||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var l=!1,u=!1;n?l=!0:i&&(l=this.updateStatePropsIfNeeded()),s&&(u=this.updateDispatchPropsIfNeeded());var f=!0;return f=!!(l||u||t)&&this.updateMergedPropsIfNeeded(),!f&&a?a:(S?this.renderedElement=(0,d.createElement)(e,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,d.createElement)(e,this.mergedProps),this.renderedElement)},s}(d.Component);return n.displayName=r,n.WrappedComponent=e,n.contextTypes={store:p["default"]},n.propTypes={store:p["default"]},(0,b["default"])(n,e)}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.__esModule=!0,t["default"]=u;var d=r(40),f=r(114),p=n(f),h=r(117),m=n(h),_=r(118),g=n(_),w=r(115),v=(n(w),r(99)),y=(n(v),r(119)),b=n(y),S=r(41),E=n(S),k=function(e){return{}},R=function(e){return{dispatch:e}},T=function(e,t,r){return c({},r,e,t)},I={value:null},O=0},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<r.length;a++)if(!o.call(t,r[a])||e[r[a]]!==t[r[a]])return!1;return!0}t.__esModule=!0,t["default"]=r},function(e,t,r){"use strict";function n(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=n;var o=r(97)},function(e,t){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,a){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);o&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;++s)if(!(r[i[s]]||n[i[s]]||a&&a[i[s]]))try{e[i[s]]=t[i[s]]}catch(l){}}return e}},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setSpaForm=t.operPhrases=t.initPhrasesDatas=t.savePhrasesText=t.batchSubmitWf=t.setShowBatchSubmit=t.batchSubmitClick=t.setShowSearchAd=t.unmountClear=t.isClearNowPageStatus=t.clearLeftTree=t.saveOrderFields=t.setLeftTreeShow=t.setSelectedTreeKeys=t.doSearch=t.initDatas=t.setNowRouterWfpath=void 0;var a=r(1),i=o(a),s=r(121),l=n(s),u=r(122),c=n(u),d=r(124),f=(n(d),r(125)),p=(r(134),r(135)),h=(o(p),r(136)),m=(o(h),r(123)),_=r(129),g=(o(_),f.WeaTable.action),w=(t.setNowRouterWfpath=function(e){return{type:l.SET_NOW_ROUTER_PATH,path:e}},t.initDatas=function(e){return function(t,r){var n=m.WeaTools.ls,o=r().workflowlistDoing.get("nowRouterWfpath"),a=r()["workflow"+o].toJS(),s=a.paramsBase,u=a.searchParams;c.getWfRequestList((0,i["default"])({},s,{actiontype:"baseinfo"})).then(function(e){var r=e.countcfg,a=e.groupinfo,i=e.pagetitle,s=e.treedata,u=e.conditioninfo;n.set(o+"leftTree",s),t({type:o+"_"+l.INIT_BASE,topTab:a,leftTree:s,leftTreeCountType:r,title:i,conditioninfo:u})});var d=(0,i["default"])({},s,u,e),f="reqeustbytype"===d.method?"type_"+d.wftype:"reqeustbywfid"===d.method?"wf_"+d.workflowid:"";c.getWfRequestList((0,i["default"])({},s,{actiontype:"countinfo"})).then(function(e){t({type:o+"_"+l.INIT_COUNT,leftTreeCount:e.treecount,topTabCount:f?e.treecount[f]:e.totalcount})})}}),v=t.doSearch=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath"),o=r()["workflow"+n].toJS(),a=o.paramsBase,s=o.searchParams,u=o.searchParamsAd,d=o.leftTreeCount,f=(0,i["default"])({},a,s,u,e,{actiontype:"splitpage"}),p="reqeustbytype"===f.method?"type_"+f.wftype:"reqeustbywfid"===f.method?"wf_"+f.workflowid:"";p&&t({type:n+"_"+l.INIT_TOPTABCOUNT,topTabCount:d[p]}),c.getWfRequestList(f).then(function(r){t({type:n+"_"+l.INIT_DATAKEY,searchParams:(0,i["default"])({},a,s,e),dataKey:r.sessionkey,sharearg:r.sharearg}),t(g.getDatas(r.sessionkey,e.current||1))})}},y=(t.setSelectedTreeKeys=function(e){return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath");t({type:n+"_"+l.SET_SELECTED_TREEKEYS,selectedTreeKeys:e})}},t.setLeftTreeShow=function(e){return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath");t({type:n+"_"+l.SET_LEFT_TREE_SHOW,value:e})}},t.saveOrderFields=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath");t({type:n+"_"+l.SAVE_ORDER_FIELDS,value:e})}},t.clearLeftTree=function(){return function(e,t){var r=t().workflowlistDoing.get("nowRouterWfpath");e({type:r+"_"+l.CLEAR_LEFTTREE})}},t.isClearNowPageStatus=function(e){return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath");t({type:n+"_"+l.CLEAR_PAGE_STATUS,isToReq:e})}},t.unmountClear=function(e){return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath");t({type:n+"_"+l.UNMOUNT_CLEAR,isToReq:e})}},t.setShowSearchAd=function(e){return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath");t({type:n+"_"+l.SET_SHOW_SEARCHAD,value:e})}},t.batchSubmitClick=function(e){return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath"),o=r()["workflow"+n].toJS(),a=o.sharearg;o.datas;t("0"==a.multisubmitnotinputsign?y(!0):b("",e.checkedKeys))}},t.setShowBatchSubmit=function(e){return function(t,r){t({type:l.LISTDOING_SET_SHOW_BATCHSUBMIT,value:e}),t(S())}}),b=t.batchSubmitWf=function(e,t){return function(r,n){var o=n().workflowlistDoing.get("nowRouterWfpath"),a=n()["workflow"+o].toJS(),i=a.datas,s=n()["workflow"+o].get("dataKey")?n()["workflow"+o].get("dataKey").split("_")[0]:"init",u=window.store_e9_workflow.getState().comsWeaTable.getIn([s,"current"]);r({type:o+"_"+l.LOADING,loading:!0}),c.OnMultiSubmitNew2(e,t,i).then(function(e){r(w()),r(v({current:u}))})}},S=(t.savePhrasesText=function(e){return function(t,r){c.savePhrasesText(e).then(function(e){t(S({}))})}},t.initPhrasesDatas=function(){return function(e,t){c.loadPhrasesDatas({}).then(function(t){e(E({phrasesDatas:t.phrasesDatas}))})}}),E=t.operPhrases=function(e){return function(t,r){t({type:l.LISTDOING_OPER_PHRASES,value:e})}};t.setSpaForm=function(e){return function(t,r){var n=r().workflowlistDoing.get("nowRouterWfpath"),o=m.WeaTools.ls;o.set("isSpaForm",e?"true":"false"),t({type:n+"_"+l.SET_SPAFORM,isSpaForm:e})}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.INIT_FORMLAYOUT="init_formlayout",t.INIT_FORMVALUE="init_formvalue",t.INIT_FORMVALUE4DETAIL="init_formvalue4detail",t.CLEAR_FORM="clear_form",t.INIT_PARAMS="init_params",t.FORM_LOADING="form_loading",t.SET_MARK_INFO="set_mark_info",t.SET_MARK_INPUT_INFO="set_mark_input_info",t.SET_RIGHT_MENU_INFO="set_right_menu_info",t.SET_WORKFLOW_STATUS="set_workflow_status",t.SET_LOG_PARAMS="set_log_params",t.SET_LOGLIST_TABKEY="set_loglist_tabkey",t.SET_RESOURCES_KEY="set_resources_key",t.SET_RESOURCES_DATAS="set_resources_datas",t.SET_RESOURCES_SET="set_resources_set",t.SET_HIDDEN_AREA="set_hidden_area",t.SET_REQ_TABKEY="set_req_tabkey",t.REQ_IS_SUBMIT="req_is_submit",t.REQ_IS_RELOAD="req_is_reload",t.CONTROLL_SIGN_INPUT="control_sign_input",t.INIT_SIGN_INPUT="init_sign_input",t.SET_LAYOUT_SCRIPTS="set_layout_scripts",t.SET_CUSTOMPAGE_HTML="set_custompage_html",t.IS_SHOW_USER_HEAD_IMG="is_show_user_head_img",t.SAVE_SIGN_FIELDS="save_sign_fields",t.SET_SHOW_SEARCHDROP="set_show_searchdrop",t.SET_REQ_SUBMIT_ERROR_MSG_HTML="set_req_submit_error_msg_html",t.SET_SHOW_FORWARD="set_show_forward",t.SET_OPERATE_INFO="set_operate_info",t.SET_SHOWBACK_TO_E8="set_showback_to_e8",t.UPDATE_SHOW_USER_LOGID="update_show_user_logid",t.SET_REL_REQ_LOG_PARAMS="set_rel_req_log_params",t.SET_SCROLL_MARK_INFO="set_scroll_mark_info",t.IS_LOADING_LOG="is_loading_log",t.CLEAR_ALL="clear_all",t.CLEAR_LOG_DATA="clear_log_data",t.INIT_DATAKEY="init_datakey",t.INIT_BASE="init_base",t.INIT_COUNT="init_count",t.INIT_TOPTABCOUNT="init_toptabcount",t.SET_SELECTED_ROWKEYS="set_selected_rowkeys",t.SET_SELECTED_TREEKEYS="set_selected_treekeys",t.SAVE_ORDER_FIELDS="save_order_fields",t.CLEAR_LEFTTREE="clear_lefttree",t.SET_SHOW_SEARCHAD="set_show_searchad",t.UNMOUNT_CLEAR="unmount_clear",t.CLEAR_PAGE_STATUS="clear_page_status",t.SET_SPAFORM="set_spaform",t.TABLE_COL_SET="table_col_set",t.TABLE_COL_SET_VISIBLE="table_col_set_visible",t.SET_NOW_ROUTER_PATH="set_now_router_path",t.LISTDOING_INIT_DATAKEY="listDoing_init_datakey",t.LISTDOING_INIT_BASE="listDoing_init_base",t.LISTDOING_INIT_COUNT="listDoing_init_count",t.LISTDOING_INIT_TOPTABCOUNT="listDoing_init_toptabcount",t.LISTDOING_SET_SELECTED_ROWKEYS="listDoing_set_selected_rowkeys",t.LISTDOING_SET_SELECTED_TREEKEYS="listDoing_set_selected_treekeys",t.LISTDOING_SAVE_ORDER_FIELDS="listDoing_save_order_fields",t.LISTDOING_CLEAR_LEFTTREE="listDoing_clear_lefttree",t.LISTDOING_SET_SHOW_SEARCHAD="listDoing_set_show_searchad",t.LISTDOING_SET_SHOW_BATCHSUBMIT="listDoing_set_show_batchsubmit",t.LISTDOING_OPER_PHRASES="listDoing_oper_phrases",t.LISTDOING_SET_SPAFORM="listDoing_set_spaform",t.LISTDOING_LOADING="listDoing_loading",t.LISTDOING_INIT_DATAS="listDoing_init_datas",t.LISTDOING_INIT_SET="listDoing_init_set",t.LISTDOING_RESET_DATAS="listDoing_reset_datas",t.LISTDOING_UNMOUNT_CLEAR="listDoing_unmount_clear",t.LISTDOING_CLEAR_PAGE_STATUS="listDoing_clear_page_status",t.LISTDOING_TABLE_COL_SET="listDoing_table_col_set",t.LISTDOING_TABLE_COL_SET_VISIBLE="listDoing_table_col_set_visible",t.LISTDONE_LISTDONE_SET_PAGE="listDone_set_type",t.LISTDONE_INIT_DATAKEY="listDone_init_datakey",t.LISTDONE_INIT_BASE="listDone_init_base",t.LISTDONE_INIT_COUNT="listDone_init_count",t.LISTDONE_INIT_TOPTABCOUNT="listDone_init_toptabcount",t.LISTDONE_SET_SELECTED_ROWKEYS="listDone_set_selected_rowkeys",t.LISTDONE_SET_SELECTED_TREEKEYS="listDone_set_selected_treekeys",t.LISTDONE_SAVE_ORDER_FIELDS="listDone_save_order_fields",t.LISTDONE_CLEAR_LEFTTREE="listDone_clear_lefttree",t.LISTDONE_SET_SHOW_SEARCHAD="listDone_set_show_searchad",t.LISTDONE_SET_SPAFORM="listDone_set_spaform",t.LISTDONE_LOADING="listDone_loading",t.LISTDONE_INIT_DATAS="listDone_init_datas",t.LISTDONE_INIT_SET="listDone_init_set",t.LISTDONE_RESET_DATAS="listDone_reset_datas",t.LISTDONE_UNMOUNT_CLEAR="listDone_unmount_clear",t.LISTDONE_CLEAR_PAGE_STATUS="listDone_clear_page_status",t.LISTDONE_TABLE_COL_SET="listDone_table_col_set",t.LISTDONE_TABLE_COL_SET_VISIBLE="listDone_table_col_set_visible",t.LISTMINE_SET_PAGE="listMine_set_type",t.LISTMINE_INIT_DATAKEY="listMine_init_datakey",t.LISTMINE_INIT_BASE="listMine_init_base",t.LISTMINE_INIT_COUNT="listMine_init_count",t.LISTMINE_INIT_TOPTABCOUNT="listMine_init_toptabcount",t.LISTMINE_SET_SELECTED_ROWKEYS="listMine_set_selected_rowkeys",t.LISTMINE_SET_SELECTED_TREEKEYS="listMine_set_selected_treekeys",t.LISTMINE_SAVE_ORDER_FIELDS="listMine_save_order_fields",t.LISTMINE_CLEAR_LEFTTREE="listMine_clear_lefttree",t.LISTMINE_SET_SHOW_SEARCHAD="listMine_set_show_searchad",t.LISTMINE_SET_SPAFORM="listMine_set_spaform",t.LISTMINE_LOADING="listMine_loading",t.LISTMINE_INIT_DATAS="listMine_init_datas",t.LISTMINE_INIT_SET="listMine_init_set",t.LISTMINE_RESET_DATAS="listMine_reset_datas",t.LISTMINE_UNMOUNT_CLEAR="listMine_unmount_clear",t.LISTMINE_CLEAR_PAGE_STATUS="listMine_clear_page_status",t.LISTMINE_TABLE_COL_SET="listMine_table_col_set",t.LISTMINE_TABLE_COL_SET_VISIBLE="listMine_table_col_set_visible",t.SET_ADD_LOADING="set_add_loading",t.SET_TABKEY="set_tabkay",t.SET_MULITCOL="set_mulitcol",t.SET_ISABC="set_isabc",t.SET_SEARCH_VALUE="set_search_value",t.SET_WFTYPES="set_wftypes",t.SET_TYPES_SHOW="set_types_show",t.SET_TYPES_COLS="set_wftypes_cols",t.SET_TYPES_ABC="set_wftypes_abc",t.SET_USED_BEANS="set_used_beans",t.SET_COMMONUSE="set_commonuse",t.SET_IMPORT_DATA="set_import_data",t.SET_IMPORT_SEARCH_VALUE="set_import_search_value",t.SET_IMPORT_DATA_SHOW="set_import_data_show",t.SET_ABC_SELECTED="set_abc_selected",t.SET_SHOW_BEAGENTERS="set_show_beagenters",t.SET_SHOW_IMPORTWF="set_show_importwf",t.LOADING="loading",t.INIT_DATAS="init_datas",t.INIT_SET="init_set",t.RESET_DATAS="reset_datas",t.QUERY_FLOW_INIT_BASE="query_flow_init_base",t.QUERY_FLOW_SAVE_FIELDS="query_flow_save_fields",t.QUERY_FLOW_SEARCH_RESULT="query_flow_search_result",t.QUERY_FLOW_LOADING="query_flow_loading",t.QUERY_FLOW_INIT_DATAS="query_flow_init_datas",t.QUERY_FLOW_INIT_SET="query_flow_init_set",t.QUERY_FLOW_RESET_DATAS="query_flow_reset_datas",t.QUERY_FLOW_UPDATE_DISPLAY_TABLE="query_flow_update_display_table",t.QUERY_FLOW_SET_SHOW_SEARCHAD="query_flow_set_show_searchad",t.QUERY_FLOW_TABLE_COL_SET_VISIBLE="query_flow_table_col_set_visible",t.QUERY_FLOW_TABLE_COL_SET="query_flow_table_col_set",t.QUERY_FLOW_INIT_TREE="query_flow_init_tree",t.QUERY_FLOW_SET_SEARCH_PARAMS="query_flow_set_search_params",t.QUERY_FLOW_SET_SELECTED_TREEKEYS="query_flow_set_selected_treekeys",t.QUERY_FLOW_SET_SELECTED_ROWKEYS="query_flow_set_selected_rowkeys"},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OnMultiSubmitNew2=t.savePhrasesText=t.loadPhrasesDatas=t.getWfRequestList=void 0;var n=r(123);t.getWfRequestList=function(e){return n.WeaTools.callApi("/api/workflow/reqlist/list","GET",e)},t.loadPhrasesDatas=function(e){return n.WeaTools.callApi("/api/workflow/phrases/getPhrases","GET",e)},t.savePhrasesText=function(e){var t={operation:"add",phraseShort:e,phraseDesc:e};return n.WeaTools.callApi("/workflow/sysPhrase/PhraseOperate.jsp","GET",t,"text")},t.OnMultiSubmitNew2=function(e,t,r){var o="";r&&r.map(function(e){t.split(",").map(function(t){if(e.requestid==t){var r=e.requestnamespan.substring(e.requestnamespan.indexOf("href=")+5,e.requestnamespan.indexOf(">")-1);r.indexOf("/workflow/request/ViewRequest.jsp")>=0&&(r.indexOf("f_weaver_belongto_userid=")<=0?o+=",":(r=r.substring(r.indexOf("f_weaver_belongto_userid=")+"f_weaver_belongto_userid=".length),r=r.substring(0,r.indexOf("&")),o+=r+","))}})});var a={multiSubIds:t,remark:e,pagefromtype:1,belongtoUserids:o};return n.WeaTools.callApi("/workflow/request/RequestListOperation.jsp","POST",a)}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_123__},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.tableColSet=t.setTablePageSize=t.getTableCounts=t.getTableChecks=t.getTableDatas=t.getTableSet=void 0;var n=r(123);t.getTableSet=function(e){return n.WeaTools.callApi("/api/ec/dev/table/set","POST",e)},t.getTableDatas=function(e){return n.WeaTools.callApi("/api/ec/dev/table/datas","POST",e)},t.getTableChecks=function(e){return n.WeaTools.callApi("/api/ec/dev/table/checks","POST",e)},t.getTableCounts=function(e){return n.WeaTools.callApi("/api/ec/dev/table/counts","POST",e)},t.setTablePageSize=function(e){return n.WeaTools.callApi("/api/ec/dev/table/pageSize","POST",e)},t.tableColSet=function(e,t){return n.WeaTools.callApi("/api/ec/dev/table/showCol",t,e)}},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var a=r(126),i=o(a),s=r(131),l=n(s),u=r(133),c=o(u);c["default"].action=l,e.exports={comsReducer:i["default"],WeaTable:c["default"]}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(127),a=n(o);t["default"]={comsWeaTable:a["default"]}},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(128),i=o(a),s=r(129),l=o(s),u=r(130),c=n(u),d=l["default"].fromJS({
dataKey:"",requireTimes:0,loading:!1,datas:[],columns:[],operates:[],sortParams:[],selectedRowKeys:[],showCheck:!1,pageAutoWrap:!1,count:0,current:1,pageSize:10,colSetVisible:!1,colSetdatas:[],colSetKeys:[]}),f=l["default"].fromJS({tableNow:"init"}).merge({init:d});t["default"]=comsWeaTable=function(){var e=arguments.length<=0||void 0===arguments[0]?f:arguments[0],t=arguments[1];switch(t.type){case c.TABLE_INIT:return e.merge((0,i["default"])({tableNow:t.name},t.name,d.merge(e.get(t.name)||{}).merge(t.value)));case c.TABLE_UPDATE:return e.merge((0,i["default"])({},t.name,d.merge(e.get(t.name)||{}).merge(t.value)));default:return e}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(49),a=n(o);t["default"]=function(e,t,r){return t in e?(0,a["default"])(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){!function(t,r){e.exports=r()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return a(e)?e:x(e)}function r(e){return i(e)?e:C(e)}function n(e){return s(e)?e:A(e)}function o(e){return a(e)&&!l(e)?e:j(e)}function a(e){return!(!e||!e[lr])}function i(e){return!(!e||!e[ur])}function s(e){return!(!e||!e[cr])}function l(e){return i(e)||s(e)}function u(e){return!(!e||!e[dr])}function c(e){return e.value=!1,e}function d(e){e&&(e.value=!0)}function f(){}function p(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function h(e){return void 0===e.size&&(e.size=e.__iterate(_)),e.size}function m(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?h(e)+t:t}function _(){return!0}function g(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function w(e,t){return y(e,t,0)}function v(e,t){return y(e,t,t)}function y(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function b(e){this.next=e}function S(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function E(){return{value:void 0,done:!0}}function k(e){return!!I(e)}function R(e){return e&&"function"==typeof e.next}function T(e){var t=I(e);return t&&t.call(e)}function I(e){var t=e&&(Sr&&e[Sr]||e[Er]);if("function"==typeof t)return t}function O(e){return e&&"number"==typeof e.length}function x(e){return null===e||void 0===e?M():a(e)?e.toSeq():U(e)}function C(e){return null===e||void 0===e?M().toKeyedSeq():a(e)?i(e)?e.toSeq():e.fromEntrySeq():W(e)}function A(e){return null===e||void 0===e?M():a(e)?i(e)?e.entrySeq():e.toIndexedSeq():F(e)}function j(e){return(null===e||void 0===e?M():a(e)?i(e)?e.entrySeq():e:F(e)).toSetSeq()}function D(e){this._array=e,this.size=e.length}function P(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function q(e){this._iterable=e,this.size=e.length||e.size}function L(e){this._iterator=e,this._iteratorCache=[]}function N(e){return!(!e||!e[Rr])}function M(){return Tr||(Tr=new D([]))}function W(e){var t=Array.isArray(e)?new D(e).fromEntrySeq():R(e)?new L(e).fromEntrySeq():k(e)?new q(e).fromEntrySeq():"object"==typeof e?new P(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function F(e){var t=z(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function U(e){var t=z(e)||"object"==typeof e&&new P(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function z(e){return O(e)?new D(e):R(e)?new L(e):k(e)?new q(e):void 0}function B(e,t,r,n){var o=e._cache;if(o){for(var a=o.length-1,i=0;i<=a;i++){var s=o[r?a-i:i];if(t(s[1],n?s[0]:i,e)===!1)return i+1}return i}return e.__iterateUncached(t,r)}function Q(e,t,r,n){var o=e._cache;if(o){var a=o.length-1,i=0;return new b(function(){var e=o[r?a-i:i];return i++>a?E():S(t,n?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,r)}function K(e,t){return t?H(t,e,"",{"":e}):V(e)}function H(e,t,r,n){return Array.isArray(t)?e.call(n,r,A(t).map(function(r,n){return H(e,r,n,t)})):G(t)?e.call(n,r,C(t).map(function(r,n){return H(e,r,n,t)})):t}function V(e){return Array.isArray(e)?A(e).map(V).toList():G(e)?C(e).map(V).toMap():e}function G(e){return e&&(e.constructor===Object||void 0===e.constructor)}function J(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function Y(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||i(e)!==i(t)||s(e)!==s(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!l(e);if(u(e)){var n=e.entries();return t.every(function(e,t){var o=n.next().value;return o&&J(o[1],e)&&(r||J(o[0],t))})&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var c=e;e=t,t=c}var d=!0,f=t.__iterate(function(t,n){if(r?!e.has(t):o?!J(t,e.get(n,_r)):!J(e.get(n,_r),t))return d=!1,!1});return d&&e.size===f}function $(e,t){if(!(this instanceof $))return new $(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Ir)return Ir;Ir=this}}function X(e,t){if(!e)throw new Error(t)}function Z(e,t,r){if(!(this instanceof Z))return new Z(e,t,r);if(X(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(Or)return Or;Or=this}}function ee(){throw TypeError("Abstract")}function te(){}function re(){}function ne(){}function oe(e){return e>>>1&1073741824|3221225471&e}function ae(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)e/=4294967295,r^=e;return oe(r)}if("string"===t)return e.length>Lr?ie(e):se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ie(e){var t=Wr[e];return void 0===t&&(t=se(e),Mr===Nr&&(Mr=0,Wr={}),Mr++,Wr[e]=t),t}function se(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return oe(t)}function le(e){var t;if(Dr&&(t=xr.get(e),void 0!==t))return t;if(t=e[qr],void 0!==t)return t;if(!jr){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[qr],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++Pr,1073741824&Pr&&(Pr=0),Dr)xr.set(e,t);else{if(void 0!==Ar&&Ar(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(jr)Object.defineProperty(e,qr,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[qr]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[qr]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ce(e){X(e!==1/0,"Cannot perform this action with an infinite size.")}function de(e){return null===e||void 0===e?Se():fe(e)&&!u(e)?e:Se().withMutations(function(t){var n=r(e);ce(n.size),n.forEach(function(e,r){return t.set(r,e)})})}function fe(e){return!(!e||!e[Fr])}function pe(e,t){this.ownerID=e,this.entries=t}function he(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function me(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function _e(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function ge(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function we(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&ye(e._root)}function ve(e,t){return S(e,t[0],t[1])}function ye(e,t){return{node:e,index:0,__prev:t}}function be(e,t,r,n){var o=Object.create(Ur);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Se(){return zr||(zr=be(0))}function Ee(e,t,r){var n,o;if(e._root){var a=c(gr),i=c(wr);if(n=ke(e._root,e.__ownerID,0,void 0,t,r,a,i),!i.value)return e;o=e.size+(a.value?r===_r?-1:1:0)}else{if(r===_r)return e;o=1,n=new pe(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?be(o,n):Se()}function ke(e,t,r,n,o,a,i,s){return e?e.update(t,r,n,o,a,i,s):a===_r?e:(d(s),d(i),new ge(t,n,[o,a]))}function Re(e){return e.constructor===ge||e.constructor===_e}function Te(e,t,r,n,o){if(e.keyHash===n)return new _e(t,n,[e.entry,o]);var a,i=(0===r?e.keyHash:e.keyHash>>>r)&mr,s=(0===r?n:n>>>r)&mr,l=i===s?[Te(e,t,r+pr,n,o)]:(a=new ge(t,n,o),i<s?[e,a]:[a,e]);return new he(t,1<<i|1<<s,l)}function Ie(e,t,r,n){e||(e=new f);for(var o=new ge(e,ae(r),[r,n]),a=0;a<t.length;a++){var i=t[a];o=o.update(e,0,void 0,i[0],i[1])}return o}function Oe(e,t,r,n){for(var o=0,a=0,i=new Array(r),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==n&&(o|=l,i[a++]=c)}return new he(e,o,i)}function xe(e,t,r,n,o){for(var a=0,i=new Array(hr),s=0;0!==r;s++,r>>>=1)i[s]=1&r?t[a++]:void 0;return i[n]=o,new me(e,a+1,i)}function Ce(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=r(s);a(s)||(l=l.map(function(e){return K(e)})),o.push(l)}return De(e,t,o)}function Ae(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):J(e,t)?e:t}function je(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var o=e(t,r,n);return J(t,o)?t:o}}function De(e,t,r){return r=r.filter(function(e){return 0!==e.size}),0===r.length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var n=t?function(r,n){e.update(n,_r,function(e){return e===_r?r:t(e,r,n)})}:function(t,r){e.set(r,t)},o=0;o<r.length;o++)r[o].forEach(n)}):e.constructor(r[0])}function Pe(e,t,r,n){var o=e===_r,a=t.next();if(a.done){var i=o?r:e,s=n(i);return s===i?e:s}X(o||e&&e.set,"invalid keyPath");var l=a.value,u=o?_r:e.get(l,_r),c=Pe(u,t,r,n);return c===u?e:c===_r?e.remove(l):(o?Se():e).set(l,c)}function qe(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Le(e,t,r,n){var o=n?e:p(e);return o[t]=r,o}function Ne(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var a=new Array(o),i=0,s=0;s<o;s++)s===t?(a[s]=r,i=-1):a[s]=e[s+i];return a}function Me(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),a=0,i=0;i<n;i++)i===t&&(a=1),o[i]=e[i+a];return o}function We(e){var t=Qe();if(null===e||void 0===e)return t;if(Fe(e))return e;var r=n(e),o=r.size;return 0===o?t:(ce(o),o>0&&o<hr?Be(0,o,pr,null,new Ue(r.toArray())):t.withMutations(function(e){e.setSize(o),r.forEach(function(t,r){return e.set(r,t)})}))}function Fe(e){return!(!e||!e[Hr])}function Ue(e,t){this.array=e,this.ownerID=t}function ze(e,t){function r(e,t,r){return 0===t?n(e,r):o(e,t,r)}function n(e,r){var n=r===s?l&&l.array:e&&e.array,o=r>a?0:a-r,u=i-r;return u>hr&&(u=hr),function(){if(o===u)return Jr;var e=t?--u:o++;return n&&n[e]}}function o(e,n,o){var s,l=e&&e.array,u=o>a?0:a-o>>n,c=(i-o>>n)+1;return c>hr&&(c=hr),function(){for(;;){if(s){var e=s();if(e!==Jr)return e;s=null}if(u===c)return Jr;var a=t?--c:u++;s=r(l&&l[a],n-pr,o+(a<<n))}}}var a=e._origin,i=e._capacity,s=$e(i),l=e._tail;return r(e._root,e._level,0)}function Be(e,t,r,n,o,a,i){var s=Object.create(Vr);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=o,s.__ownerID=a,s.__hash=i,s.__altered=!1,s}function Qe(){return Gr||(Gr=Be(0,0,pr))}function Ke(e,t,r){if(t=m(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Je(e,t).set(0,r):Je(e,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,o=e._root,a=c(wr);return t>=$e(e._capacity)?n=He(n,e.__ownerID,0,t,r,a):o=He(o,e.__ownerID,e._level,t,r,a),a.value?e.__ownerID?(e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Be(e._origin,e._capacity,e._level,o,n):e}function He(e,t,r,n,o,a){var i=n>>>r&mr,s=e&&i<e.array.length;if(!s&&void 0===o)return e;var l;if(r>0){var u=e&&e.array[i],c=He(u,t,r-pr,n,o,a);return c===u?e:(l=Ve(e,t),l.array[i]=c,l)}return s&&e.array[i]===o?e:(d(a),l=Ve(e,t),void 0===o&&i===l.array.length-1?l.array.pop():l.array[i]=o,l)}function Ve(e,t){return t&&e&&t===e.ownerID?e:new Ue(e?e.array.slice():[],t)}function Ge(e,t){if(t>=$e(e._capacity))return e._tail;if(t<1<<e._level+pr){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&mr],n-=pr;return r}}function Je(e,t,r){void 0!==t&&(t=0|t),void 0!==r&&(r=0|r);var n=e.__ownerID||new f,o=e._origin,a=e._capacity,i=o+t,s=void 0===r?a:r<0?a+r:o+r;if(i===o&&s===a)return e;if(i>=s)return e.clear();for(var l=e._level,u=e._root,c=0;i+c<0;)u=new Ue(u&&u.array.length?[void 0,u]:[],n),l+=pr,c+=1<<l;c&&(i+=c,o+=c,s+=c,a+=c);for(var d=$e(a),p=$e(s);p>=1<<l+pr;)u=new Ue(u&&u.array.length?[u]:[],n),l+=pr;var h=e._tail,m=p<d?Ge(e,s-1):p>d?new Ue([],n):h;if(h&&p>d&&i<a&&h.array.length){u=Ve(u,n);for(var _=u,g=l;g>pr;g-=pr){var w=d>>>g&mr;_=_.array[w]=Ve(_.array[w],n)}_.array[d>>>pr&mr]=h}if(s<a&&(m=m&&m.removeAfter(n,0,s)),i>=p)i-=p,s-=p,l=pr,u=null,m=m&&m.removeBefore(n,0,i);else if(i>o||p<d){for(c=0;u;){var v=i>>>l&mr;if(v!==p>>>l&mr)break;v&&(c+=(1<<l)*v),l-=pr,u=u.array[v]}u&&i>o&&(u=u.removeBefore(n,l,i-c)),u&&p<d&&(u=u.removeAfter(n,l,p-c)),c&&(i-=c,s-=c)}return e.__ownerID?(e.size=s-i,e._origin=i,e._capacity=s,e._level=l,e._root=u,e._tail=m,e.__hash=void 0,e.__altered=!0,e):Be(i,s,l,u,m)}function Ye(e,t,r){for(var o=[],i=0,s=0;s<r.length;s++){var l=r[s],u=n(l);u.size>i&&(i=u.size),a(l)||(u=u.map(function(e){return K(e)})),o.push(u)}return i>e.size&&(e=e.setSize(i)),De(e,t,o)}function $e(e){return e<hr?0:e-1>>>pr<<pr}function Xe(e){return null===e||void 0===e?tt():Ze(e)?e:tt().withMutations(function(t){var n=r(e);ce(n.size),n.forEach(function(e,r){return t.set(r,e)})})}function Ze(e){return fe(e)&&u(e)}function et(e,t,r,n){var o=Object.create(Xe.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o}function tt(){return Yr||(Yr=et(Se(),Qe()))}function rt(e,t,r){var n,o,a=e._map,i=e._list,s=a.get(t),l=void 0!==s;if(r===_r){if(!l)return e;i.size>=hr&&i.size>=2*a.size?(o=i.filter(function(e,t){return void 0!==e&&s!==t}),n=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=a.remove(t),o=s===i.size-1?i.pop():i.set(s,void 0))}else if(l){if(r===i.get(s)[1])return e;n=a,o=i.set(s,[t,r])}else n=a.set(t,i.size),o=i.set(i.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e):et(n,o)}function nt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function st(e){var t=Ot(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=xt,t.__iterateUncached=function(t,r){var n=this;return e.__iterate(function(e,r){return t(r,e,n)!==!1},r)},t.__iteratorUncached=function(t,r){if(t===br){var n=e.__iterator(t,r);return new b(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===yr?vr:yr,r)},t}function lt(e,t,r){var n=Ot(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var a=e.get(n,_r);return a===_r?o:t.call(r,a,n,e)},n.__iterateUncached=function(n,o){var a=this;return e.__iterate(function(e,o,i){return n(t.call(r,e,o,i),o,a)!==!1},o)},n.__iteratorUncached=function(n,o){var a=e.__iterator(br,o);return new b(function(){var o=a.next();if(o.done)return o;var i=o.value,s=i[0];return S(n,s,t.call(r,i[1],s,e),o)})},n}function ut(e,t){var r=Ot(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=st(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=xt,r.__iterate=function(t,r){var n=this;return e.__iterate(function(e,r){return t(e,r,n)},!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function ct(e,t,r,n){var o=Ot(e);return n&&(o.has=function(n){var o=e.get(n,_r);return o!==_r&&!!t.call(r,o,n,e)},o.get=function(n,o){var a=e.get(n,_r);return a!==_r&&t.call(r,a,n,e)?a:o}),o.__iterateUncached=function(o,a){var i=this,s=0;return e.__iterate(function(e,a,l){if(t.call(r,e,a,l))return s++,o(e,n?a:s-1,i)},a),s},o.__iteratorUncached=function(o,a){var i=e.__iterator(br,a),s=0;return new b(function(){for(;;){var a=i.next();if(a.done)return a;var l=a.value,u=l[0],c=l[1];if(t.call(r,c,u,e))return S(o,n?u:s++,c,a)}})},o}function dt(e,t,r){var n=de().asMutable();return e.__iterate(function(o,a){n.update(t.call(r,o,a,e),0,function(e){return e+1})}),n.asImmutable()}function ft(e,t,r){var n=i(e),o=(u(e)?Xe():de()).asMutable();e.__iterate(function(a,i){o.update(t.call(r,a,i,e),function(e){return e=e||[],e.push(n?[i,a]:a),e})});var a=It(e);return o.map(function(t){return kt(e,a(t))})}function pt(e,t,r,n){var o=e.size;if(void 0!==t&&(t=0|t),void 0!==r&&(r=r===1/0?o:0|r),g(t,r,o))return e;var a=w(t,o),i=v(r,o);if(a!==a||i!==i)return pt(e.toSeq().cacheResult(),t,r,n);var s,l=i-a;l===l&&(s=l<0?0:l);var u=Ot(e);return u.size=0===s?s:e.size&&s||void 0,!n&&N(e)&&s>=0&&(u.get=function(t,r){return t=m(this,t),t>=0&&t<s?e.get(t+a,r):r}),u.__iterateUncached=function(t,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var i=0,l=!0,u=0;return e.__iterate(function(e,r){if(!l||!(l=i++<a))return u++,t(e,n?r:u-1,o)!==!1&&u!==s}),u},u.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);var o=0!==s&&e.__iterator(t,r),i=0,l=0;return new b(function(){for(;i++<a;)o.next();if(++l>s)return E();var e=o.next();return n||t===yr?e:t===vr?S(t,l-1,void 0,e):S(t,l-1,e.value[1],e)})},u}function ht(e,t,r){var n=Ot(e);return n.__iterateUncached=function(n,o){var a=this;if(o)return this.cacheResult().__iterate(n,o);var i=0;return e.__iterate(function(e,o,s){return t.call(r,e,o,s)&&++i&&n(e,o,a)}),i},n.__iteratorUncached=function(n,o){var a=this;if(o)return this.cacheResult().__iterator(n,o);var i=e.__iterator(br,o),s=!0;return new b(function(){if(!s)return E();var e=i.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(r,u,l,a)?n===br?e:S(n,l,u,e):(s=!1,E())})},n}function mt(e,t,r,n){var o=Ot(e);return o.__iterateUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterate(o,a);var s=!0,l=0;return e.__iterate(function(e,a,u){if(!s||!(s=t.call(r,e,a,u)))return l++,o(e,n?a:l-1,i)}),l},o.__iteratorUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterator(o,a);var s=e.__iterator(br,a),l=!0,u=0;return new b(function(){var e,a,c;do{if(e=s.next(),e.done)return n||o===yr?e:o===vr?S(o,u++,void 0,e):S(o,u++,e.value[1],e);var d=e.value;a=d[0],c=d[1],l&&(l=t.call(r,c,a,i))}while(l);return o===br?e:S(o,a,c,e)})},o}function _t(e,t){var n=i(e),o=[e].concat(t).map(function(e){return a(e)?n&&(e=r(e)):e=n?W(e):F(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var l=o[0];if(l===e||n&&i(l)||s(e)&&s(l))return l}var u=new D(o);return n?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=o.reduce(function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}},0),u}function gt(e,t,r){var n=Ot(e);return n.__iterateUncached=function(n,o){function i(e,u){var c=this;e.__iterate(function(e,o){return(!t||u<t)&&a(e)?i(e,u+1):n(e,r?o:s++,c)===!1&&(l=!0),!l},o)}var s=0,l=!1;return i(e,0),s},n.__iteratorUncached=function(n,o){var i=e.__iterator(n,o),s=[],l=0;return new b(function(){for(;i;){var e=i.next();if(e.done===!1){var u=e.value;if(n===br&&(u=u[1]),t&&!(s.length<t)||!a(u))return r?e:S(n,l++,u,e);s.push(i),i=u.__iterator(n,o)}else i=s.pop()}return E()})},n}function wt(e,t,r){var n=It(e);return e.toSeq().map(function(o,a){return n(t.call(r,o,a,e))}).flatten(!0)}function vt(e,t){var r=Ot(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,a=0;return e.__iterate(function(e,n){return(!a||r(t,a++,o)!==!1)&&r(e,a++,o)!==!1},n),a},r.__iteratorUncached=function(r,n){var o,a=e.__iterator(yr,n),i=0;return new b(function(){return(!o||i%2)&&(o=a.next(),o.done)?o:i%2?S(r,i++,t):S(r,i++,o.value,o)})},r}function yt(e,t,r){t||(t=Ct);var n=i(e),o=0,a=e.toSeq().map(function(t,n){return[n,t,o++,r?r(t,n,e):t]}).toArray();return a.sort(function(e,r){return t(e[3],r[3])||e[2]-r[2]}).forEach(n?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),n?C(a):s(e)?A(a):j(a)}function bt(e,t,r){if(t||(t=Ct),r){var n=e.toSeq().map(function(t,n){return[t,r(t,n,e)]}).reduce(function(e,r){return St(t,e[1],r[1])?r:e});return n&&n[0]}return e.reduce(function(e,r){return St(t,e,r)?r:e})}function St(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(void 0===r||null===r||r!==r)||n>0}function Et(e,r,n){var o=Ot(e);return o.size=new D(n).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(yr,t),o=0;!(r=n.next()).done&&e(r.value,o++,this)!==!1;);return o},o.__iteratorUncached=function(e,o){var a=n.map(function(e){return e=t(e),T(o?e.reverse():e)}),i=0,s=!1;return new b(function(){var t;return s||(t=a.map(function(e){return e.next()}),s=t.some(function(e){return e.done})),s?E():S(e,i++,r.apply(null,t.map(function(e){return e.value})))})},o}function kt(e,t){return N(e)?t:e.constructor(t)}function Rt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Tt(e){return ce(e.size),h(e)}function It(e){return i(e)?r:s(e)?n:o}function Ot(e){return Object.create((i(e)?C:s(e)?A:j).prototype)}function xt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):x.prototype.cacheResult.call(this)}function Ct(e,t){return e>t?1:e<t?-1:0}function At(e){var r=T(e);if(!r){if(!O(e))throw new TypeError("Expected iterable or array-like: "+e);r=T(t(e))}return r}function jt(e,t){var r,n=function(a){if(a instanceof n)return a;if(!(this instanceof n))return new n(a);if(!r){r=!0;var i=Object.keys(e);qt(o,i),o.size=i.length,o._name=t,o._keys=i,o._defaultValues=e}this._map=de(a)},o=n.prototype=Object.create($r);return o.constructor=n,n}function Dt(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function Pt(e){return e._name||e.constructor.name||"Record"}function qt(e,t){try{t.forEach(Lt.bind(void 0,e))}catch(r){}}function Lt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){X(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Nt(e){return null===e||void 0===e?Ut():Mt(e)&&!u(e)?e:Ut().withMutations(function(t){var r=o(e);ce(r.size),r.forEach(function(e){return t.add(e)})})}function Mt(e){return!(!e||!e[Xr])}function Wt(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ft(e,t){var r=Object.create(Zr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Ut(){return en||(en=Ft(Se()))}function zt(e){return null===e||void 0===e?Kt():Bt(e)?e:Kt().withMutations(function(t){var r=o(e);ce(r.size),r.forEach(function(e){return t.add(e)})})}function Bt(e){return Mt(e)&&u(e)}function Qt(e,t){var r=Object.create(tn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Kt(){return rn||(rn=Qt(tt()))}function Ht(e){return null===e||void 0===e?Jt():Vt(e)?e:Jt().unshiftAll(e)}function Vt(e){return!(!e||!e[nn])}function Gt(e,t,r,n){var o=Object.create(on);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Jt(){return an||(an=Gt(0))}function Yt(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function $t(e,t){return t}function Xt(e,t){return[t,e]}function Zt(e){return function(){return!e.apply(this,arguments)}}function er(e){return function(){return-e.apply(this,arguments)}}function tr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function rr(){return p(arguments)}function nr(e,t){return e<t?1:e>t?-1:0}function or(e){if(e.size===1/0)return 0;var t=u(e),r=i(e),n=t?1:0,o=e.__iterate(r?t?function(e,t){n=31*n+ir(ae(e),ae(t))|0}:function(e,t){n=n+ir(ae(e),ae(t))|0}:t?function(e){n=31*n+ae(e)|0}:function(e){n=n+ae(e)|0});return ar(o,n)}function ar(e,t){return t=Cr(t,3432918353),t=Cr(t<<15|t>>>-15,461845907),t=Cr(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Cr(t^t>>>16,2246822507),t=Cr(t^t>>>13,3266489909),t=oe(t^t>>>16)}function ir(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var sr=Array.prototype.slice;e(r,t),e(n,t),e(o,t),t.isIterable=a,t.isKeyed=i,t.isIndexed=s,t.isAssociative=l,t.isOrdered=u,t.Keyed=r,t.Indexed=n,t.Set=o;var lr="@@__IMMUTABLE_ITERABLE__@@",ur="@@__IMMUTABLE_KEYED__@@",cr="@@__IMMUTABLE_INDEXED__@@",dr="@@__IMMUTABLE_ORDERED__@@",fr="delete",pr=5,hr=1<<pr,mr=hr-1,_r={},gr={value:!1},wr={value:!1},vr=0,yr=1,br=2,Sr="function"==typeof Symbol&&Symbol.iterator,Er="@@iterator",kr=Sr||Er;b.prototype.toString=function(){return"[Iterator]"},b.KEYS=vr,b.VALUES=yr,b.ENTRIES=br,b.prototype.inspect=b.prototype.toSource=function(){return this.toString()},b.prototype[kr]=function(){return this},e(x,t),x.of=function(){return x(arguments)},x.prototype.toSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq {","}")},x.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},x.prototype.__iterate=function(e,t){return B(this,e,t,!0)},x.prototype.__iterator=function(e,t){return Q(this,e,t,!0)},e(C,x),C.prototype.toKeyedSeq=function(){return this},e(A,x),A.of=function(){return A(arguments)},A.prototype.toIndexedSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq [","]")},A.prototype.__iterate=function(e,t){return B(this,e,t,!1)},A.prototype.__iterator=function(e,t){return Q(this,e,t,!1)},e(j,x),j.of=function(){return j(arguments)},j.prototype.toSetSeq=function(){return this},x.isSeq=N,x.Keyed=C,x.Set=j,x.Indexed=A;var Rr="@@__IMMUTABLE_SEQ__@@";x.prototype[Rr]=!0,e(D,A),D.prototype.get=function(e,t){return this.has(e)?this._array[m(this,e)]:t},D.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(e(r[t?n-o:o],o,this)===!1)return o+1;return o},D.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,o=0;return new b(function(){return o>n?E():S(e,o,r[t?n-o++:o++])})},e(P,C),P.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},P.prototype.has=function(e){return this._object.hasOwnProperty(e)},P.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length-1,a=0;a<=o;a++){var i=n[t?o-a:a];if(e(r[i],i,this)===!1)return a+1}return a},P.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length-1,a=0;return new b(function(){var i=n[t?o-a:a];return a++>o?E():S(e,i,r[i])})},P.prototype[dr]=!0,e(q,A),q.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=this._iterable,n=T(r),o=0;if(R(n))for(var a;!(a=n.next()).done&&e(a.value,o++,this)!==!1;);return o},q.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterable,n=T(r);if(!R(n))return new b(E);var o=0;return new b(function(){var t=n.next();return t.done?t:S(e,o++,t.value)})},e(L,A),L.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r=this._iterator,n=this._iteratorCache,o=0;o<n.length;)if(e(n[o],o++,this)===!1)return o;for(var a;!(a=r.next()).done;){var i=a.value;if(n[o]=i,e(i,o++,this)===!1)break}return o},L.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,o=0;return new b(function(){if(o>=n.length){var t=r.next();if(t.done)return t;n[o]=t.value}return S(e,o,n[o++])})};var Tr;e($,A),$.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},$.prototype.get=function(e,t){return this.has(e)?this._value:t},$.prototype.includes=function(e){return J(this._value,e)},$.prototype.slice=function(e,t){var r=this.size;return g(e,t,r)?this:new $(this._value,v(t,r)-w(e,r))},$.prototype.reverse=function(){return this},$.prototype.indexOf=function(e){return J(this._value,e)?0:-1},$.prototype.lastIndexOf=function(e){return J(this._value,e)?this.size:-1},$.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(e(this._value,r,this)===!1)return r+1;return r},$.prototype.__iterator=function(e,t){var r=this,n=0;return new b(function(){return n<r.size?S(e,n++,r._value):E()})},$.prototype.equals=function(e){return e instanceof $?J(this._value,e._value):Y(e)};var Ir;e(Z,A),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(e,t){return this.has(e)?this._start+m(this,e)*this._step:t},Z.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Z.prototype.slice=function(e,t){return g(e,t,this.size)?this:(e=w(e,this.size),t=v(t,this.size),t<=e?new Z(0,0):new Z(this.get(e,this._end),this.get(t,this._end),this._step))},Z.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},Z.prototype.lastIndexOf=function(e){return this.indexOf(e)},Z.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,a=0;a<=r;a++){if(e(o,a,this)===!1)return a+1;o+=t?-n:n}return a},Z.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,a=0;return new b(function(){var i=o;return o+=t?-n:n,a>r?E():S(e,a++,i)})},Z.prototype.equals=function(e){return e instanceof Z?this._start===e._start&&this._end===e._end&&this._step===e._step:Y(this,e)};var Or;e(ee,t),e(te,ee),e(re,ee),e(ne,ee),ee.Keyed=te,ee.Indexed=re,ee.Set=ne;var xr,Cr="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e=0|e,t=0|t;var r=65535&e,n=65535&t;return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0},Ar=Object.isExtensible,jr=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Dr="function"==typeof WeakMap;Dr&&(xr=new WeakMap);var Pr=0,qr="__immutablehash__";"function"==typeof Symbol&&(qr=Symbol(qr));var Lr=16,Nr=255,Mr=0,Wr={};e(de,te),de.of=function(){var e=sr.call(arguments,0);return Se().withMutations(function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}})},de.prototype.toString=function(){return this.__toString("Map {","}")},de.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},de.prototype.set=function(e,t){return Ee(this,e,t)},de.prototype.setIn=function(e,t){return this.updateIn(e,_r,function(){return t})},de.prototype.remove=function(e){return Ee(this,e,_r)},de.prototype.deleteIn=function(e){return this.updateIn(e,function(){return _r})},de.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},de.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=Pe(this,At(e),t,r);return n===_r?void 0:n},de.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,
this._root=null,this.__hash=void 0,this.__altered=!0,this):Se()},de.prototype.merge=function(){return Ce(this,void 0,arguments)},de.prototype.mergeWith=function(e){var t=sr.call(arguments,1);return Ce(this,e,t)},de.prototype.mergeIn=function(e){var t=sr.call(arguments,1);return this.updateIn(e,Se(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},de.prototype.mergeDeep=function(){return Ce(this,Ae,arguments)},de.prototype.mergeDeepWith=function(e){var t=sr.call(arguments,1);return Ce(this,je(e),t)},de.prototype.mergeDeepIn=function(e){var t=sr.call(arguments,1);return this.updateIn(e,Se(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},de.prototype.sort=function(e){return Xe(yt(this,e))},de.prototype.sortBy=function(e,t){return Xe(yt(this,t,e))},de.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},de.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new f)},de.prototype.asImmutable=function(){return this.__ensureOwner()},de.prototype.wasAltered=function(){return this.__altered},de.prototype.__iterator=function(e,t){return new we(this,e,t)},de.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},de.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?be(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},de.isMap=fe;var Fr="@@__IMMUTABLE_MAP__@@",Ur=de.prototype;Ur[Fr]=!0,Ur[fr]=Ur.remove,Ur.removeIn=Ur.deleteIn,pe.prototype.get=function(e,t,r,n){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(J(r,o[a][0]))return o[a][1];return n},pe.prototype.update=function(e,t,r,n,o,a,i){for(var s=o===_r,l=this.entries,u=0,c=l.length;u<c&&!J(n,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(d(i),(s||!f)&&d(a),!s||1!==l.length){if(!f&&!s&&l.length>=Br)return Ie(e,l,n,o);var h=e&&e===this.ownerID,m=h?l:p(l);return f?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[n,o]:m.push([n,o]),h?(this.entries=m,this):new pe(e,m)}},he.prototype.get=function(e,t,r,n){void 0===t&&(t=ae(r));var o=1<<((0===e?t:t>>>e)&mr),a=this.bitmap;return 0===(a&o)?n:this.nodes[qe(a&o-1)].get(e+pr,t,r,n)},he.prototype.update=function(e,t,r,n,o,a,i){void 0===r&&(r=ae(n));var s=(0===t?r:r>>>t)&mr,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&o===_r)return this;var d=qe(u&l-1),f=this.nodes,p=c?f[d]:void 0,h=ke(p,e,t+pr,r,n,o,a,i);if(h===p)return this;if(!c&&h&&f.length>=Qr)return xe(e,f,u,s,h);if(c&&!h&&2===f.length&&Re(f[1^d]))return f[1^d];if(c&&h&&1===f.length&&Re(h))return h;var m=e&&e===this.ownerID,_=c?h?u:u^l:u|l,g=c?h?Le(f,d,h,m):Me(f,d,m):Ne(f,d,h,m);return m?(this.bitmap=_,this.nodes=g,this):new he(e,_,g)},me.prototype.get=function(e,t,r,n){void 0===t&&(t=ae(r));var o=(0===e?t:t>>>e)&mr,a=this.nodes[o];return a?a.get(e+pr,t,r,n):n},me.prototype.update=function(e,t,r,n,o,a,i){void 0===r&&(r=ae(n));var s=(0===t?r:r>>>t)&mr,l=o===_r,u=this.nodes,c=u[s];if(l&&!c)return this;var d=ke(c,e,t+pr,r,n,o,a,i);if(d===c)return this;var f=this.count;if(c){if(!d&&(f--,f<Kr))return Oe(e,u,f,s)}else f++;var p=e&&e===this.ownerID,h=Le(u,s,d,p);return p?(this.count=f,this.nodes=h,this):new me(e,f,h)},_e.prototype.get=function(e,t,r,n){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(J(r,o[a][0]))return o[a][1];return n},_e.prototype.update=function(e,t,r,n,o,a,i){void 0===r&&(r=ae(n));var s=o===_r;if(r!==this.keyHash)return s?this:(d(i),d(a),Te(this,e,t,r,[n,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!J(n,l[u][0]);u++);var f=u<c;if(f?l[u][1]===o:s)return this;if(d(i),(s||!f)&&d(a),s&&2===c)return new ge(e,this.keyHash,l[1^u]);var h=e&&e===this.ownerID,m=h?l:p(l);return f?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[n,o]:m.push([n,o]),h?(this.entries=m,this):new _e(e,this.keyHash,m)},ge.prototype.get=function(e,t,r,n){return J(r,this.entry[0])?this.entry[1]:n},ge.prototype.update=function(e,t,r,n,o,a,i){var s=o===_r,l=J(n,this.entry[0]);return(l?o===this.entry[1]:s)?this:(d(i),s?void d(a):l?e&&e===this.ownerID?(this.entry[1]=o,this):new ge(e,this.keyHash,[n,o]):(d(a),Te(this,e,t,ae(n),[n,o])))},pe.prototype.iterate=_e.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(e(r[t?o-n:n])===!1)return!1},he.prototype.iterate=me.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var a=r[t?o-n:n];if(a&&a.iterate(e,t)===!1)return!1}},ge.prototype.iterate=function(e,t){return e(this.entry)},e(we,b),we.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,o=t.index++;if(n.entry){if(0===o)return ve(e,n.entry)}else if(n.entries){if(r=n.entries.length-1,o<=r)return ve(e,n.entries[this._reverse?r-o:o])}else if(r=n.nodes.length-1,o<=r){var a=n.nodes[this._reverse?r-o:o];if(a){if(a.entry)return ve(e,a.entry);t=this._stack=ye(a,t)}continue}t=this._stack=this._stack.__prev}return E()};var zr,Br=hr/4,Qr=hr/2,Kr=hr/4;e(We,re),We.of=function(){return this(arguments)},We.prototype.toString=function(){return this.__toString("List [","]")},We.prototype.get=function(e,t){if(e=m(this,e),e>=0&&e<this.size){e+=this._origin;var r=Ge(this,e);return r&&r.array[e&mr]}return t},We.prototype.set=function(e,t){return Ke(this,e,t)},We.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},We.prototype.insert=function(e,t){return this.splice(e,0,t)},We.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=pr,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Qe()},We.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(r){Je(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])})},We.prototype.pop=function(){return Je(this,0,-1)},We.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Je(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])})},We.prototype.shift=function(){return Je(this,1)},We.prototype.merge=function(){return Ye(this,void 0,arguments)},We.prototype.mergeWith=function(e){var t=sr.call(arguments,1);return Ye(this,e,t)},We.prototype.mergeDeep=function(){return Ye(this,Ae,arguments)},We.prototype.mergeDeepWith=function(e){var t=sr.call(arguments,1);return Ye(this,je(e),t)},We.prototype.setSize=function(e){return Je(this,0,e)},We.prototype.slice=function(e,t){var r=this.size;return g(e,t,r)?this:Je(this,w(e,r),v(t,r))},We.prototype.__iterator=function(e,t){var r=0,n=ze(this,t);return new b(function(){var t=n();return t===Jr?E():S(e,r++,t)})},We.prototype.__iterate=function(e,t){for(var r,n=0,o=ze(this,t);(r=o())!==Jr&&e(r,n++,this)!==!1;);return n},We.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Be(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},We.isList=Fe;var Hr="@@__IMMUTABLE_LIST__@@",Vr=We.prototype;Vr[Hr]=!0,Vr[fr]=Vr.remove,Vr.setIn=Ur.setIn,Vr.deleteIn=Vr.removeIn=Ur.removeIn,Vr.update=Ur.update,Vr.updateIn=Ur.updateIn,Vr.mergeIn=Ur.mergeIn,Vr.mergeDeepIn=Ur.mergeDeepIn,Vr.withMutations=Ur.withMutations,Vr.asMutable=Ur.asMutable,Vr.asImmutable=Ur.asImmutable,Vr.wasAltered=Ur.wasAltered,Ue.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&mr;if(n>=this.array.length)return new Ue([],e);var o,a=0===n;if(t>0){var i=this.array[n];if(o=i&&i.removeBefore(e,t-pr,r),o===i&&a)return this}if(a&&!o)return this;var s=Ve(this,e);if(!a)for(var l=0;l<n;l++)s.array[l]=void 0;return o&&(s.array[n]=o),s},Ue.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n=r-1>>>t&mr;if(n>=this.array.length)return this;var o;if(t>0){var a=this.array[n];if(o=a&&a.removeAfter(e,t-pr,r),o===a&&n===this.array.length-1)return this}var i=Ve(this,e);return i.array.splice(n+1),o&&(i.array[n]=o),i};var Gr,Jr={};e(Xe,de),Xe.of=function(){return this(arguments)},Xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Xe.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},Xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Xe.prototype.set=function(e,t){return rt(this,e,t)},Xe.prototype.remove=function(e){return rt(this,e,_r)},Xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Xe.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},Xe.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Xe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?et(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},Xe.isOrderedMap=Ze,Xe.prototype[dr]=!0,Xe.prototype[fr]=Xe.prototype.remove;var Yr;e(nt,C),nt.prototype.get=function(e,t){return this._iter.get(e,t)},nt.prototype.has=function(e){return this._iter.has(e)},nt.prototype.valueSeq=function(){return this._iter.valueSeq()},nt.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},nt.prototype.map=function(e,t){var r=this,n=lt(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},nt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?Tt(this):0,function(o){return e(o,t?--r:r++,n)}),t)},nt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(yr,t),n=t?Tt(this):0;return new b(function(){var o=r.next();return o.done?o:S(e,t?--n:n++,o.value,o)})},nt.prototype[dr]=!0,e(ot,A),ot.prototype.includes=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate(function(t){return e(t,n++,r)},t)},ot.prototype.__iterator=function(e,t){var r=this._iter.__iterator(yr,t),n=0;return new b(function(){var t=r.next();return t.done?t:S(e,n++,t.value,t)})},e(at,j),at.prototype.has=function(e){return this._iter.includes(e)},at.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},at.prototype.__iterator=function(e,t){var r=this._iter.__iterator(yr,t);return new b(function(){var t=r.next();return t.done?t:S(e,t.value,t.value,t)})},e(it,C),it.prototype.entrySeq=function(){return this._iter.toSeq()},it.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){if(t){Rt(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}},t)},it.prototype.__iterator=function(e,t){var r=this._iter.__iterator(yr,t);return new b(function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Rt(n);var o=a(n);return S(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}})},ot.prototype.cacheResult=nt.prototype.cacheResult=at.prototype.cacheResult=it.prototype.cacheResult=xt,e(jt,te),jt.prototype.toString=function(){return this.__toString(Pt(this)+" {","}")},jt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},jt.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},jt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Dt(this,Se()))},jt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Pt(this));if(this._map&&!this._map.has(e)){var r=this._defaultValues[e];if(t===r)return this}var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Dt(this,n)},jt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Dt(this,t)},jt.prototype.wasAltered=function(){return this._map.wasAltered()},jt.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},jt.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},jt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Dt(this,t,e):(this.__ownerID=e,this._map=t,this)};var $r=jt.prototype;$r[fr]=$r.remove,$r.deleteIn=$r.removeIn=Ur.removeIn,$r.merge=Ur.merge,$r.mergeWith=Ur.mergeWith,$r.mergeIn=Ur.mergeIn,$r.mergeDeep=Ur.mergeDeep,$r.mergeDeepWith=Ur.mergeDeepWith,$r.mergeDeepIn=Ur.mergeDeepIn,$r.setIn=Ur.setIn,$r.update=Ur.update,$r.updateIn=Ur.updateIn,$r.withMutations=Ur.withMutations,$r.asMutable=Ur.asMutable,$r.asImmutable=Ur.asImmutable,e(Nt,ne),Nt.of=function(){return this(arguments)},Nt.fromKeys=function(e){return this(r(e).keySeq())},Nt.prototype.toString=function(){return this.__toString("Set {","}")},Nt.prototype.has=function(e){return this._map.has(e)},Nt.prototype.add=function(e){return Wt(this,this._map.set(e,!0))},Nt.prototype.remove=function(e){return Wt(this,this._map.remove(e))},Nt.prototype.clear=function(){return Wt(this,this._map.clear())},Nt.prototype.union=function(){var e=sr.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var r=0;r<e.length;r++)o(e[r]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Nt.prototype.intersect=function(){var e=sr.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(r){t.forEach(function(t){e.every(function(e){return e.includes(t)})||r.remove(t)})})},Nt.prototype.subtract=function(){var e=sr.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(r){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&r.remove(t)})})},Nt.prototype.merge=function(){return this.union.apply(this,arguments)},Nt.prototype.mergeWith=function(e){var t=sr.call(arguments,1);return this.union.apply(this,t)},Nt.prototype.sort=function(e){return zt(yt(this,e))},Nt.prototype.sortBy=function(e,t){return zt(yt(this,t,e))},Nt.prototype.wasAltered=function(){return this._map.wasAltered()},Nt.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate(function(t,n){return e(n,n,r)},t)},Nt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Nt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Nt.isSet=Mt;var Xr="@@__IMMUTABLE_SET__@@",Zr=Nt.prototype;Zr[Xr]=!0,Zr[fr]=Zr.remove,Zr.mergeDeep=Zr.merge,Zr.mergeDeepWith=Zr.mergeWith,Zr.withMutations=Ur.withMutations,Zr.asMutable=Ur.asMutable,Zr.asImmutable=Ur.asImmutable,Zr.__empty=Ut,Zr.__make=Ft;var en;e(zt,Nt),zt.of=function(){return this(arguments)},zt.fromKeys=function(e){return this(r(e).keySeq())},zt.prototype.toString=function(){return this.__toString("OrderedSet {","}")},zt.isOrderedSet=Bt;var tn=zt.prototype;tn[dr]=!0,tn.__empty=Kt,tn.__make=Qt;var rn;e(Ht,re),Ht.of=function(){return this(arguments)},Ht.prototype.toString=function(){return this.__toString("Stack [","]")},Ht.prototype.get=function(e,t){var r=this._head;for(e=m(this,e);r&&e--;)r=r.next;return r?r.value:t},Ht.prototype.peek=function(){return this._head&&this._head.value},Ht.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Gt(e,t)},Ht.prototype.pushAll=function(e){if(e=n(e),0===e.size)return this;ce(e.size);var t=this.size,r=this._head;return e.reverse().forEach(function(e){t++,r={value:e,next:r}}),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Gt(t,r)},Ht.prototype.pop=function(){return this.slice(1)},Ht.prototype.unshift=function(){return this.push.apply(this,arguments)},Ht.prototype.unshiftAll=function(e){return this.pushAll(e)},Ht.prototype.shift=function(){return this.pop.apply(this,arguments)},Ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jt()},Ht.prototype.slice=function(e,t){if(g(e,t,this.size))return this;var r=w(e,this.size),n=v(t,this.size);if(n!==this.size)return re.prototype.slice.call(this,e,t);for(var o=this.size-r,a=this._head;r--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=void 0,this.__altered=!0,this):Gt(o,a)},Ht.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Gt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ht.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&e(n.value,r++,this)!==!1;)n=n.next;return r},Ht.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new b(function(){if(n){var t=n.value;return n=n.next,S(e,r++,t)}return E()})},Ht.isStack=Vt;var nn="@@__IMMUTABLE_STACK__@@",on=Ht.prototype;on[nn]=!0,on.withMutations=Ur.withMutations,on.asMutable=Ur.asMutable,on.asImmutable=Ur.asImmutable,on.wasAltered=Ur.wasAltered;var an;t.Iterator=b,Yt(t,{toArray:function(){ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,r){e[r]=t}),e},toIndexedSeq:function(){return new ot(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new nt(this,(!0))},toMap:function(){return de(this.toKeyedSeq())},toObject:function(){ce(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e},toOrderedMap:function(){return Xe(this.toKeyedSeq())},toOrderedSet:function(){return zt(i(this)?this.valueSeq():this)},toSet:function(){return Nt(i(this)?this.valueSeq():this)},toSetSeq:function(){return new at(this)},toSeq:function(){return s(this)?this.toIndexedSeq():i(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ht(i(this)?this.valueSeq():this)},toList:function(){return We(i(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=sr.call(arguments,0);return kt(this,_t(this,e))},includes:function(e){return this.some(function(t){return J(t,e)})},entries:function(){return this.__iterator(br)},every:function(e,t){ce(this.size);var r=!0;return this.__iterate(function(n,o,a){if(!e.call(t,n,o,a))return r=!1,!1}),r},filter:function(e,t){return kt(this,ct(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ce(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate(function(n){r?r=!1:t+=e,t+=null!==n&&void 0!==n?n.toString():""}),t},keys:function(){return this.__iterator(vr)},map:function(e,t){return kt(this,lt(this,e,t))},reduce:function(e,t,r){ce(this.size);var n,o;return arguments.length<2?o=!0:n=t,this.__iterate(function(t,a,i){o?(o=!1,n=t):n=e.call(r,n,t,a,i)}),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return kt(this,ut(this,!0))},slice:function(e,t){return kt(this,pt(this,e,t,!0))},some:function(e,t){return!this.every(Zt(e),t)},sort:function(e){return kt(this,yt(this,e))},values:function(){return this.__iterator(yr)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return dt(this,e,t)},equals:function(e){return Y(this,e)},entrySeq:function(){var e=this;if(e._cache)return new D(e._cache);var t=e.toSeq().map(Xt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Zt(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate(function(r,o,a){if(e.call(t,r,o,a))return n=[o,r],!1}),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(_)},flatMap:function(e,t){return kt(this,wt(this,e,t))},flatten:function(e){return kt(this,gt(this,e,!0))},fromEntrySeq:function(){return new it(this)},get:function(e,t){return this.find(function(t,r){return J(r,e)},void 0,t)},getIn:function(e,t){for(var r,n=this,o=At(e);!(r=o.next()).done;){var a=r.value;if(n=n&&n.get?n.get(a,_r):_r,n===_r)return t}return n},groupBy:function(e,t){return ft(this,e,t)},has:function(e){return this.get(e,_r)!==_r},hasIn:function(e){return this.getIn(e,_r)!==_r},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return J(t,e)})},keySeq:function(){return this.toSeq().map($t).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return bt(this,e)},maxBy:function(e,t){return bt(this,t,e)},min:function(e){return bt(this,e?er(e):nr)},minBy:function(e,t){return bt(this,t?er(t):nr,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return kt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return kt(this,mt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Zt(e),t)},sortBy:function(e,t){return kt(this,yt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return kt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return kt(this,ht(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Zt(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=or(this))}});var sn=t.prototype;sn[lr]=!0,sn[kr]=sn.values,sn.__toJS=sn.toArray,sn.__toStringMapper=tr,sn.inspect=sn.toSource=function(){return this.toString()},sn.chain=sn.flatMap,sn.contains=sn.includes,Yt(r,{flip:function(){return kt(this,st(this))},mapEntries:function(e,t){var r=this,n=0;return kt(this,this.toSeq().map(function(o,a){return e.call(t,[a,o],n++,r)}).fromEntrySeq())},mapKeys:function(e,t){var r=this;return kt(this,this.toSeq().flip().map(function(n,o){return e.call(t,n,o,r)}).flip())}});var ln=r.prototype;ln[ur]=!0,ln[kr]=sn.entries,ln.__toJS=sn.toObject,ln.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tr(e)},Yt(n,{toKeyedSeq:function(){return new nt(this,(!1))},filter:function(e,t){return kt(this,ct(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return kt(this,ut(this,!1))},slice:function(e,t){return kt(this,pt(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=w(e,e<0?this.count():this.size);var n=this.slice(0,e);return kt(this,1===r?n:n.concat(p(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return kt(this,gt(this,e,!1))},get:function(e,t){return e=m(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,r){return r===e},void 0,t)},has:function(e){return e=m(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return kt(this,vt(this,e))},interleave:function(){var e=[this].concat(p(arguments)),t=Et(this.toSeq(),A.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),kt(this,r)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return kt(this,mt(this,e,t,!1))},zip:function(){var e=[this].concat(p(arguments));return kt(this,Et(this,rr,e))},zipWith:function(e){var t=p(arguments);return t[0]=this,kt(this,Et(this,e,t))}}),n.prototype[cr]=!0,n.prototype[dr]=!0,Yt(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=sn.includes,o.prototype.contains=o.prototype.includes,Yt(C,r.prototype),Yt(A,n.prototype),Yt(j,o.prototype),Yt(te,r.prototype),Yt(re,n.prototype),Yt(ne,o.prototype);var un={Iterable:t,Seq:x,Collection:ee,Map:de,OrderedMap:Xe,List:We,Stack:Ht,Set:Nt,OrderedSet:zt,Record:jt,Range:Z,Repeat:$,is:J,fromJS:K};return un})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.TABLE_INIT="TABLE_INIT",t.TABLE_UPDATE="TABLE_UPDATE"},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setColSetVisible=t.setTableColSetkeys=t.tableColSet=t.setSelectedRowKeys=t.getDatas=t.tableUpdate=void 0;var a=r(129),i=(o(a),r(130)),s=n(i),l=r(132),u=n(l),c=t.tableUpdate=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return function(r,n){t=t||n().comsWeaTable.get("tableNow"),r({type:s.TABLE_UPDATE,name:t,value:e})}},d=t.getDatas=function(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?"":arguments[3];return function(o,a){var i=e?e.split("_")[0]:a().comsWeaTable.get("tableNow"),l=a().comsWeaTable.getIn([i,"requireTimes"])||0;o(e?{type:s.TABLE_INIT,name:i,value:{loading:!0,dataKey:e,selectedRowKeys:[],requireTimes:l+1}}:c({loading:!0,selectedRowKeys:[],requireTimes:l+1},i));var d=e?e:a().comsWeaTable.getIn([i,"dataKey"]),f=r&&r!==a().comsWeaTable.getIn([i,"pageSize"]),p=r?r:a().comsWeaTable.getIn([i,"pageSize"]),h=f?1:t?t:a().comsWeaTable.getIn([i,"current"]),m=n&&n.column?[{orderkey:n.column.orderkey,sortOrder:n.order}]:[],_=function(){Promise.all([u.getTableDatas({dataKey:d,current:h,sortParams:JSON.stringify(m)}).then(function(e){var t=a().comsWeaTable.getIn([i,"requireTimes"]);if(t===l+1)return o(c({dataKey:d,loading:!1,datas:e.datas,columns:e.columns,operates:e.ops,showCheck:e.haveCheck,pageAutoWrap:e.pageAutoWrap,pageSize:e.pageSize,current:h,sortParams:m},i)),e}),u.getTableCounts({dataKey:d}).then(function(e){var t=a().comsWeaTable.getIn([i,"requireTimes"]);if(t===l+1)return o(c({count:e.count},i)),e})]).then(function(e){if(e[0]){var t=e[0],r=t.haveCheck,n=t.ops;(r||n&&n.length>0)&&!function(){var t=e[0],r=t.columns,n=t.datas,a=[];n.map(function(e){var t={};r.map(function(r){(r.from&&"set"===r.from||"randomFieldId"===r.dataIndex)&&(t[r.dataIndex]=e[r.dataIndex])}),a.push(t)}),u.getTableChecks({dataKey:d,randomDatas:JSON.stringify(a)}).then(function(e){var t=n.map(function(t){return e.datas&&e.datas.map(function(e){if(e.randomFieldId===t.randomFieldId)for(var r in e)t[r]=e[r]}),t});o(c({datas:t},i))})}()}})};f?u.setTablePageSize({dataKey:d,pageSize:p}).then(function(e){_()}):_()}};t.setSelectedRowKeys=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return function(t,r){t(c({selectedRowKeys:e}))}},t.tableColSet=function(e){return function(t,r){var n=r().comsWeaTable.get("tableNow"),o=r().comsWeaTable.getIn([n,"dataKey"]),a=r().comsWeaTable.getIn([n,"colSetKeys"]),i=e?"GET":"POST";u.tableColSet(e?{dataKey:o}:{dataKey:o,systemIds:""+a.toJS()},i).then(function(e){e.status?e.destdatas?!function(){var r=[];e.destdatas.map(function(e){r.push(e.id)}),datas=[].concat(e.destdatas).concat(e.srcdatas),newDatas=[],datas.map(function(e){return newDatas.push({key:e.id,name:e.name,description:e.name})}),t(c({colSetKeys:r,colSetdatas:newDatas}))}():(t(c({colSetVisible:!1,colSetKeys:[]})),t(d())):Modal.error({title:"接口错误，请重新提交"})})}},t.setTableColSetkeys=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return function(t,r){t(c({colSetKeys:e}))}},t.setColSetVisible=function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];return function(t,r){t(c({colSetVisible:e}))}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.tableColSet=t.setTablePageSize=t.getTableCounts=t.getTableChecks=t.getTableDatas=t.getTableSet=void 0;var n=r(123);t.getTableSet=function(e){return n.WeaTools.callApi("/api/ec/dev/table/set","POST",e)},t.getTableDatas=function(e){return n.WeaTools.callApi("/api/ec/dev/table/datas","POST",e)},t.getTableChecks=function(e){return n.WeaTools.callApi("/api/ec/dev/table/checks","POST",e)},t.getTableCounts=function(e){return n.WeaTools.callApi("/api/ec/dev/table/counts","POST",e)},t.setTablePageSize=function(e){return n.WeaTools.callApi("/api/ec/dev/table/pageSize","POST",e)},t.tableColSet=function(e,t){return n.WeaTools.callApi("/api/ec/dev/table/showCol",t,e)}},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(47),i=o(a),s=r(48),l=o(s),u=r(52),c=o(u),d=r(88),f=o(d),p=r(129),h=o(p),m=r(97),_=r(112),g=r(131),w=n(g),v=r(123),y=h["default"].is,b=function(e){function t(e){return(0,i["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){return!y(this.props.table,e.table)}},{key:"render",value:function(){var e=this.props,t=e.hasOrder,r=e.needScroll,n=(e.datakey,e.datas),o=(e.columns,e.operates),a=e.sortParams,i=(e.selectedRowKeys,e.loading),s=e.showCheck,l=e.pageAutoWrap,u=e.colSetVisible,c=e.colSetdatas,d=e.colSetKeys,f=e.count,p=e.current,h=e.pageSize,m=e.actions;return React.createElement(v.WeaTable,{hasOrder:t,needScroll:r,loading:i,tableCheck:s,pageAutoWrap:l,count:f,current:p,pageSize:h,datas:n.toJS(),columns:this.getColumns(),rowSel:this.getRowSel(),operates:o.toJS(),sortParams:a.toJS(),onChange:function(e,t,r){return m.getDatas("",e.current,e.pageSize,r)},colSetVisible:u,colSetdatas:c.toJS(),colSetKeys:d.toJS(),showColumnsSet:function(e){return m.setColSetVisible(e)},onTransferChange:function(e){return m.setTableColSetkeys(e)},saveColumnsSet:function(){return m.tableColSet()}})}},{key:"getRowSel",value:function(){var e=this.props,t=e.actions,r=e.selectedRowKeys;return{selectedRowKeys:r.toJS(),onChange:function(e,r){t.setSelectedRowKeys(e)},onSelect:function(e,t,r){},onSelectAll:function(e,t,r){}}}},{key:"getColumns",value:function(){var e=this.props.columns,t=[].concat(e.toJS());return t.map(function(e){var t=e;return t.render=function(e,r,n){var o=r[t.dataIndex+"span"];return React.createElement("div",{className:"wea-url",dangerouslySetInnerHTML:{__html:o}})},t})}}]),t}(React.Component),S=function(e){var t=e.comsWeaTable,r=t.get("tableNow");return{table:t.get(r),datakey:t.getIn([r,"datakey"]),datas:t.getIn([r,"datas"]),columns:t.getIn([r,"columns"]),operates:t.getIn([r,"operates"]),sortParams:t.getIn([r,"sortParams"]),
selectedRowKeys:t.getIn([r,"selectedRowKeys"]),loading:t.getIn([r,"loading"]),showCheck:t.getIn([r,"showCheck"]),pageAutoWrap:t.getIn([r,"pageAutoWrap"]),colSetVisible:t.getIn([r,"colSetVisible"]),colSetdatas:t.getIn([r,"colSetdatas"]),colSetKeys:t.getIn([r,"colSetKeys"]),count:t.getIn([r,"count"]),current:t.getIn([r,"current"]),pageSize:t.getIn([r,"pageSize"])}},E=function(e){return{actions:(0,m.bindActionCreators)(w,e)}};t["default"]=(0,_.connect)(S,E)(b)},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_134__},function(e,t){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(a){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e,t){for(var n,i,s=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)o.call(n,u)&&(s[u]=n[u]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var c=0;c<i.length;c++)a.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}},function(e,t,r){function n(e){return o(e,!0,!0)}var o=r(137);e.exports=n},function(e,t,r){function n(e,t,r,S,E,k,R){var O;if(S&&(O=k?S(e,E,k,R):S(e)),void 0!==O)return O;if(!v(e))return e;var x=_(e);if(x){if(O=p(e),!t)return u(e,O)}else{var A=f(e),j=A==T||A==I;if(g(e))return l(e,t);if(A==C||A==b||j&&!k){if(w(e))return k?e:{};if(O=m(j?{}:e),!t)return c(e,s(O,e))}else{if(!V[A])return k?e:{};O=h(e,A,n,t)}}R||(R=new o);var D=R.get(e);if(D)return D;if(R.set(e,O),!x)var P=r?d(e):y(e);return a(P||e,function(o,a){P&&(a=o,o=e[a]),i(O,a,n(o,t,r,S,a,e,R))}),O}var o=r(138),a=r(178),i=r(179),s=r(180),l=r(194),u=r(195),c=r(196),d=r(199),f=r(202),p=r(208),h=r(209),m=r(224),_=r(189),g=r(226),w=r(102),v=r(156),y=r(182),b="[object Arguments]",S="[object Array]",E="[object Boolean]",k="[object Date]",R="[object Error]",T="[object Function]",I="[object GeneratorFunction]",O="[object Map]",x="[object Number]",C="[object Object]",A="[object RegExp]",j="[object Set]",D="[object String]",P="[object Symbol]",q="[object WeakMap]",L="[object ArrayBuffer]",N="[object DataView]",M="[object Float32Array]",W="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",B="[object Uint8Array]",Q="[object Uint8ClampedArray]",K="[object Uint16Array]",H="[object Uint32Array]",V={};V[b]=V[S]=V[L]=V[N]=V[E]=V[k]=V[M]=V[W]=V[F]=V[U]=V[z]=V[O]=V[x]=V[C]=V[A]=V[j]=V[D]=V[P]=V[B]=V[Q]=V[K]=V[H]=!0,V[R]=V[T]=V[q]=!1,e.exports=n},function(e,t,r){function n(e){this.__data__=new o(e)}var o=r(139),a=r(147),i=r(148),s=r(149),l=r(150),u=r(151);n.prototype.clear=a,n.prototype["delete"]=i,n.prototype.get=s,n.prototype.has=l,n.prototype.set=u,e.exports=n},function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(140),a=r(141),i=r(144),s=r(145),l=r(146);n.prototype.clear=o,n.prototype["delete"]=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t){function r(){this.__data__=[]}e.exports=r},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():i.call(t,r,1),!0}var o=r(142),a=Array.prototype,i=a.splice;e.exports=n},function(e,t,r){function n(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}var o=r(143);e.exports=n},function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},function(e,t,r){function n(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}var o=r(142);e.exports=n},function(e,t,r){function n(e){return o(this.__data__,e)>-1}var o=r(142);e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__,n=o(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}var o=r(142);e.exports=n},function(e,t,r){function n(){this.__data__=new o}var o=r(139);e.exports=n},function(e,t){function r(e){return this.__data__["delete"](e)}e.exports=r},function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t,r){function n(e,t){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!a||n.length<s-1)return n.push([e,t]),this;r=this.__data__=new i(n)}return r.set(e,t),this}var o=r(139),a=r(152),i=r(163),s=200;e.exports=n},function(e,t,r){var n=r(153),o=r(159),a=n(o,"Map");e.exports=a},function(e,t,r){function n(e,t){var r=a(e,t);return o(r)?r:void 0}var o=r(154),a=r(162);e.exports=n},function(e,t,r){function n(e){if(!s(e)||i(e))return!1;var t=o(e)||a(e)?m:c;return t.test(l(e))}var o=r(155),a=r(102),i=r(157),s=r(156),l=r(161),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,p=d.toString,h=f.hasOwnProperty,m=RegExp("^"+p.call(h).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){function n(e){var t=o(e)?l.call(e):"";return t==a||t==i}var o=r(156),a="[object Function]",i="[object GeneratorFunction]",s=Object.prototype,l=s.toString;e.exports=n},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t,r){function n(e){return!!a&&a in e}var o=r(158),a=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t,r){var n=r(159),o=n["__core-js_shared__"];e.exports=o},function(e,t,r){var n=r(160),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},function(e,t){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,function(){return this}())},function(e,t){function r(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var n=Function.prototype,o=n.toString;e.exports=r},function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(164),a=r(172),i=r(175),s=r(176),l=r(177);n.prototype.clear=o,n.prototype["delete"]=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,r){function n(){this.__data__={hash:new o,map:new(i||a),string:new o}}var o=r(165),a=r(139),i=r(152);e.exports=n},function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o=r(166),a=r(168),i=r(169),s=r(170),l=r(171);n.prototype.clear=o,n.prototype["delete"]=a,n.prototype.get=i,n.prototype.has=s,n.prototype.set=l,e.exports=n},function(e,t,r){function n(){this.__data__=o?o(null):{}}var o=r(167);e.exports=n},function(e,t,r){var n=r(153),o=n(Object,"create");e.exports=o},function(e,t){function r(e){return this.has(e)&&delete this.__data__[e]}e.exports=r},function(e,t,r){function n(e){var t=this.__data__;if(o){var r=t[e];return r===a?void 0:r}return s.call(t,e)?t[e]:void 0}var o=r(167),a="__lodash_hash_undefined__",i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}var o=r(167),a=Object.prototype,i=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){var r=this.__data__;return r[e]=o&&void 0===t?a:t,this}var o=r(167),a="__lodash_hash_undefined__";e.exports=n},function(e,t,r){function n(e){return o(this,e)["delete"](e)}var o=r(173);e.exports=n},function(e,t,r){function n(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}var o=r(174);e.exports=n},function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},function(e,t,r){function n(e){return o(this,e).get(e)}var o=r(173);e.exports=n},function(e,t,r){function n(e){return o(this,e).has(e)}var o=r(173);e.exports=n},function(e,t,r){function n(e,t){return o(this,e).set(e,t),this}var o=r(173);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}e.exports=r},function(e,t,r){function n(e,t,r){var n=e[t];i.call(e,t)&&o(n,r)&&(void 0!==r||t in e)||(e[t]=r)}var o=r(143),a=Object.prototype,i=a.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){return e&&o(t,a(t),e)}var o=r(181),a=r(182);e.exports=n},function(e,t,r){function n(e,t,r,n){r||(r={});for(var a=-1,i=t.length;++a<i;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;o(r,s,void 0===l?e[s]:l)}return r}var o=r(179);e.exports=n},function(e,t,r){function n(e){return i(e)?o(e):a(e)}var o=r(183),a=r(191),i=r(187);e.exports=n},function(e,t,r){function n(e,t){var r=i(e)||a(e)?o(e.length,String):[],n=r.length,l=!!n;for(var c in e)!t&&!u.call(e,c)||l&&("length"==c||s(c,n))||r.push(c);return r}var o=r(184),a=r(185),i=r(189),s=r(190),l=Object.prototype,u=l.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}e.exports=r},function(e,t,r){function n(e){return o(e)&&s.call(e,"callee")&&(!u.call(e,"callee")||l.call(e)==a)}var o=r(186),a="[object Arguments]",i=Object.prototype,s=i.hasOwnProperty,l=i.toString,u=i.propertyIsEnumerable;e.exports=n},function(e,t,r){function n(e){return a(e)&&o(e)}var o=r(187),a=r(103);e.exports=n},function(e,t,r){function n(e){return null!=e&&a(e.length)&&!o(e)}var o=r(155),a=r(188);e.exports=n},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=r},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){function r(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},function(e,t,r){function n(e){if(!o(e))return a(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}var o=r(192),a=r(193),i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t){function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}var n=Object.prototype;e.exports=r},function(e,t,r){var n=r(101),o=n(Object.keys,Object);e.exports=o},function(e,t){function r(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}e.exports=r},function(e,t){function r(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}e.exports=r},function(e,t,r){function n(e,t){return o(e,a(e),t)}var o=r(181),a=r(197);e.exports=n},function(e,t,r){var n=r(101),o=r(198),a=Object.getOwnPropertySymbols,i=a?n(a,Object):o;e.exports=i},function(e,t){function r(){return[]}e.exports=r},function(e,t,r){function n(e){return o(e,i,a)}var o=r(200),a=r(197),i=r(182);e.exports=n},function(e,t,r){function n(e,t,r){var n=t(e);return a(e)?n:o(n,r(e))}var o=r(201),a=r(189);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t,r){var n=r(203),o=r(152),a=r(204),i=r(205),s=r(206),l=r(207),u=r(161),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",_=Object.prototype,g=_.toString,w=u(n),v=u(o),y=u(a),b=u(i),S=u(s),E=l;(n&&E(new n(new ArrayBuffer(1)))!=m||o&&E(new o)!=c||a&&E(a.resolve())!=f||i&&E(new i)!=p||s&&E(new s)!=h)&&(E=function(e){var t=g.call(e),r=t==d?e.constructor:void 0,n=r?u(r):void 0;if(n)switch(n){case w:return m;case v:return c;case y:return f;case b:return p;case S:return h}return t}),e.exports=E},function(e,t,r){var n=r(153),o=r(159),a=n(o,"DataView");e.exports=a},function(e,t,r){var n=r(153),o=r(159),a=n(o,"Promise");e.exports=a},function(e,t,r){var n=r(153),o=r(159),a=n(o,"Set");e.exports=a},function(e,t,r){var n=r(153),o=r(159),a=n(o,"WeakMap");e.exports=a},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t){function r(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var n=Object.prototype,o=n.hasOwnProperty;e.exports=r},function(e,t,r){function n(e,t,r,n){var C=e.constructor;switch(t){case v:return o(e);case d:case f:return new C((+e));case y:return a(e,n);case b:case S:case E:case k:case R:case T:case I:case O:case x:return c(e,n);case p:return i(e,n,r);case h:case g:return new C(e);case m:return s(e);case _:return l(e,n,r);case w:return u(e)}}var o=r(210),a=r(212),i=r(213),s=r(217),l=r(218),u=r(221),c=r(223),d="[object Boolean]",f="[object Date]",p="[object Map]",h="[object Number]",m="[object RegExp]",_="[object Set]",g="[object String]",w="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",R="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",O="[object Uint16Array]",x="[object Uint32Array]";e.exports=n},function(e,t,r){function n(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=r(211);e.exports=n},function(e,t,r){var n=r(159),o=n.Uint8Array;e.exports=o},function(e,t,r){function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var o=r(210);e.exports=n},function(e,t,r){function n(e,t,r){var n=t?r(i(e),!0):i(e);return a(n,o,new e.constructor)}var o=r(214),a=r(215),i=r(216);e.exports=n},function(e,t){function r(e,t){return e.set(t[0],t[1]),e}e.exports=r},function(e,t){function r(e,t,r,n){var o=-1,a=e?e.length:0;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}e.exports=r},function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}e.exports=r},function(e,t){function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}var n=/\w*$/;e.exports=r},function(e,t,r){function n(e,t,r){var n=t?r(i(e),!0):i(e);return a(n,o,new e.constructor)}var o=r(219),a=r(215),i=r(220);e.exports=n},function(e,t){function r(e,t){return e.add(t),e}e.exports=r},function(e,t){function r(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}e.exports=r},function(e,t,r){function n(e){return i?Object(i.call(e)):{}}var o=r(222),a=o?o.prototype:void 0,i=a?a.valueOf:void 0;e.exports=n},function(e,t,r){var n=r(159),o=n.Symbol;e.exports=o},function(e,t,r){function n(e,t){var r=t?o(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var o=r(210);e.exports=n},function(e,t,r){function n(e){return"function"!=typeof e.constructor||i(e)?{}:o(a(e))}var o=r(225),a=r(100),i=r(192);e.exports=n},function(e,t,r){function n(e){return o(e)?a(e):{}}var o=r(156),a=Object.create;e.exports=n},function(e,t,r){(function(e){var n=r(159),o=r(228),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?n.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||o;e.exports=c}).call(t,r(227)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function r(){return!1}e.exports=r},function(e,t,r){function n(e,t){var r=s(e)?o:a;return r(e,i(t,3))}var o=r(178),a=r(230),i=r(235),s=r(189);e.exports=n},function(e,t,r){var n=r(231),o=r(234),a=o(n);e.exports=a},function(e,t,r){function n(e,t){return e&&o(e,t,a)}var o=r(232),a=r(182);e.exports=n},function(e,t,r){var n=r(233),o=n();e.exports=o},function(e,t){function r(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),s=i.length;s--;){var l=i[e?s:++o];if(r(a[l],l,a)===!1)break}return t}}e.exports=r},function(e,t,r){function n(e,t){return function(r,n){if(null==r)return r;if(!o(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var o=r(187);e.exports=n},function(e,t,r){function n(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?a(e[0],e[1]):o(e):l(e)}var o=r(236),a=r(254),i=r(268),s=r(189),l=r(269);e.exports=n},function(e,t,r){function n(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||o(r,e,t)}}var o=r(237),a=r(251),i=r(253);e.exports=n},function(e,t,r){function n(e,t,r,n){var l=r.length,u=l,c=!n;if(null==e)return!u;for(e=Object(e);l--;){var d=r[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){d=r[l];var f=d[0],p=e[f],h=d[1];if(c&&d[2]){if(void 0===p&&!(f in e))return!1}else{var m=new o;if(n)var _=n(p,h,f,e,t,m);if(!(void 0===_?a(h,p,n,i|s,m):_))return!1}}return!0}var o=r(138),a=r(238),i=1,s=2;e.exports=n},function(e,t,r){function n(e,t,r,s,l){return e===t||(null==e||null==t||!a(e)&&!i(t)?e!==e&&t!==t:o(e,t,n,r,s,l))}var o=r(239),a=r(156),i=r(103);e.exports=n},function(e,t,r){function n(e,t,r,n,_,w){var v=u(e),y=u(t),b=h,S=h;v||(b=l(e),b=b==p?m:b),y||(S=l(t),S=S==p?m:S);var E=b==m&&!c(e),k=S==m&&!c(t),R=b==S;if(R&&!E)return w||(w=new o),v||d(e)?a(e,t,r,n,_,w):i(e,t,b,r,n,_,w);if(!(_&f)){var T=E&&g.call(e,"__wrapped__"),I=k&&g.call(t,"__wrapped__");if(T||I){var O=T?e.value():e,x=I?t.value():t;return w||(w=new o),r(O,x,n,_,w)}}return!!R&&(w||(w=new o),s(e,t,r,n,_,w))}var o=r(138),a=r(240),i=r(245),s=r(246),l=r(202),u=r(189),c=r(102),d=r(247),f=2,p="[object Arguments]",h="[object Array]",m="[object Object]",_=Object.prototype,g=_.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t,r,n,l,u){var c=l&s,d=e.length,f=t.length;if(d!=f&&!(c&&f>d))return!1;var p=u.get(e);if(p&&u.get(t))return p==t;var h=-1,m=!0,_=l&i?new o:void 0;for(u.set(e,t),u.set(t,e);++h<d;){var g=e[h],w=t[h];if(n)var v=c?n(w,g,h,t,e,u):n(g,w,h,e,t,u);if(void 0!==v){if(v)continue;m=!1;break}if(_){if(!a(t,function(e,t){if(!_.has(t)&&(g===e||r(g,e,n,l,u)))return _.add(t)})){m=!1;break}}else if(g!==w&&!r(g,w,n,l,u)){m=!1;break}}return u["delete"](e),u["delete"](t),m}var o=r(241),a=r(244),i=1,s=2;e.exports=n},function(e,t,r){function n(e){var t=-1,r=e?e.length:0;for(this.__data__=new o;++t<r;)this.add(e[t])}var o=r(163),a=r(242),i=r(243);n.prototype.add=n.prototype.push=a,n.prototype.has=i,e.exports=n},function(e,t){function r(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=r},function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},function(e,t){function r(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=r},function(e,t,r){function n(e,t,r,n,o,E,R){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!n(new a(e),new a(t)));case f:case p:case _:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case m:var T=l;case w:var I=E&d;if(T||(T=u),e.size!=t.size&&!I)return!1;var O=R.get(e);if(O)return O==t;E|=c,R.set(e,t);var x=s(T(e),T(t),n,o,E,R);return R["delete"](e),x;case y:if(k)return k.call(e)==k.call(t)}return!1}var o=r(222),a=r(211),i=r(143),s=r(240),l=r(216),u=r(220),c=1,d=2,f="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Map]",_="[object Number]",g="[object RegExp]",w="[object Set]",v="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",S="[object DataView]",E=o?o.prototype:void 0,k=E?E.valueOf:void 0;e.exports=n},function(e,t,r){function n(e,t,r,n,i,l){var u=i&a,c=o(e),d=c.length,f=o(t),p=f.length;if(d!=p&&!u)return!1;for(var h=d;h--;){var m=c[h];if(!(u?m in t:s.call(t,m)))return!1}var _=l.get(e);if(_&&l.get(t))return _==t;var g=!0;l.set(e,t),l.set(t,e);for(var w=u;++h<d;){m=c[h];var v=e[m],y=t[m];if(n)var b=u?n(y,v,m,t,e,l):n(v,y,m,e,t,l);if(!(void 0===b?v===y||r(v,y,n,i,l):b)){g=!1;break}w||(w="constructor"==m)}if(g&&!w){var S=e.constructor,E=t.constructor;S!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof S&&S instanceof S&&"function"==typeof E&&E instanceof E)&&(g=!1)}return l["delete"](e),l["delete"](t),g}var o=r(182),a=2,i=Object.prototype,s=i.hasOwnProperty;e.exports=n},function(e,t,r){var n=r(248),o=r(249),a=r(250),i=a&&a.isTypedArray,s=i?o(i):n;e.exports=s},function(e,t,r){function n(e){return a(e)&&o(e.length)&&!!C[j.call(e)]}var o=r(188),a=r(103),i="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",m="[object RegExp]",_="[object Set]",g="[object String]",w="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",k="[object Int16Array]",R="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",O="[object Uint16Array]",x="[object Uint32Array]",C={};C[b]=C[S]=C[E]=C[k]=C[R]=C[T]=C[I]=C[O]=C[x]=!0,C[i]=C[s]=C[v]=C[l]=C[y]=C[u]=C[c]=C[d]=C[f]=C[p]=C[h]=C[m]=C[_]=C[g]=C[w]=!1;var A=Object.prototype,j=A.toString;e.exports=n},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){(function(e){var n=r(160),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o,s=i&&n.process,l=function(){try{return s&&s.binding("util")}catch(e){}}();e.exports=l}).call(t,r(227)(e))},function(e,t,r){function n(e){for(var t=a(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,o(i)]}return t}var o=r(252),a=r(182);e.exports=n},function(e,t,r){function n(e){return e===e&&!o(e)}var o=r(156);e.exports=n},function(e,t){function r(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}e.exports=r},function(e,t,r){function n(e,t){return s(e)&&l(t)?u(c(e),t):function(r){var n=a(r,e);return void 0===n&&n===t?i(r,e):o(t,n,void 0,d|f)}}var o=r(238),a=r(255),i=r(265),s=r(263),l=r(252),u=r(253),c=r(264),d=1,f=2;e.exports=n},function(e,t,r){function n(e,t,r){var n=null==e?void 0:o(e,t);return void 0===n?r:n}var o=r(256);e.exports=n},function(e,t,r){function n(e,t){t=a(t,e)?[t]:o(t);for(var r=0,n=t.length;null!=e&&r<n;)e=e[i(t[r++])];return r&&r==n?e:void 0}var o=r(257),a=r(263),i=r(264);e.exports=n},function(e,t,r){function n(e){return o(e)?e:a(e)}var o=r(189),a=r(258);e.exports=n},function(e,t,r){var n=r(259),o=r(260),a=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=n(function(e){e=o(e);var t=[];return a.test(e)&&t.push(""),e.replace(i,function(e,r,n,o){t.push(n?o.replace(s,"$1"):r||e)}),t});e.exports=l},function(e,t,r){function n(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(a);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i),i};return r.cache=new(n.Cache||o),r}var o=r(163),a="Expected a function";n.Cache=o,e.exports=n},function(e,t,r){function n(e){return null==e?"":o(e)}var o=r(261);e.exports=n},function(e,t,r){function n(e){if("string"==typeof e)return e;if(a(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}var o=r(222),a=r(262),i=1/0,s=o?o.prototype:void 0,l=s?s.toString:void 0;e.exports=n},function(e,t,r){function n(e){return"symbol"==typeof e||o(e)&&s.call(e)==a}var o=r(103),a="[object Symbol]",i=Object.prototype,s=i.toString;e.exports=n},function(e,t,r){function n(e,t){if(o(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}var o=r(189),a=r(262),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},function(e,t,r){function n(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var o=r(262),a=1/0;e.exports=n},function(e,t,r){function n(e,t){return null!=e&&a(e,t,o)}var o=r(266),a=r(267);e.exports=n},function(e,t){function r(e,t){return null!=e&&t in Object(e)}e.exports=r},function(e,t,r){function n(e,t,r){t=l(t,e)?[t]:o(t);for(var n,d=-1,f=t.length;++d<f;){var p=c(t[d]);if(!(n=null!=e&&r(e,p)))break;e=e[p]}if(n)return n;var f=e?e.length:0;return!!f&&u(f)&&s(p,f)&&(i(e)||a(e))}var o=r(257),a=r(185),i=r(189),s=r(190),l=r(263),u=r(188),c=r(264);e.exports=n},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){function n(e){return i(e)?o(s(e)):a(e)}var o=r(270),a=r(271),i=r(263),s=r(264);e.exports=n},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t,r){function n(e){return function(t){return o(t,e)}}var o=r(256);e.exports=n},function(e,t,r){function n(e){if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||a(e)))return!e.length;var t=o(e);if(t==d||t==f)return!e.size;if(_||u(e))return!c(e).length;for(var r in e)if(h.call(e,r))return!1;return!0}var o=r(202),a=r(185),i=r(189),s=r(187),l=r(226),u=r(192),c=r(193),d="[object Map]",f="[object Set]",p=Object.prototype,h=p.hasOwnProperty,m=p.propertyIsEnumerable,_=!m.call({valueOf:1},"valueOf");e.exports=n},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(129),p=r(134),h=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.showBatchSubmit!==e.showBatchSubmit||this.props.selectedRowKeys!==e.selectedRowKeys||!(0,f.is)(this.props.phrasesObj,e.phrasesObj)}},{key:"render",value:function(){var e=this,t=this.props,r=(t.actions,t.showBatchSubmit),n=t.phrasesObj,o=n&&n.get("showPhrases"),a=n&&n.get("editPhrases"),i=n&&n.get("phrasesDatas"),s=React.createElement("div",{className:"wea-workflow-phrases"},React.createElement("div",{className:"wea-workflow-phrases-list"},i&&i.map(function(t,r){return React.createElement("div",{className:"wea-workflow-phrases-item",onClick:e.clickPhrases.bind(e,r)},t.get("short"))})),React.createElement("div",{style:{position:"relative"}},a?React.createElement("div",{className:"wea-workflow-phrases-edit"},React.createElement("input",{type:"text",className:"wea-workflow-phrases-input"}),React.createElement(p.Button,{type:"primary",onClick:this.savePhrases.bind(this)},"确定")):React.createElement("div",{className:"wea-workflow-phrases-add",onClick:this.addPhrases.bind(this)},React.createElement("i",{className:"icon-top-Common"}))));return React.createElement(p.Modal,{wrapClassName:"wea-workflow-batchsubmit",visible:r,maskClosable:!1,title:this.getTopTitle(),onCancel:this.cancelEvent.bind(this),footer:[React.createElement(p.Button,{type:"primary",size:"large",onClick:this.submitEvent.bind(this)},"批量提交"),React.createElement(p.Button,{type:"ghost",size:"large",onClick:this.cancelEvent.bind(this)},"关闭")]},React.createElement("div",{className:"wea-workflow-batchsubmit-area"},React.createElement("div",null,React.createElement(p.Popover,{overlayClassName:"wea-workflow-phrases-popover",placement:"bottomLeft",trigger:"click",content:s,visible:o,onVisibleChange:this.switchPhrases.bind(this)},React.createElement(p.Button,{type:"ghost"},React.createElement("i",{className:"icon-communication-message"}),React.createElement("span",null,"批示语")))),React.createElement("div",{style:{paddingTop:"10px"}},React.createElement("textarea",{className:"wea-workflow-batchsubmit-sign"}))))}},{key:"getTopTitle",value:function(){return React.createElement(p.Row,null,React.createElement(p.Col,{span:"8",style:{paddingLeft:20,lineHeight:"48px"}},React.createElement("div",{className:"wea-workflow-icon"},React.createElement("i",{className:"icon-portal-workflow"})),React.createElement("span",null,"填写签字意见")))}},{key:"clickPhrases",value:function(e){var t=this.props,r=(t.actions,t.phrasesObj),n=r&&r.get("phrasesDatas"),o=n&&n.getIn([e,"desc"]),a=jQuery(".wea-workflow-batchsubmit .wea-workflow-batchsubmit-sign"),i=a.val();""!==i&&(i+="\r\n"),i+=o,a.val(i),this.hidePhrases()}},{key:"addPhrases",value:function(){var e=this.props,t=e.actions,r=e.phrasesObj;r&&r.get("editPhrases");t.operPhrases({editPhrases:!0})}},{key:"savePhrases",value:function(){var e=this.props,t=e.actions,r=e.phrasesObj,n=(r&&r.get("editPhrases"),jQuery(".wea-workflow-phrases .wea-workflow-phrases-input").val());""!=n&&t.savePhrasesText(n),t.operPhrases({editPhrases:!1})}},{key:"switchPhrases",value:function(){var e=this.props,t=e.actions,r=e.phrasesObj,n=r&&r.get("showPhrases");t.operPhrases({showPhrases:!n,editPhrases:!1})}},{key:"hidePhrases",value:function(){var e=this.props,t=e.actions,r=e.phrasesObj;r&&r.get("showPhrases");t.operPhrases({showPhrases:!1,editPhrases:!1})}},{key:"submitEvent",value:function(){var e=this.props,t=e.actions,r=e.selectedRowKeys,n=jQuery(".wea-workflow-batchsubmit .wea-workflow-batchsubmit-sign").val();t.batchSubmitWf(n,r),t.setShowBatchSubmit(!1)}},{key:"cancelEvent",value:function(){var e=this.props.actions;e.setShowBatchSubmit(!1)}}]),t}(React.Component);t["default"]=h},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_274__},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.workflowlistDone,r=e.comsWeaTable;return{title:t.get("title"),leftTree:t.get("leftTree"),leftTreeCount:t.get("leftTreeCount"),leftTreeCountType:t.get("leftTreeCountType"),topTab:t.get("topTab"),topTabCount:t.get("topTabCount"),searchParams:t.get("searchParams"),searchParamsAd:t.get("searchParamsAd"),orderFields:t.get("orderFields"),showSearchAd:t.get("showSearchAd"),selectedTreeKeys:t.get("selectedTreeKeys"),isSpaForm:t.get("isSpaForm"),isClearNowPageStatus:t.get("isClearNowPageStatus"),sortParams:t.get("sortParams"),conditioninfo:t.get("conditioninfo"),showBatchSubmit:t.get("showBatchSubmit"),phrasesObj:t.get("phrasesObj"),sharearg:t.get("sharearg"),comsWeaTable:r.get(r.get("tableNow"))}}function i(e){return{actions:(0,g.bindActionCreators)((0,l["default"])({},y,P),e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),l=o(s),u=r(47),c=o(u),d=r(48),f=o(d),p=r(52),h=o(p),m=r(88),_=o(m),g=r(97),w=r(112),v=r(120),y=n(v),b=r(229),S=o(b),E=r(272),k=o(E),R=r(274),T=r(125),I=r(123),O=r(134),x=r(136),C=(o(x),r(135)),A=(o(C),r(45)),j=(o(A),r(129)),D=o(j),P=T.WeaTable.action,q=O.Form.create,L=O.Form.Item,N=D["default"].is,M=null,W=function(e){function t(e){(0,c["default"])(this,t);var r=(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return M=r,r}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.actions;e.setNowRouterWfpath("listDone"),e.initDatas({method:"all"}),e.doSearch()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.location.key,r=e.location.key;if(t!==r){var n=this.props,o=n.actions,a=n.isClearNowPageStatus;o.unmountClear(a),o.isClearNowPageStatus(!1),o.setNowRouterWfpath("listDone"),o.initDatas({method:"all"}),o.doSearch()}window.location.pathname.indexOf("/spa/workflow/index")>=0&&e.title&&document.title!==e.title&&(document.title=e.title)}},{key:"shouldComponentUpdate",value:function(e,t){return!(N(this.props.title,e.title)&&N(this.props.leftTree,e.leftTree)&&N(this.props.leftTreeCount,e.leftTreeCount)&&N(this.props.leftTreeCountType,e.leftTreeCountType)&&N(this.props.topTab,e.topTab)&&N(this.props.topTabCount,e.topTabCount)&&N(this.props.columns,e.columns)&&N(this.props.loading,e.loading)&&N(this.props.operates,e.operates)&&N(this.props.searchParams,e.searchParams)&&N(this.props.searchParamsAd,e.searchParamsAd)&&N(this.props.selectedTreeKeys,e.selectedTreeKeys)&&N(this.props.orderFields,e.orderFields)&&N(this.props.showSearchAd,e.showSearchAd)&&N(this.props.comsWeaTable,e.comsWeaTable)&&N(this.props.isSpaForm,e.isSpaForm)&&N(this.props.conditioninfo,e.conditioninfo)&&N(this.props.isClearNowPageStatus,e.isClearNowPageStatus));
}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.actions,r=e.isClearNowPageStatus;t.unmountClear(r),t.isClearNowPageStatus(!1)}},{key:"render",value:function(){var e=window.location.pathname.indexOf("/spa/workflow/index")>=0,t=this.props,r=t.comsWeaTable,n=t.topTab,o=t.topTabCount,a=t.actions,i=t.title,s=t.searchParams,l=t.showSearchAd,u=t.searchParamsAd,c=(t.showBatchSubmit,t.phrasesObj,r.get("loading"));r.get("selectedRowKeys");return React.createElement("div",null,e&&React.createElement(I.WeaPopoverHrm,null),React.createElement(I.WeaRightMenu,{datas:this.getRightMenu(),onClick:this.onRightMenuClick.bind(this)},React.createElement(I.WeaTop,{title:i,loading:c,icon:React.createElement("i",{className:"icon-portal-workflow"}),iconBgcolor:"#55D2D4",buttons:this.getButtons(),buttonSpace:10,showDropIcon:!0,dropMenuDatas:this.getRightMenu(),onDropMenuClick:this.onRightMenuClick.bind(this)},React.createElement(I.WeaLeftRightLayout,{defaultShowLeft:!0,leftCom:this.getTree(),leftWidth:25},React.createElement(I.WeaTab,{buttonsAd:this.getTabButtonsAd(),searchType:["base","advanced"],searchsBaseValue:u.get("requestname"),setShowSearchAd:function(e){a.setShowSearchAd(e)},hideSearchAd:function(){return a.setShowSearchAd(!1)},searchsAd:React.createElement(O.Form,{horizontal:!0},this.getSearchs()),showSearchAd:l,datas:n&&n.toJS(),selectedKey:s.get("viewcondition"),counts:o&&o.toJS(),onSearch:function(e){a.doSearch()},onSearchChange:function(e){a.saveOrderFields({requestname:{name:"requestname",value:e}})},keyParam:"viewcondition",countParam:"groupid",onChange:this.changeData.bind(this)}),React.createElement(T.WeaTable,{hasOrder:!0,needScroll:!0})))),React.createElement(R.Synergy,{pathname:"/workflow/listDone",requestid:"-1"}))}},{key:"onRightMenuClick",value:function(e){var t=this.props,r=t.actions,n=t.comsWeaTable;n.get("selectedRowKeys");"0"==e&&(r.doSearch(),r.setShowSearchAd(!1)),"1"==e&&(r.setColSetVisible(!0),r.tableColSet(!0))}},{key:"getRightMenu",value:function(){var e=this.props,t=e.comsWeaTable,r=e.sharearg,n=(e.actions,t.get("selectedRowKeys"),r&&r.get("hasBatchBtn"),[]);return n.push({icon:React.createElement("i",{className:"icon-Right-menu--search"}),content:"搜索"}),n.push({icon:React.createElement("i",{className:"icon-Right-menu-Custom"}),content:"显示定制列"}),n}},{key:"getSearchs",value:function(){return[React.createElement(I.WeaSearchGroup,{needTigger:!0,title:this.getTitle(),showGroup:this.isShowFields(),items:this.getFields()}),React.createElement(I.WeaSearchGroup,{needTigger:!0,title:this.getTitle(1),showGroup:this.isShowFields(1),items:this.getFields(1)})]}},{key:"getTitle",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.conditioninfo;return!(0,k["default"])(t.toJS())&&t.toJS()[e].title}},{key:"isShowFields",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.conditioninfo;return!(0,k["default"])(t.toJS())&&t.toJS()[e].defaultshow}},{key:"getFields",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=this.props.conditioninfo,n=!(0,k["default"])(r.toJS())&&r.toJS()[t].items,o=[];return(0,S["default"])(n,function(t){o.push({com:React.createElement(L,{label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol}},I.WeaTools.switchComponent(e.props,t.key,t.domkey,t)),colSpan:1})}),o}},{key:"changeData",value:function(e){var t=this.props.actions;t.setShowSearchAd(!1),t.doSearch({viewcondition:e},{})}},{key:"getTree",value:function(){var e=this.props,t=e.leftTree,r=e.leftTreeCount,n=e.leftTreeCountType,o=e.actions,a=e.topTab,i=(e.searchParams,e.selectedTreeKeys),s=e.loading;return React.createElement(I.WeaLeftTree,{datas:t&&t.toJS(),counts:r&&r.toJS(),countsType:n&&n.toJS(),selectedKeys:i&&i.toJS(),loading:s,onFliterAll:function(){o.setShowSearchAd(!1),o.setSelectedTreeKeys([]),o.saveOrderFields(),o.initDatas({method:"all"}),o.doSearch({method:"all",viewcondition:0,workflowid:"",wftype:""})},onSelect:function(e,r,n){o.setShowSearchAd(!1);var i="0";o.setSelectedTreeKeys([e]),a.map(function(e){n&&n.name&&e.get("groupid")==n.name&&(i=e.get("viewcondition"))});var s=0===e.indexOf("wf_")?e.substring(3):"",l=0===e.indexOf("type_")?e.substring(5):"",u="",c="";t&&t.map(function(t){t.get("domid")==e&&(c=t.get("name")),t.get("childs")&&t.get("childs").map(function(t){t.get("domid")==e&&(u=t.get("name"))})});var d={workflowid:{name:"workflowid",value:s,valueSpan:u},workflowtype:{name:"workflowtype",value:l,valueSpan:c}};o.saveOrderFields(d),o.doSearch({method:0===e.indexOf("type_")?"reqeustbytype":"reqeustbywfid",wftype:l,workflowid:s,viewcondition:i})}})}},{key:"getTabButtonsAd",value:function(){var e=this.props.actions;return[React.createElement(O.Button,{type:"primary",onClick:function(){e.doSearch(),e.setShowSearchAd(!1)}},"搜索"),React.createElement(O.Button,{type:"ghost",onClick:function(){e.saveOrderFields({})}},"重置"),React.createElement(O.Button,{type:"ghost",onClick:function(){e.setShowSearchAd(!1)}},"取消")]}},{key:"getButtons",value:function(){var e=this.props,t=(e.selectedRowKeys,e.actions,[]);return t}}]),t}(React.Component),F=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props.error&&""!==this.props.error;return React.createElement(I.WeaErrorPage,{msg:e?this.props.error:"对不起，该页面异常，请联系管理员！"})}}]),t}(React.Component);W=I.WeaTools.tryCatch(React,F,{error:""})(W),W=q({onFieldsChange:function(e,t){e.actions.saveOrderFields((0,l["default"])({},e.orderFields.toJS(),t))},mapPropsToFields:function(e){return e.orderFields.toJS()}})(W),t["default"]=(0,w.connect)(a,i)(W)},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.workflowlistMine,r=e.comsWeaTable;return{title:t.get("title"),leftTree:t.get("leftTree"),leftTreeCount:t.get("leftTreeCount"),leftTreeCountType:t.get("leftTreeCountType"),topTab:t.get("topTab"),topTabCount:t.get("topTabCount"),searchParams:t.get("searchParams"),searchParamsAd:t.get("searchParamsAd"),orderFields:t.get("orderFields"),showSearchAd:t.get("showSearchAd"),selectedTreeKeys:t.get("selectedTreeKeys"),isSpaForm:t.get("isSpaForm"),isClearNowPageStatus:t.get("isClearNowPageStatus"),sortParams:t.get("sortParams"),conditioninfo:t.get("conditioninfo"),showBatchSubmit:t.get("showBatchSubmit"),phrasesObj:t.get("phrasesObj"),sharearg:t.get("sharearg"),comsWeaTable:r.get(r.get("tableNow"))}}function i(e){return{actions:(0,g.bindActionCreators)((0,l["default"])({},y,P),e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),l=o(s),u=r(47),c=o(u),d=r(48),f=o(d),p=r(52),h=o(p),m=r(88),_=o(m),g=r(97),w=r(112),v=r(120),y=n(v),b=r(229),S=o(b),E=r(272),k=o(E),R=r(274),T=r(125),I=r(123),O=r(134),x=r(136),C=(o(x),r(135)),A=(o(C),r(45)),j=(o(A),r(129)),D=o(j),P=T.WeaTable.action,q=O.Form.create,L=O.Form.Item,N=D["default"].is,M=null,W=function(e){function t(e){(0,c["default"])(this,t);var r=(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return M=r,r}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.actions;e.setNowRouterWfpath("listMine"),e.initDatas({method:"all"}),e.doSearch()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.location.key,r=e.location.key;if(t!==r){var n=this.props,o=n.actions,a=n.isClearNowPageStatus;o.unmountClear(a),o.isClearNowPageStatus(!1),o.setNowRouterWfpath("listMine"),o.initDatas({method:"all"}),o.doSearch()}window.location.pathname.indexOf("/spa/workflow/index")>=0&&e.title&&document.title!==e.title&&(document.title=e.title)}},{key:"shouldComponentUpdate",value:function(e,t){return!(N(this.props.title,e.title)&&N(this.props.leftTree,e.leftTree)&&N(this.props.leftTreeCount,e.leftTreeCount)&&N(this.props.leftTreeCountType,e.leftTreeCountType)&&N(this.props.topTab,e.topTab)&&N(this.props.topTabCount,e.topTabCount)&&N(this.props.columns,e.columns)&&N(this.props.loading,e.loading)&&N(this.props.operates,e.operates)&&N(this.props.searchParams,e.searchParams)&&N(this.props.searchParamsAd,e.searchParamsAd)&&N(this.props.comsWeaTable,e.comsWeaTable)&&N(this.props.orderFields,e.orderFields)&&N(this.props.showSearchAd,e.showSearchAd)&&N(this.props.selectedTreeKeys,e.selectedTreeKeys)&&N(this.props.isSpaForm,e.isSpaForm)&&N(this.props.conditioninfo,e.conditioninfo)&&N(this.props.isClearNowPageStatus,e.isClearNowPageStatus))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.actions,r=e.isClearNowPageStatus;t.unmountClear(r),t.isClearNowPageStatus(!1)}},{key:"render",value:function(){var e=window.location.pathname.indexOf("/spa/workflow/index")>=0,t=this.props,r=t.comsWeaTable,n=t.topTab,o=t.topTabCount,a=t.actions,i=t.title,s=t.searchParams,l=t.showSearchAd,u=t.searchParamsAd,c=(t.showBatchSubmit,t.phrasesObj,r.get("loading"));r.get("selectedRowKeys");return React.createElement("div",null,e&&React.createElement(I.WeaPopoverHrm,null),React.createElement(I.WeaRightMenu,{datas:this.getRightMenu(),onClick:this.onRightMenuClick.bind(this)},React.createElement(I.WeaTop,{title:i,loading:c,icon:React.createElement("i",{className:"icon-portal-workflow"}),iconBgcolor:"#55D2D4",buttons:this.getButtons(),buttonSpace:10,showDropIcon:!0,dropMenuDatas:this.getRightMenu(),onDropMenuClick:this.onRightMenuClick.bind(this)},React.createElement(I.WeaLeftRightLayout,{defaultShowLeft:!0,leftCom:this.getTree(),leftWidth:25},React.createElement(I.WeaTab,{buttonsAd:this.getTabButtonsAd(),searchType:["base","advanced"],searchsBaseValue:u.get("requestname"),setShowSearchAd:function(e){a.setShowSearchAd(e)},hideSearchAd:function(){return a.setShowSearchAd(!1)},searchsAd:React.createElement(O.Form,{horizontal:!0},this.getSearchs()),showSearchAd:l,datas:n&&n.toJS(),selectedKey:s.get("viewcondition"),counts:o&&o.toJS(),onSearch:function(e){a.doSearch()},onSearchChange:function(e){a.saveOrderFields({requestname:{name:"requestname",value:e}})},keyParam:"viewcondition",countParam:"groupid",onChange:this.changeData.bind(this)}),React.createElement(T.WeaTable,{hasOrder:!0,needScroll:!0})))),React.createElement(R.Synergy,{pathname:"/workflow/listMine",requestid:"-1"}))}},{key:"onRightMenuClick",value:function(e){var t=this.props,r=t.actions,n=t.comsWeaTable;n.get("selectedRowKeys");"0"==e&&(r.doSearch(),r.setShowSearchAd(!1)),"1"==e&&(r.setColSetVisible(!0),r.tableColSet(!0))}},{key:"getRightMenu",value:function(){var e=this.props,t=e.comsWeaTable,r=e.sharearg,n=(e.actions,t.get("selectedRowKeys"),r&&r.get("hasBatchBtn"),[]);return n.push({icon:React.createElement("i",{className:"icon-Right-menu--search"}),content:"搜索"}),n.push({icon:React.createElement("i",{className:"icon-Right-menu-Custom"}),content:"显示定制列"}),n}},{key:"getSearchs",value:function(){return[React.createElement(I.WeaSearchGroup,{needTigger:!0,title:this.getTitle(),showGroup:this.isShowFields(),items:this.getFields()}),React.createElement(I.WeaSearchGroup,{needTigger:!0,title:this.getTitle(1),showGroup:this.isShowFields(1),items:this.getFields(1)})]}},{key:"getTitle",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.conditioninfo;return!(0,k["default"])(t.toJS())&&t.toJS()[e].title}},{key:"isShowFields",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.conditioninfo;return!(0,k["default"])(t.toJS())&&t.toJS()[e].defaultshow}},{key:"getFields",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=this.props.conditioninfo,n=!(0,k["default"])(r.toJS())&&r.toJS()[t].items,o=[];return(0,S["default"])(n,function(t){o.push({com:React.createElement(L,{label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol}},I.WeaTools.switchComponent(e.props,t.key,t.domkey,t)),colSpan:1})}),o}},{key:"changeData",value:function(e){var t=this.props.actions;t.setShowSearchAd(!1),t.doSearch({viewcondition:e},{})}},{key:"getTree",value:function(){var e=this.props,t=e.leftTree,r=e.leftTreeCount,n=e.leftTreeCountType,o=e.actions,a=e.topTab,i=(e.searchParams,e.selectedTreeKeys),s=e.loading;return React.createElement(I.WeaLeftTree,{datas:t&&t.toJS(),counts:r&&r.toJS(),countsType:n&&n.toJS(),selectedKeys:i&&i.toJS(),loading:s,onFliterAll:function(){o.setShowSearchAd(!1),o.setSelectedTreeKeys([]),o.saveOrderFields(),o.initDatas({method:"all"}),o.doSearch({method:"all",viewcondition:0,workflowid:"",wftype:""})},onSelect:function(e,r,n){o.setShowSearchAd(!1);var i="0";o.setSelectedTreeKeys([e]),a.map(function(e){n&&n.name&&e.get("groupid")==n.name&&(i=e.get("viewcondition"))});var s=0===e.indexOf("wf_")?e.substring(3):"",l=0===e.indexOf("type_")?e.substring(5):"",u="",c="";t&&t.map(function(t){t.get("domid")==e&&(c=t.get("name")),t.get("childs")&&t.get("childs").map(function(t){t.get("domid")==e&&(u=t.get("name"))})});var d={workflowid:{name:"workflowid",value:s,valueSpan:u},workflowtype:{name:"workflowtype",value:l,valueSpan:c}};o.saveOrderFields(d),o.doSearch({method:0===e.indexOf("type_")?"reqeustbytype":"reqeustbywfid",wftype:l,workflowid:s,viewcondition:i})}})}},{key:"getTabButtonsAd",value:function(){var e=this.props.actions;return[React.createElement(O.Button,{type:"primary",onClick:function(){e.doSearch(),e.setShowSearchAd(!1)}},"搜索"),React.createElement(O.Button,{type:"ghost",onClick:function(){e.saveOrderFields({})}},"重置"),React.createElement(O.Button,{type:"ghost",onClick:function(){e.setShowSearchAd(!1)}},"取消")]}},{key:"getButtons",value:function(){var e=this.props,t=(e.selectedRowKeys,e.actions,[]);return t}}]),t}(React.Component),F=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props.error&&""!==this.props.error;return React.createElement(I.WeaErrorPage,{msg:e?this.props.error:"对不起，该页面异常，请联系管理员！"})}}]),t}(React.Component);W=I.WeaTools.tryCatch(React,F,{error:""})(W),W=q({onFieldsChange:function(e,t){e.actions.saveOrderFields((0,l["default"])({},e.orderFields.toJS(),t))},mapPropsToFields:function(e){return e.orderFields.toJS()}})(W),t["default"]=(0,w.connect)(a,i)(W)},function(module,exports,__webpack_require__){function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function mapStateToProps(e){var t=e.workflowReq,r=e.workflowlistDoing,n=e.comsWeaTable;return{params:t.get("params"),loading:t.get("loading"),formLayout:t.get("formLayout"),tableInfo:t.get("tableInfo"),formValue:t.get("formValue"),formValue4Detail:t.get("formValue4Detail"),logList:t.get("logList"),logParams:t.get("logParams"),logCount:t.get("logCount"),logListTabKey:t.get("logListTabKey"),cellInfo:t.get("cellInfo"),wfStatus:t.get("wfStatus"),resourcesTabKey:t.get("resourcesTabKey"),rightMenu:t.get("rightMenu"),reqTabKey:t.get("reqTabKey"),reqIsSubmit:t.get("reqIsSubmit"),pathBack:r.get("nowRouterWfpath"),reqIsReload:t.get("reqIsReload"),requestid:t.get("params").get("requestid"),isShowSignInput:!!t.get("isShowSignInput")&&t.get("isShowSignInput"),scriptcontent:t.get("scriptcontent"),custompagehtml:t.get("custompagehtml"),isShowUserheadimg:t.get("isShowUserheadimg"),reqsubmiterrormsghtml:t.getIn(["dangerouslyhtml","reqsubmiterrormsghtml"]),rightMenuStatus:t.get("rightMenuStatus"),signFields:t.get("signFields"),showSearchDrop:t.get("showSearchDrop"),showBackToE8:t.get("showBackToE8"),showuserlogids:t.get("showuserlogids"),reqRequestId:t.get("reqRequestId"),relLogParams:t.get("relLogParams"),isLoadingLog:t.get("isLoadingLog"),reqLoadDuration:t.get("reqLoadDuration"),jsLoadDuration:t.get("jsLoadDuration"),apiDuration:t.get("apiDuration"),dispatchDuration:t.get("dispatchDuration"),comsWeaTable:n.get(n.get("tableNow"))}}function mapDispatchToProps(e){return{actions:(0,_redux.bindActionCreators)(ReqAction,e)}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(47),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(48),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(52),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(88),_inherits3=_interopRequireDefault(_inherits2),_redux=__webpack_require__(97),_reactRedux=__webpack_require__(112),_req=__webpack_require__(278),ReqAction=_interopRequireWildcard(_req),_antd=__webpack_require__(134),_FormLayout=__webpack_require__(280),_FormLayout2=_interopRequireDefault(_FormLayout),_Sign=__webpack_require__(291),_Sign2=_interopRequireDefault(_Sign),_ImgZoom=__webpack_require__(293),_ImgZoom2=_interopRequireDefault(_ImgZoom),_WfStatus=__webpack_require__(294),_WfStatus2=_interopRequireDefault(_WfStatus),_Resources=__webpack_require__(295),_Resources2=_interopRequireDefault(_Resources),_Share=__webpack_require__(296),_Share2=_interopRequireDefault(_Share),_Forward=__webpack_require__(297),_Forward2=_interopRequireDefault(_Forward),_ecCom=__webpack_require__(123),_weaPortal=__webpack_require__(274),_PropTypes=__webpack_require__(45),_PropTypes2=_interopRequireDefault(_PropTypes),_immutable=__webpack_require__(129),_immutable2=_interopRequireDefault(_immutable),is=_immutable2["default"].is,Req=function(_React$Component){function Req(e){(0,_classCallCheck3["default"])(this,Req);var t=(0,_possibleConstructorReturn3["default"])(this,(Req.__proto__||Object.getPrototypeOf(Req)).call(this,e)),r=e.location.query,n=r.requestid,o=r.preloadkey,a=r.comemessage,i=e.actions;return i.initFormLayout(n,o,a),t}return(0,_inherits3["default"])(Req,_React$Component),(0,_createClass3["default"])(Req,[{key:"resetHeight",value:function(){var e=jQuery(".wea-new-top-req-content").height()?jQuery(".wea-new-top-req-content").height():500;jQuery(".req-workflow-map").height(e-5)}},{key:"componentWillReceiveProps",value:function(e,t){window.location.pathname.indexOf("/spa/workflow/index")>=0&&e.formValue&&e.formValue.getIn(["field-1","value"])&&document.title!==e.formValue.getIn(["field-1","value"])&&(document.title=e.formValue.getIn(["field-1","value"]))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.actions;e.isShowSignInput,e.reqIsReload,e.params;this.resetHeight(),t.reqIsSubmit(!1),t.reqIsReload(!1),t.setShowUserlogid("");var r=this;jQuery(".wea-new-top-req-content").scroll(function(){formImgLazyLoad(jQuery(".wea-new-top-req-content"));var e=r.props,n=e.logParams,o=e.isLoadingLog,a=e.logCount,i=e.logList,s=e.params,l=s.get("signListType"),u=jQuery(this).scrollTop();if(l){var c=jQuery(".wea-new-top-req-content").height(),d=jQuery(".wea-popover-hrm-relative-parent").height(),f=n.get("pgnumber"),p=d-(u+c)<200;p&&!o&&i.size<a&&t.scrollLoadSign({pgnumber:parseInt(f)+1,firstload:!1,maxrequestlogid:n.get("maxrequestlogid")})}jQuery("#edui_fixedlayer>div").css("display","none"),jQuery("#remark_div").find("#_signinputphraseblock").css("display","none"),jQuery("#remark_div").find(".filtercontainer").css("display","none")})}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.loading===e.loading&&is(this.props.comsWeaTable,e.comsWeaTable)&&is(this.props.params,e.params)&&is(this.props.tableInfo,e.tableInfo)&&is(this.props.formValue,e.formValue)&&is(this.props.formLayout,e.formLayout)&&is(this.props.formValue4Detail,e.formValue4Detail)&&is(this.props.reqTabKey,e.reqTabKey)&&is(this.props.wfStatus,e.wfStatus)&&is(this.props.logList,e.logList)&&is(this.props.logListTabKey,e.logListTabKey)&&is(this.props.logCount,e.logCount)&&is(this.props.resourcesTabKey,e.resourcesTabKey)&&is(this.props.rightMenu,e.rightMenu)&&is(this.props.reqIsSubmit,e.reqIsSubmit)&&is(this.props.cellInfo,e.cellInfo)&&is(this.props.reqIsReload,e.reqIsReload)&&is(this.props.isShowSignInput,e.isShowSignInput)&&this.props.scriptcontent===e.scriptcontent&&this.props.custompagehtml===e.custompagehtml&&this.props.reqsubmiterrormsghtml===e.reqsubmiterrormsghtml&&is(this.props.rightMenuStatus,e.rightMenuStatus)&&this.props.signFields===e.signFields&&this.props.showBackToE8===e.showBackToE8&&this.props.showSearchDrop===e.showSearchDrop&&is(this.props.isShowUserheadimg,e.isShowUserheadimg)&&this.props.reqLoadDuration===e.reqLoadDuration&&this.props.jsLoadDuration===e.jsLoadDuration&&this.props.apiDuration===e.apiDuration&&this.props.dispatchDuration===e.dispatchDuration&&this.props.showuserlogids===e.showuserlogids&&this.props.reqRequestId===e.reqRequestId&&this.props.isLoadingLog===e.isLoadingLog)}},{key:"componentWillUnmount",value:function(){var e=this.props.actions;e.clearForm(),e.setReqTabKey("1")}},{key:"render",value:function(){var e=this.props,t=e.comsWeaTable,r=e.reqLoadDuration,n=e.jsLoadDuration,o=e.apiDuration,a=e.dispatchDuration,i=e.signFields,s=e.showSearchDrop,l=e.params,u=e.formLayout,c=e.tableInfo,d=e.formValue,f=e.formValue4Detail,p=e.loading,h=(e.markInfo,e.logList),m=e.cellInfo,_=e.location,g=e.logCount,w=e.wfStatus,v=e.actions,y=e.logParams,b=e.resourcesTabKey,S=e.reqTabKey,E=e.logListTabKey,k=e.isShowSignInput,R=(e.initSignInput,e.scriptcontent,e.custompagehtml,e.isShowUserheadimg),T=e.reqsubmiterrormsghtml,I=e.rightMenu,O=e.rightMenuStatus,x=e.showBackToE8,C=e.showuserlogids,A=e.reqRequestId,j=e.relLogParams,D=e.isLoadingLog,P=_.query.requestid,q=l?l.get("titlename"):"",L=(l?l.get("isshared"):"",l?l.get("f_weaver_belongto_userid"):""),N=l?l.get("ismanagePage"):"",M=u.getIn(["eformdesign","etables"]),W=l?l.get("workflowid"):"",F=M?M.getIn(["emaintable","colheads"]):null,U=M?M.getIn(["emaintable","rowheads"]):null,z=M?M.getIn(["emaintable","colattrs"]):null,B=M?M.getIn(["emaintable","rowattrs"]):null,Q=M?M.getIn(["emaintable","ec"]):null,K=Q?_immutable2["default"].Map(Q.map(function(e){return[e.get("id"),e]})):null,H=_immutable2["default"].fromJS(y.get("requestLogParams")?JSON.parse(y.get("requestLogParams")):{}),V=I?I.get("forward"):"",G=E>2?j.get("pgnumber")?j.get("pgnumber"):1:y.get("pgnumber")?y.get("pgnumber"):1,J=[{title:"流程表单",key:"1"},{title:"流程图",key:"2"},{title:"流程状态",key:"3"},{title:"相关资源",key:"4"}],Y={margin:"0 auto"},$=!1;F&&F.map(function(e,t){e.indexOf("%")>=0&&($=!0)}),$&&(Y.width="100%");var X=[];l.get("hiddenarea")&&l.get("hiddenarea").mapEntries(function(e){X.push(React.createElement("input",{type:"hidden",id:e[0],name:e[0],value:e[1]}))});var Z=[];return d.mapEntries&&d.mapEntries(function(e){var t=e[0],r=e[1]&&e[1].get("value");"field-1"==t?t="requestname":"field-2"==t?t="requestlevel":"field-3"==t?t="messageType":"field-5"==t&&(t="chatsType"),Z.push(React.createElement("input",{type:"hidden",id:t,name:t,value:r}))}),f&&f.map(function(e,t){var r=parseInt(t.substring(7))-1,n="";e&&e.map(function(e,t){n+=t+",",e.mapEntries&&e.mapEntries(function(e){var n=e[1]&&e[1].get("value");if("keyid"===e[0])Z.push(React.createElement("input",{type:"hidden",name:"dtl_id_"+r+"_"+t,value:n}));else{var o=e[0]+"_"+t;Z.push(React.createElement("input",{type:"hidden",id:o,name:o,value:n}))}})}),Z.push(React.createElement("input",{type:"hidden",id:"nodesnum"+r,name:"nodesnum"+r,value:e.size})),Z.push(React.createElement("input",{type:"hidden",id:"indexnum"+r,name:"indexnum"+r,value:e.size})),Z.push(React.createElement("input",{type:"hidden",id:"submitdtlid"+r,name:"submitdtlid"+r,value:n})),Z.push(React.createElement("input",{type:"hidden",id:"deldtlid"+r,name:"deldtlid"+r,value:""}))}),React.createElement("div",null,React.createElement(_ecCom.WeaRightMenu,{datas:this.getRightMenu(),onClick:this.onRightMenuClick.bind(this)},React.createElement(_ecCom.WeaReqTop,{title:React.createElement("div",{dangerouslySetInnerHTML:{__html:q}}),loading:p||t.get("loading"),icon:React.createElement("i",{className:"icon-portal-workflow"}),iconBgcolor:"#55D2D4",buttons:this.getButtons(),tabDatas:J,selectedKey:S,onChange:this.changeData.bind(this),showDropIcon:!0,dropMenuDatas:this.getRightMenu(),onDropMenuClick:this.onRightMenuClick.bind(this)},React.createElement(_ecCom.WeaPopoverHrm,null,React.createElement("div",{className:"wea-req-workflow-wrapper"},"1"==S&&React.createElement("div",{id:"reqsubmiterrormsghtml",dangerouslySetInnerHTML:{__html:T}}),React.createElement("div",{className:"wea-req-workflow-form",style:{display:"1"==S?"block":"none",margin:"0 auto"}},M&&React.createElement(_FormLayout2["default"],{symbol:"emaintable",className:"excelMainTable",etables:M,colheads:F,rowheads:U,rowattrs:B,colattrs:z,ecMap:K,cellInfo:m,style:Y,tableInfo:c,formValue:d,formValue4Detail:f})),React.createElement("div",{id:"scriptcontent",style:{display:"1"==S?"block":"none"}}),React.createElement("div",{id:"custompage",style:{display:"1"==S?"block":"none"}}),React.createElement("input",{type:"hidden",id:"e9form_review",value:"1"}),React.createElement("div",{className:"wea-req-workflow-loglist",style:{display:"1"==S?"block":"none"}},M&&React.createElement(_Sign2["default"],{signinputinfo:l.get("signinputinfo"),logList:h,actions:v,logListTabKey:E,isShowUserheadimg:R,userId:L,requestLogParams:H,onChange:function(e){return v.setlogParams({pgnumber:e,firstload:!1})},current:G,pagesize:y.get("logpagesize")?y.get("logpagesize"):10,total:g?g:0,onPageSizeChange:function(e){return v.setLogPagesize({logpagesize:e})},ismanagePage:N,isShowSignInput:k,signFields:i,showSearchDrop:s,forward:V,params:l,showuserlogids:C,reqRequestId:A,isLoadingLog:D})),React.createElement("div",{className:"wea-req-workflow-picture",style:{display:"2"==S?"block":"none"}},React.createElement("iframe",{className:"req-workflow-map",src:"",style:{border:0,width:"100%"}})),React.createElement("div",{className:"wea-req-workflow-status",style:{display:"3"==S?"block":"none"}},React.createElement(_WfStatus2["default"],{actions:v,datas:w,reqParams:{requestid:P}})),"4"==S&&React.createElement(_Resources2["default"],{requestid:P,actions:v,tabKey:b}),"5"==S&&!1&&React.createElement(_Share2["default"],null),"1"==S&&M&&window.location.pathname.indexOf("/spa/workflow/index")>=0&&React.createElement(_antd.Popover,{trigger:"click",content:React.createElement("div",null,React.createElement("p",null,"js加载耗时: ",n," 毫秒"),React.createElement("p",null,"接口耗时: ",o," 毫秒"),React.createElement("p",null,"渲染耗时: ",a," 毫秒"))},React.createElement("div",{style:{width:"100%",textAlign:"center",color:"#d4d4d4"}},"页面加载耗时: ",React.createElement("span",{style:{fontWeight:800}},r/1e3)," 秒")))))),React.createElement("form",null,X,Z),React.createElement(_Forward2["default"],{showForward:O.get("showForward"),ismanagePage:N,forwardOperators:O.get("forwarduserid"),fromform:!0,actions:v,requestid:P,controllShowForward:this.controllShowForward.bind(this)}),React.createElement("div",{className:"back_to_old_req",onMouseEnter:function(){return v.setShowBackToE8(!0)},onMouseLeave:function(){return v.setShowBackToE8(!1)},onClick:function(){openFullWindowHaveBarForWFList("/workflow/request/ViewRequest.jsp?requestid="+P+"&isovertime=0",848)}},React.createElement("div",{style:{display:x?"block":"none"}},React.createElement("p",null,"E8"),React.createElement("p",null,"模式"))),React.createElement(_ImgZoom2["default"],null),React.createElement(_weaPortal.Synergy,{pathname:"/workflow/req",workflowid:W,requestid:P}))}},{key:"onRightMenuClick",value:function onRightMenuClick(key){var rightMenu=this.props.rightMenu;rightMenu&&!is(rightMenu,_immutable2["default"].fromJS({}))&&rightMenu.get("rightMenus").map(function(m,i){var fn=m.get("menuFun").indexOf("this")>=0?m.get("menuFun").split("this")[0]+")":m.get("menuFun");Number(key)==i&&eval(fn)}),"0"==key&&(actions.doSearch(),actions.setShowSearchAd(!1)),"1"==key&&actions.batchSubmitClick({checkedKeys:""+selectedRowKeys.toJS()}),"2"==key&&(actions.setColSetVisible(!0),actions.tableColSet(!0))}},{key:"getRightMenu",value:function(){var e=this.props.rightMenu,t=[];return e&&!is(e,_immutable2["default"].fromJS({}))&&e.get("rightMenus").map(function(e){e.get("menuFun").indexOf("this")>=0?e.get("menuFun").split("this")[0]+")":e.get("menuFun");t.push({icon:React.createElement("i",{className:e.get("menuIcon")}),content:e.get("menuName")})}),t}},{key:"changeData",value:function(e){var t=this.props,r=t.actions,n=t.location,o=t.wfStatus,a=t.resourcesTabKey,i=t.params,s=n.query.requestid,l=i?i.get("workflowid"):"",u=i?i.get("nodeid"):"",c=i?i.get("modeid"):"",d=i?i.get("formid"):"",f=i?i.get("isbill"):"";"2"==e&&!jQuery(".req-workflow-map").attr("src")&&jQuery(".req-workflow-map").attr("src","/workflow/request/WorkflowRequestPictureInner.jsp?f_weaver_belongto_userid=&f_weaver_belongto_usertype=&fromFlowDoc=&modeid="+c+"&requestid="+s+"&workflowid="+l+"&nodeid="+u+"&isbill="+f+"&formid="+d+"&showE9Pic=1"),"3"==e&&is(o,_immutable2["default"].fromJS({}))&&r.loadWfStatusData({requestid:s},"all",!0),"4"==e&&r.getResourcesKey(s,a),r.setReqTabKey(e)}},{key:"getButtons",value:function getButtons(){var _props4=this.props,rightMenu=_props4.rightMenu,pathBack=_props4.pathBack,loading=_props4.loading,actions=_props4.actions,params=_props4.params,router=this.context.router,ismanagePage=params?params.get("ismanagePage"):"",btnArr=[];return rightMenu&&!is(rightMenu,_immutable2["default"].fromJS({}))&&rightMenu.get("rightMenus").map(function(m){var fn=m.get("menuFun").indexOf("this")>=0?m.get("menuFun").split("this")[0]+")":m.get("menuFun");"1"==m.get("isTop")&&btnArr.length<4&&btnArr.push(React.createElement(_antd.Button,{type:"primary",disabled:loading,onClick:function onClick(){eval(fn)}},m.get("menuName")))}),window.location.pathname.indexOf("/spa/workflow/index")<0&&btnArr.push(React.createElement(_antd.Button,{type:"ghost",onClick:this.gobackpage.bind(this,router,ismanagePage)},"返回")),btnArr}},{key:"getHideButtons",value:function getHideButtons(){var rightMenu=this.props.rightMenu,btnArr=[];return rightMenu&&!is(rightMenu,_immutable2["default"].fromJS({}))&&rightMenu.get("rightMenus").map(function(m){var fn=m.get("menuFun").indexOf("this")>=0?m.get("menuFun").split("this")[0]+")":m.get("menuFun");btnArr.push(React.createElement("a",{href:"javascript:void(0)",onClick:function onClick(){eval(fn)}},React.createElement("i",{className:m.get("menuIcon")||"icon-top-search",style:{marginRight:10,verticalAlign:"middle"}}),m.get("menuName")))}),btnArr}},{key:"gobackpage",value:function(e,t){"1"==t&&UEUtil.getUEInstance("remark").destroy(),e.goBack()}},{key:"controllShowForward",value:function(e){var t=this.props.actions;t.setShowForward(e)}}]),Req}(React.Component);Req.contextTypes={router:_PropTypes2["default"].routerShape};var fliterNull=function(e,t){return e&&e[t]?e[t]:null},MyErrorHandler=function(e){function t(){return(0,_classCallCheck3["default"])(this,t),(0,_possibleConstructorReturn3["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,_inherits3["default"])(t,e),(0,_createClass3["default"])(t,[{key:"render",value:function(){var e=this.props.error&&""!==this.props.error;return React.createElement(_ecCom.WeaErrorPage,{msg:e?this.props.error:"对不起，该页面异常，请联系管理员！"})}}]),t}(React.Component);Req=_ecCom.WeaTools.tryCatch(React,MyErrorHandler,{error:""})(Req),exports["default"]=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Req)},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clearLogData=t.aboutVersion=t.setIsLoadingLog=t.scrollLoadSign=t.setmaxrequestlogid=t.loadRefReqSignInfo=t.setShowUserlogid=t.setShowBackToE8=t.doDeleteE9=t.setShowSearchDrop=t.saveSignFields=t.setShowForward=t.updateHiddenSysFieldname=t.sureReject=t.loadRejectNodeInfo=t.doReject=t.updateUserTxStatus=t.setIsShowUserheadimg=t.doingDrawBack=t.doDrawBack=t.doRetract=t.doRestart=t.doCancel=t.doStop=t.setReqSubmitErrorMsgHtml=t.controlSignInput=t.reqIsReload=t.reqIsSubmit=t.setOperateInfo=t.signmustinputtips=t.setSignInputInfo=t.doSubmitE9Api=t.doSubmitE9=t.getformdatas=t.setHiddenArea=t.getResourcesKey=t.controlWfStatusHideRow=t.switchWfStatusCard=t.loadWfStatusData=t.setRightMenuInfo=t.setMarkInputInfo=t.setLoglistTabKey=t.setlogParams=t.setLogPagesize=t.setMarkInfo=t.setReqTabKey=t.setCustompageHtml=t.clearForm=t.doLoading=t.loadScript=t.initFormLayout=void 0;
var a=r(1),i=o(a),s=r(134),l=r(125),u=r(121),c=n(u),d=r(279),f=n(d),h=r(124),m=(n(h),r(135)),_=o(m),g=r(129),w=o(g),v=s.Modal.confirm,y=(s.Modal.success,s.Modal.warning),b=l.WeaTable.action,S=w["default"].List,E=(t.initFormLayout=function(e,t,r){return function(n,o){n({type:c.FORM_LOADING,loading:!0});var a=(new Date).getTime();f.getFormReqInfo({actiontype:"loadRight",requestid:e,preloadkey:t,comemessage:r}).then(function(t){var r=t.params,o=(new Date).getTime(),i=o-a;n({type:c.INIT_FORMVALUE,params:r,formLayout:t.datajson,formValue:t.maindata,cellInfo:t.cellinfo,tableInfo:t.tableinfo,linkageCfg:t.linkageCfg}),n({type:"TEST_PAGE_LOAD_DURATION",reqLoadDuration:(new Date).getTime()-(window.REQ_PAGE_LOAD_START?window.REQ_PAGE_LOAD_START:0),jsLoadDuration:window.JS_LOAD_DURATION?window.JS_LOAD_DURATION:0,apiDuration:i,dispatchDuration:(new Date).getTime()-o}),formImgLazyLoad(jQuery(".wea-new-top-req-content"));var s=t.tableinfo,l="";for(p in s)"main"!==p&&(l+=p+",");""!=l&&(l=l.substring(0,l.length-1)),""!==l?f.getFormReqInfo({actiontype:"detaildata",requestid:e,workflowid:r.workflowid,nodeid:r.nodeid,formid:r.formid,isbill:r.isbill,ismode:r.ismode,modeid:r.modeid,detailmark:l}).then(function(e){n({type:c.INIT_FORMVALUE4DETAIL,formValue4Detail:e}),n(E(r))}):n(E(r)),f.getFormReqInfo({actiontype:"rightMenu",requestid:e,isviewonly:1,ismanagePage:r.ismanagePage}).then(function(e){n(I(e))}),f.getFormReqInfo({actiontype:"updatereqinfo",requestid:e,ismanagePage:r.ismanagePage,currentnodetype:r.currentnodetype,wfmonitor:r.wfmonitor,isurger:r.isurger}).then(function(e){});var u=r.signListType?"scroll":"split",d={actiontype:"requestLog",requestid:e,pgnumber:1,firstload:!0,maxrequestlogid:0,loadmethod:u,submit:r.ismanagePage,workflowid:r.workflowid,nodeid:r.nodeid};n(T(d));try{window.opener._table.reLoad()}catch(h){}try{jQuery(window.opener.document).find("#btnWfCenterReload").click()}catch(h){}})}},t.loadScript=function(e){return function(t,r){Promise.all([f.loadScriptContent({layoutid:e.modeid,usebak:1}),f.getFormReqInfo({actiontype:"copycustompagefile",custompage:e.custompage,workflowid:e.workflowid}).then(function(t){return""==t.custompagee9?new Promise(function(e){e("")}):f.loadCustompage({custompage:t.custompagee9,custompageparam:e.hiddenarea})})]).then(function(e){jQuery("#scriptcontent").html("").append(e[0]),jQuery("#custompage").html("").append(e[1]),"function"==typeof window.formReady&&window.formReady()})}}),k=(t.doLoading=function(){return{type:c.LOADING,loading:!0}},t.clearForm=function(){return{type:c.CLEAR_FORM}},t.setCustompageHtml=function(e){return{type:c.SET_CUSTOMPAGE_HTML,custompagehtml:e}},t.setReqTabKey=function(e){return{type:c.SET_REQ_TABKEY,reqTabKey:e}}),R=t.setMarkInfo=function(){return function(e,t){var r=t().workflowReq.get("logParams").merge(t().workflowReq.get("logSearchParams")).toJS(),n=r.requestLogParams;n&&(n=JSON.parse(n),n.allrequestInfos=[],n.viewnodes=[],r.requestLogParams=JSON.stringify(n));var o=t().workflowReq.get("logCount");e(Q(!0)),f.getFormReqInfo(r).then(function(t){var n=t,a=n.requestLogParams?{requestLogParams:JSON.stringify(n.requestLogParams),logpagesize:n.requestLogParams.wfsignlddtcnt}:{};a.maxrequestlogid=n.maxrequestlogid,e({type:c.SET_MARK_INFO,logList:n.log_loglist,logCount:n.totalCount?n.totalCount:o,logParams:a}),!r.requestLogParams&&e(W("1"==n.requestLogParams.txStatus)),e(Q(!1))})}},T=(t.setLogPagesize=function(e){return function(t,r){var n={actiontype:"updateRequestLogPageSize"};n.logpagesize=e.logpagesize,t({type:c.FORM_LOADING,loading:!0}),f.getFormReqInfo(n).then(function(r){var n={pgnumber:1,firstload:!0,maxrequestlogid:0,loadmethod:"split"};n.logpagesize=e.logpagesize,t(T(n)),t({type:c.FORM_LOADING,loading:!1})})}},t.setlogParams=function(e){return function(t,r){t({type:c.SET_LOG_PARAMS,logParams:e}),t(R())}}),I=(t.setLoglistTabKey=function(e,t){return{type:c.SET_LOGLIST_TABKEY,logListTabKey:e,reqRequestId:t}},t.setMarkInputInfo=function(e){return{type:c.SET_MARK_INPUT_INFO,markInfo:e}},t.setRightMenuInfo=function(e){return{type:c.SET_RIGHT_MENU_INFO,rightMenu:e}}),O=(t.loadWfStatusData=function(e,t,r){return function(n,o){n({type:c.FORM_LOADING,loading:!0});var a=o().workflowReq.get("wfStatus"),s=(0,i["default"])({},e,{desremark:t,isfirst:r,pageSize:50});r||(s.parameter=JSON.stringify(a.getIn([t,"parameter"]))),f.getWfStatus(s).then(function(e){var r={cardid:t};r[t]=e,n({type:c.SET_WORKFLOW_STATUS,wfStatus:r})}),"all"===t&&r&&f.getWfStatusCount(e).then(function(e){n({type:c.SET_WORKFLOW_STATUS,wfStatus:{counts:e}})})}},t.switchWfStatusCard=function(e){return function(t,r){t({type:c.SET_WORKFLOW_STATUS,wfStatus:{cardid:e}})}},t.controlWfStatusHideRow=function(e){return function(t,r){t({type:c.SET_WORKFLOW_STATUS,wfStatus:{hideRowKeys:e}})}},t.getResourcesKey=function(e,t){return function(r,n){f.getResourcesKey({requestid:e,tabindex:t}).then(function(e){r({type:c.SET_RESOURCES_KEY,key:e.sessionkey,tabindex:t}),r(b.getDatas(e.sessionkey,1))})}},t.setHiddenArea=function(e){return{type:c.SET_HIDDEN_AREA,hiddenarea:e}}),x=t.getformdatas=function(){return function(e,t){var r=t().workflowReq.get("formValue"),n=t().workflowReq.get("formValue4Detail"),o={};return r.mapEntries&&r.mapEntries(function(e){e[1].mapEntries(function(t){if("value"==t[0]){var r=z(e[0]);o[r]=t[1]}})}),n&&n.map(function(e,t){var r=parseInt(t.substring(7))-1,n="";e&&e.map(function(e,t){n+=t+",",e.mapEntries&&e.mapEntries(function(e){var n="keyid"===e[0]?"dtl_id_"+r+"_"+t:e[0]+"_"+t,a=e[1]&&e[1].get("value");o[n]=a})}),o["nodesnum"+r]=e.size,o["indexnum"+r]=e.size,o["submitdtlid"+r]=n,o["deldtlid"+r]=""}),o}},C=(t.doSubmitE9=function(e,t,r){return function(n,o){var a=o().workflowReq.getIn(["params","hiddenarea"]),i=a.get("isSubmitDirectNode"),s=a.get("lastnodeid"),l=a.get("needconfirm"),u=a.get("nodetype"),c=(a.get("fromFlowDoc"),a.get("isworkflowdoc"),a.get("isuseTemplate"),a.get("isFormSignature")),d=a.get("isHideInput"),f=n(x()),p=(0,_["default"])({},f,{src:t,needwfback:r,RejectToNodeid:"",isFirstSubmit:"0"});"submit"==t?(p=(0,_["default"])({},p,"1"==i?{SubmitToNodeid:s}:{}),"1"==l&&"0"!=u?v({title:"确认提交流程吗？",onOk:function(){n(O(p)),C(),n(A(e,t,r,p))},onCancel:function(){}}):(n(O(p)),C(),n(A(e,t,r,p)))):(n(O(p)),"1"==c&&"1"!=d&&"function"==typeof SaveSignature_save&&SaveSignature_save(),n(A(e,t,r,p)))}},function(){"function"==typeof SaveSignature&&!SaveSignature()}),A=t.doSubmitE9Api=function K(e,t,r,n){return function(r,o){var a=o().workflowReq.getIn(["params","signinputinfo"]).toJS(),i=a.isSignMustInput,l=(a.isFormSignature,!0),u="";if("submit"==t){try{if(!checkCustomize())return!1}catch(d){}try{if(!checkCarSubmit())return!1}catch(d){}}var p=!("save"==t&&"requestOperation"==e);if("1"==i&&p){var h=FCKEditorExt.getText("remark");l=chekcremark(h)}u=FCKEditorExt.getHtml("remark"),l?!function(){var a=o().workflowReq.getIn(["params","hiddenarea"]).toJS(),i=j(a.requestid);r({type:c.FORM_LOADING,loading:!0}),f.getRequestSubmit((0,_["default"])({},a,n,i,{actiontype:e,remark:u,src:t})).then(function(n){var i=n.type,s=(n.lastOperator,n.lastOperateDate),l=n.lastOperateTime,u={lastOperator:n.lastOperator,lastOperateDate:s,lastOperateTime:l};if(r(P(u)),"FAILD"==i)r(P({eh_setoperator:""})),r(N(n.messagehtml));else if("SUCCESS"==i)if("requestOperation"==e&&"save"==t)r(L(!0));else if("1"==n.isShowChart){r(k("2"));var d=a.requestid,f=a.workflowid,p=a.isbill,h=a.formid,m=a.isfromtab,_=a.f_weaver_belongto_userid;a.f_weaver_belongto_usertype;jQuery(".req-workflow-map").attr("src","/workflow/request/WorkflowDirection.jsp?requestid="+d+"&workflowid="+f+"&isbill="+p+"&formid="+h+"&isfromtab="+m+"&f_weaver_belongto_userid="+_+"&f_weaver_belongto_usertype");try{window.opener._table.reLoad()}catch(g){}try{jQuery(window.opener.document).find("#btnWfCenterReload").click()}catch(g){}}else r(q(!0));else if("SEND_PAGE"==i)window.location.href=n.sendPage;else if("WF_LINK_TIP"==i)v({title:n.msgcontent,onOk:function(){r(P({isFirstSubmit:1})),r(K("requestOperation","submit","",r(x())))},onCancel:function(){}});else if("R_CHROSE_OPERATOR"==i){var w=n.needChooseOperator;if("y"==w){var b=null;b=window.top.Dialog?new window.top.Dialog:new Dialog,b.currentWindow=window,b.Width=650,b.Height=500,b.Modal=!0,b.maxiumnable=!1,b.Title="请选择",b.URL="/workflow/request/requestChooseOperator.jsp",b.callbackfun=function(e,t){var n={eh_setoperator:"y",eh_relationship:t.relationship,eh_operators:t.operators};r(P(n)),r(K("requestOperation","submit","",r(x())))},b.closeHandle=function(e,t){var n=o().workflowReq.getIn(["params","hiddenarea"]).get("eh_setoperator");"y"!=n&&(r(P({eh_setoperator:"n"})),r(K("requestOperation","submit","",r(x()))))},b.show()}}else"DELETE"==i&&y({title:"删除成功 ",okText:"确定",onOk:function(){r(q(!0))}});r({type:c.FORM_LOADING,loading:!1})})}():(r({type:c.CONTROLL_SIGN_INPUT,bool:!0}),s.message.warning('"签字意见"未填写',2),D())}},j=t.setSignInputInfo=function(e){var t=jQuery("#remark_div");return{signworkflowids:t.find("#signworkflowids").val(),signdocids:t.find("#signdocids").val(),remarkLocation:t.find("#remarkLocation").val(),"field-annexupload":t.find("#field-annexupload").val(),field_annexupload_del_id:t.find("#field_annexupload_del_id").val(),"field-annexupload-name":t.find("#field-annexupload-name").val(),"field-annexupload-count":t.find("#field-annexupload-count").val(),"field-annexupload-request":e}},D=t.signmustinputtips=function(){var e=parseInt(jQuery("#remark").offset().top);0==e&&(e=parseInt(jQuery("#remarkShadowDiv").offset().top));var t=0,r=e>0&&e-jQuery(".wea-new-top-req").height()+200<jQuery(".wea-new-top-req-content").height();r||(e-jQuery(".wea-new-top-req").height()+200>jQuery(".wea-new-top-req-content").height()&&(t=e+jQuery(".wea-new-top-req-content").scrollTop()-185),e<jQuery(".wea-new-top-req").height()&&(e<0&&(e*=-1),t=jQuery(".wea-new-top-req-content").scrollTop()-e-jQuery(".wea-new-top-req").height()-100),jQuery(".wea-new-top-req-content").animate({scrollTop:t+"px"},0)),UE.getEditor("remark").focus(!0)},P=t.setOperateInfo=function(e){return{type:c.SET_OPERATE_INFO,updateinfo:e}},q=t.reqIsSubmit=function(e){return function(t,r){if(t({type:c.REQ_IS_SUBMIT,bool:e}),e){try{window.opener._table.reLoad()}catch(n){}try{jQuery(window.opener.document).find("#btnWfCenterReload").click()}catch(n){}window.close()}}},L=t.reqIsReload=function(e){return function(t,r){if(t({type:c.REQ_IS_RELOAD,bool:e}),e){var n=r(),o=n.routing,a=n.workflowReq,i=o.locationBeforeTransitions.search,s=a.get("params");"1"==s.get("ismanagePage")&&UE.getEditor("remark").destroy(),t({type:c.CLEAR_ALL}),weaWfHistory&&weaWfHistory.push("/main/workflow/ReqReload"+i)}}},N=(t.controlSignInput=function(e){return function(t,r){t({type:c.CONTROLL_SIGN_INPUT,bool:e})}},t.setReqSubmitErrorMsgHtml=function(e){return{type:c.SET_REQ_SUBMIT_ERROR_MSG_HTML,msghtml:e}}),M=(t.doStop=function(){return function(e,t){var r=t().workflowReq.get("params"),n=r.get("requestid"),o=r.get("f_weaver_belongto_userid");v({title:"您确定要暂停当前流程吗？",onOk:function(){f.getRequestSubmit({actiontype:"functionLink",requestid:n,f_weaver_belongto_userid:o,f_weaver_belongto_usertype:0,flag:"stop"}).then(function(t){e(q(!0))})}})}},t.doCancel=function(){return function(e,t){var r=t().workflowReq.get("params"),n=r.get("requestid"),o=r.get("f_weaver_belongto_userid");v({title:"您确定要撤销当前流程吗 ？",onOk:function(){f.getRequestSubmit({actiontype:"functionLink",requestid:n,f_weaver_belongto_userid:o,f_weaver_belongto_usertype:0,flag:"cancel"}).then(function(t){e(q(!0))})}})}},t.doRestart=function(){return function(e,t){var r=t().workflowReq.get("params"),n=r.get("requestid"),o=r.get("f_weaver_belongto_userid");v({title:"您确定要启用当前流程吗？",onOk:function(){f.getRequestSubmit({actiontype:"functionLink",requestid:n,f_weaver_belongto_userid:o,f_weaver_belongto_usertype:0,flag:"restart"}).then(function(t){e(L(!0))})}})}},t.doRetract=function(){return function(e,t){var r=t().workflowReq.get("params"),n=r.get("requestid"),o=r.get("f_weaver_belongto_userid"),a=r.get("workflowid");f.getRequestSubmit({actiontype:"functionLink",requestid:n,f_weaver_belongto_userid:o,f_weaver_belongto_usertype:0,workflowid:a,flag:"rb"}).then(function(t){t.reqRoute?e(L(!0)):window.location.href="/workflow/request/ViewRequest.jsp?requestid="+n+"&f_weaver_belongto_userid="+o+"&f_weaver_belongto_usertype=0"})}},t.doDrawBack=function(){return function(e,t){var r=t().workflowReq.getIn(["params","hiddenarea"]).toJS();"1"==r.needconfirm?v({title:"您确定将该流程强制归档吗？",onOk:function(){e(M(r))},onCancel:function(){}}):e(M(r))}},t.doingDrawBack=function(e){return function(t,r){var n=r().workflowReq.getIn(["params","signinputinfo"]),o=n.get("isSignMustInput"),a=!0;if("1"==o){var i=FCKEditorExt.getText("remark");a=chekcremark(i)}if(remark=FCKEditorExt.getHtml("remark"),a){var l=t(x()),u=j(r().workflowReq.getIn(["params","requestid"])),d=(0,_["default"])({},e,l,u,{actiontype:"functionLink",flag:"ov",fromflow:1,remark:remark});f.getRequestSubmit(d).then(function(e){t(q(!0))})}else t({type:c.CONTROLL_SIGN_INPUT,bool:!0}),s.message.warning('"签字意见"未填写',2),D()}}),W=t.setIsShowUserheadimg=function(e){return{type:c.IS_SHOW_USER_HEAD_IMG,bool:e}},F=(t.updateUserTxStatus=function(e){return function(t,r){f.updateUserTxStatus({txstatus:e?"1":"0"}).then(function(r){t(W(e))})}},t.doReject=function(){return function(e,t){var r=t().workflowReq.getIn(["params","hiddenarea"]),n=r.get("needconfirm");"1"==n?v({title:"确认是否退回？",onOk:function(){e(F())},onCancel:function(){}}):e(F())}},t.loadRejectNodeInfo=function(){return function(e,t){var r=t().workflowReq.get("params").toJS(),n=r.nodeid,o=r.workflowid,a=r.requestid,i=r.currentnodeid,s=r.f_weaver_belongto_userid;f.getFormReqInfo({actiontype:"rejectinfo",nodeid:n,workflowid:o,requestid:a,currentnodeid:i,f_weaver_belongto_userid:s,f_weaver_belongto_usertype:"0"}).then(function(t){var r=t.type;if("0"==r)e(U());else if("1"==r){var n=t.RejectNodes,o=t.RejectToNodeid;e(U(n,o))}else if("2"==r){var a=t.paramurl,i=t.dialogurl,s=new window.top.Dialog;s.currentWindow=window,s.callbackfunParam=null,s.URL=i+escape(a),s.callbackfun=function(t,r){if(r){var n=r.name.split("|");e(U(n[0],n[1],n[2]))}},s.Title="请选择 ",s.Height=400,s.Drag=!0,s.show()}})}}),U=t.sureReject=function(e,t,r){return function(n,o){var a=n(x()),i=(0,_["default"])({},a,{RejectNodes:e,RejectToNodeid:t,RejectToType:r});n(A("requestOperation","reject","",i))}},z=t.updateHiddenSysFieldname=function(e){switch(e){case"field-1":return"requestname";case"field-2":return"requestlevel";case"field-3":return"messageType";case"field-5":return"chatsType";default:return e}},B=(t.setShowForward=function(e,t){return function(r,n){r({type:c.SET_SHOW_FORWARD,bool:e,forwarduserid:t?t:""})}},t.saveSignFields=function(e){return function(t,r){t({type:c.SAVE_SIGN_FIELDS,value:e})}},t.setShowSearchDrop=function(e){return function(t,r){t({type:c.SET_SHOW_SEARCHDROP,value:e})}},t.doDeleteE9=function(){return function(e,t){var r=t().workflowReq.getIn(["params","hiddenarea"]).toJS();v({title:" 你确定删除该工作流吗？ ",onOk:function(){f.getRequestSubmit((0,_["default"])({},r,{actiontype:"functionLink",src:"delete"})).then(function(t){e(q(!0))})}})}},t.setShowBackToE8=function(e){return{type:c.SET_SHOWBACK_TO_E8,bool:e}},t.setShowUserlogid=function(e){return function(t,r){if(""==e)t({type:c.UPDATE_SHOW_USER_LOGID,showuserlogids:[]});else{var n=r().workflowReq.get("showuserlogids").toJS(),o=n.indexOf(e);o>-1?n=S(n)["delete"](o).toJS():n.push(e),t({type:c.UPDATE_SHOW_USER_LOGID,showuserlogids:n})}}},t.loadRefReqSignInfo=function(e){return function(t,r){t({type:c.SET_REL_REQ_LOG_PARAMS,relLogParams:e});var n=r().workflowReq.get("relLogParams").merge(r().workflowReq.get("logSearchParams")).toJS();f.getFormReqInfo(n).then(function(e){var r=e;t({type:c.SET_MARK_INFO,logList:r.log_loglist,logCount:r.totalCount?r.totalCount:0}),t(B(r.maxrequestlogid,!0))})}},t.setmaxrequestlogid=function(e,t){return t?{type:c.SET_REL_REQ_LOG_PARAMS,relLogParams:{maxrequestlogid:e}}:{type:c.SET_LOG_PARAMS,logParams:{maxrequestlogid:e}}}),Q=(t.scrollLoadSign=function(e){return function(t,r){t(Q(!0));var n=r().workflowReq.get("logListTabKey"),o={};if(n>2)t({type:c.SET_REL_REQ_LOG_PARAMS,relLogParams:e}),o=r().workflowReq.get("relLogParams").merge(r().workflowReq.get("logSearchParams")).toJS();else{t({type:c.SET_LOG_PARAMS,logParams:e}),o=r().workflowReq.get("logParams").merge(r().workflowReq.get("logSearchParams")).toJS();var a=o.requestLogParams;a&&(a=JSON.parse(a),a.allrequestInfos=[],a.viewnodes=[],o.requestLogParams=JSON.stringify(a))}f.getFormReqInfo(o).then(function(e){var o=r().workflowReq.get("logList"),a=o.concat(w["default"].fromJS(e.log_loglist));t({type:c.SET_SCROLL_MARK_INFO,logList:a}),t(B(e.maxrequestlogid,n>2)),t(Q(!1))})}},t.setIsLoadingLog=function(e){return function(t,r){t({type:c.IS_LOADING_LOG,bool:e})}});t.aboutVersion=function(e){y({title:"当前是V"+e+"版本",okText:"确定",onOk:function(){}})},t.clearLogData=function(){return function(e,t){var r=t().workflowReq.get("logListTabKey");e(B(0,r>2)),e({type:c.CLEAR_LOG_DATA})}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.updateUserTxStatus=t.loadCustompage=t.loadScriptContent=t.getResourcesKey=t.getWfStatusCount=t.getWfStatus=t.getFormLayout=t.getRequestSubmit=t.getFormReqInfo=void 0;var n=r(123);t.getFormReqInfo=function(e){return n.WeaTools.callApi("/api/workflow/request/reqinfo","GET",e)},t.getRequestSubmit=function(e){return n.WeaTools.callApi("/workflow/core/ControlServlet.jsp?action=RequestSubmitAction","POST",e)},t.getFormLayout=function(e){return n.WeaTools.callApi("/api/workflow/request/forminfo","GET",e)},t.getWfStatus=function(e){return n.WeaTools.callApi("/api/workflow/request/wfstatusnew","GET",e)},t.getWfStatusCount=function(e){return n.WeaTools.callApi("/api/workflow/request/wfstatuscount","GET",e)},t.getResourcesKey=function(e){return n.WeaTools.callApi("/api/workflow/request/resources","GET",e)},t.loadScriptContent=function(e){return n.WeaTools.callApi("/api/workflow/request/scripts","GET",e,"text")},t.loadCustompage=function(e){return n.WeaTools.callApi(e.custompage,"GET",e.custompageparam,"text")},t.updateUserTxStatus=function(e){return n.WeaTools.callApi("/workflow/request/WorkflowSignStatusAjax.jsp","GET",e)}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(281),p=n(f),h=r(129),m=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!((0,h.is)(this.props.formValue,e.formValue)&&(0,h.is)(this.props.tableInfo,e.tableInfo)&&(0,h.is)(this.props.colheads,e.colheads)&&(0,h.is)(this.props.rowheads,e.rowheads)&&(0,h.is)(this.props.etables,e.etables)&&(0,h.is)(this.props.ecMap,e.ecMap)&&this.props.className===e.className&&(0,h.is)(this.props.style,e.style)&&(0,h.is)(this.props.formValue4Detail,e.formValue4Detail)&&(0,h.is)(this.props.cellInfo,e.cellInfo)&&this.props.symbol===e.symbol)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,n=e.rowheads,o=e.cellInfo,a=e.symbol,i=e.rowattrs,s=e.colattrs,l=this.props,u=l.tableInfo,c=l.formValue,d=l.formValue4Detail,f=l.etables,h=l.colheads,m=l.ecMap,_=n.map(function(e,t){return{id:t,h:e}}).toArray();_=_.sort(function(e,t){return parseInt(e.id.substring(4))-parseInt(t.id.substring(4))});var g=h.map(function(e,t){var r="0%"===e?"*":e;return{id:t,w:r}}).toArray();g=g.sort(function(e,t){return parseInt(e.id.substring(4))-parseInt(t.id.substring(4))});var w=h.size,v=new Array;return _.map(function(e){var t=e.h,r=e.id,n=r.split("_"),l=n.length>0?n[1]:-1,h=t;v.push(React.createElement(p["default"],{symbol:a,row:l,cols:w,rowHeight:h,ecMap:m,tableInfo:u,formValue:c,etables:f,formValue4Detail:d,cellInfo:o,rowattrs:i,colattrs:s}))}),React.createElement("div",null,React.createElement("table",{className:t,style:r},React.createElement("colgroup",null,g.map(function(e){return React.createElement("col",{style:{width:e.w}})})),React.createElement("tbody",null,v)))}}]),t}(React.Component);t["default"]=m},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(47),i=o(a),s=r(48),l=o(s),u=r(52),c=o(u),d=r(88),f=o(d),p=r(282),h=o(p),m=r(288),_=n(m),g=r(129),w=r(134),v=function(e,t,r){for(var n=!1,o=t;o>=0&&!n;o--)for(var a=e-1;a>=0&&!n;a--){var i=r.get(a+","+o),s=i?i.get("rowspan")||1:0,l=i?i.get("colspan")||1:0;s>1&&s>=e-a+1&&l>=t-o+1&&(n=!0)}return n},y=function(e){function t(){return(0,i["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!((0,g.is)(this.props.formValue,e.formValue)&&(0,g.is)(this.props.tableInfo,e.tableInfo)&&(0,g.is)(this.props.etables,e.etables)&&(0,g.is)(this.props.ecMap,e.ecMap)&&this.props.row===e.row&&this.props.drowIndex===e.drowIndex&&this.props.addColType===e.addColType&&this.props.rowHeight===e.rowHeight&&this.props.cols===e.cols&&(0,g.is)(this.props.formValue4Detail,e.formValue4Detail)&&(0,g.is)(this.props.cellInfo,e.cellInfo)&&this.props.symbol===e.symbol)}},{key:"render",value:function(){for(var e=this.props,t=e.cols,r=e.rowattrs,n=e.colattrs,o=0,a=this.props,i=a.row,s=a.rowHeight,l=a.drowIndex,u=a.addColType,c=this.props,d=c.ecMap,f=c.tableInfo,p=c.formValue,m=c.etables,g=c.formValue4Detail,y=c.cellInfo,b=c.symbol,S=new Array;o<t;){var E=i+","+o,k=d.get(E),R=n?n.get("col_"+o):null,T=k?k.get("colspan")||1:0,I=k?k.get("rowspan")||1:0;if(v(i,o,d))o+=1;else if(k){var O=_.getCellAttr(k,R,s),x="etype_"+(k?k.get("etype"):1);O["class"]&&(x+=" "+O["class"]),0===o&&b.indexOf("detail_")>-1&&u>0&&(1===u?S.push(React.createElement("td",{style:O.styleObj},React.createElement("div",{style:O.innerStyleObj}))):2===u?S.push(React.createElement("td",{style:O.styleObj},React.createElement("div",{style:O.innerStyleObj},React.createElement(w.Checkbox,{disabled:!0})))):3===u&&S.push(React.createElement("td",{style:O.styleObj},React.createElement("div",{style:O.innerStyleObj},React.createElement(w.Checkbox,{disabled:!0}),React.createElement("span",{id:"serialnum_"+l},parseInt(l)+1))))),S.push(React.createElement("td",{rowSpan:I,colSpan:T,className:x,style:O.styleObj},React.createElement("div",{id:O.cusid,name:O.cusname,className:O.cusclass,style:O.innerStyleObj},React.createElement(h["default"],{symbol:b,drowIndex:l,cellInfo:y,cellObj:k,etables:m,tableInfo:f,formValue:p,formValue4Detail:g})))),o+=parseInt(T)}else S.push(React.createElement("td",null)),o+=1}var C=r?r.get("row_"+i):null,A=_.getRowAttr(s,C);return React.createElement("tr",{id:A.id,name:A.name,className:A["class"],style:A.styleObj},S)}}]),t}(React.Component);t["default"]=y},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(283),p=n(f),h=r(285),m=n(h),_=r(286),g=n(_),w=r(287),v=n(w),y=r(289),b=n(y),S=r(290),E=n(S),k=r(129),R=r(135),T=(n(R),r(134)),I=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.cellObj,r=e.cellObj,n=!1;if("2"==t.get("etype")||"3"==t.get("etype")){var o=t.get("field"),a=r.get("field"),i=this.props.formValue&&this.props.formValue.get("field"+o),s=e.formValue&&e.formValue.get("field"+a);n=!(0,k.is)(i,s)}return n||!(0,k.is)(this.props.tableInfo,e.tableInfo)||!(0,k.is)(this.props.cellObj,e.cellObj)||!(0,k.is)(this.props.formValue4Detail,e.formValue4Detail)||!(0,k.is)(this.props.etables,e.etables)||!(0,k.is)(this.props.cellInfo,e.cellInfo)||this.props.drowIndex!==e.drowIndex||this.props.symbol!==e.symbol}},{key:"render",value:function(){var e=this.props,t=e.cellObj,r=e.tableInfo,n=e.formValue,o=e.formValue4Detail,a=e.etables,i=e.cellInfo,s=e.symbol,l=e.drowIndex,u=t.get("id"),c=s+"_"+u.replace(",","_"),d=t.get("etype"),f=t.get("field"),h=t.get("evalue");if(""===d||"0"===d||"1"===d||"4"===d||"6"===d)return this.rendSpanHtml(this.transCellText(h));if("2"===d||"3"===d){var _=s.indexOf("detail_")>-1?s:"main",w=r?r.getIn([_,"fieldinfomap"]):null,y=w&&w.get(f);if("2"===d)return React.createElement(m["default"],{cellObj:t,fieldObj:y});if("3"===d)return React.createElement(p["default"],{cellObj:t,fieldObj:y,formValue:n})}else{if("5"===d){var S=i?i.getIn([c,"nodemark"]):"";return this.renderHtml(S)}if("7"===d){var k=t.get("detail");return React.createElement(g["default"],{symbol:k,detailLayout:a.get(k),tableInfo:r,formValue:n,formValue4Detail:o})}if("10"===d){var R=r&&r.getIn([s,"detailtableattr"]),I=R&&R.get("isadd"),O=R&&R.get("isdelete");return React.createElement("div",{className:"detailButtonDiv",style:{width:"100px"}},"1"==I&&React.createElement("input",{disabled:!0,className:"addbtn_p",type:"button",title:"添加"}),"1"==O&&React.createElement("input",{disabled:!0,className:"delbtn_p",type:"button",title:"删除"}))}if("11"===d){var x=t.get("fieldtype"),C=t.get("field"),A=t.get("evalue"),j="";return j=1==x?"http://":j,j=2==x?"https://":j,j=3==x?"ftp://":j,j=4==x?"news://":j,j+=C,React.createElement("a",{target:"_blank",href:j},A)}if("12"===d){var D=i?i.getIn([c,"stylejson"]):"";return React.createElement(b["default"],{cellid:u,style:D,tab:t.get("tab"),etables:a,tableInfo:r,formValue:n,formValue4Detail:o,cellInfo:i})}if("13"===d){var P=t.get("mcpoint"),q=a.get(P);return React.createElement(v["default"],{mcpoint:P,content:q,tableInfo:r,formValue:n,cellInfo:i})}if("15"===d){var L=i?i.getIn([c,"htmlstr"]):"";return this.renderHtml(L)}if("16"===d){var N=i?i.getIn([c,"htmlstr"]):"";return this.renderHtml(N)}if("17"===d){var M=i?i.getIn([c,"htmlstr"]):"";return this.renderHtml(M)}if("18"===d||"19"===d){var W=r?r.getIn([s,"fieldinfomap"]):null,F=W&&W.get(f);if("18"===d){var U=F&&F.get("fieldlabel");return this.renderSpan(U+"(合计)")}var z=o&&o.get(s);return React.createElement(E["default"],{symbol:s,fieldObj:F,detailValue:z})}if("20"===d)return React.createElement(T.Checkbox,{disabled:!0});if("21"===d)return React.createElement(T.Checkbox,{disabled:!0});if("22"===d)return React.createElement("span",{id:"serialnum_"+l},parseInt(l)+1)}return this.renderSpan(h)}},{key:"transCellText",value:function(e){return null===e||"undefined"==typeof e?"":e.replace(/(\r\n|\r|\n)/g,"</br>").replace(/ /g,"&nbsp;")}},{key:"renderSpan",value:function(e){return React.createElement("span",null,e)}},{key:"rendSpanHtml",value:function(e){return React.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}},{key:"renderHtml",value:function(e){return React.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}}]),t}(React.Component);t["default"]=I},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){e||(e="0"),e=e.replace(/,/g,"");var t=new Array,r=/^(-?\d+)(\.\d+)?$/,n=/^(-?\d*)(\.\d+)$/;if(r.test(e)||n.test(e)){e=parseFloat(e).toFixed(2),(e.length>2&&"0."==e.substring(0,2)||e.length>3&&"-0."==e.substring(0,3))&&(e=e.replace("0.","."));for(var o=e.length-1;o>=0;o--){var a=e.charAt(o);"."!=a&&t.push(a)}}return t}Object.defineProperty(t,"__esModule",{value:!0});var a=r(47),i=n(a),s=r(48),l=n(s),u=r(52),c=n(u),d=r(88),f=n(d),p=r(129),h=r(284),m=n(h),_=r(134),g=function(e){function t(){return(0,i["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.cellObj,r=e.cellObj,n=this.props.formValue,o=e.formValue,a=n?n.get("field"+t.get("field")):"",i=o?o.get("field"+r.get("field")):"";return!(0,p.is)(a,i)||!(0,p.is)(this.props.cellObj,e.cellObj)||!(0,p.is)(this.props.fieldObj,e.fieldObj)}},{key:"render",value:function(){var e=this.props,t=e.cellObj,r=e.fieldObj,n=e.formValue,a=r?r.get("htmltype"):"",i=r?r.get("detailtype"):"",s=t.get("field"),l=r&&"1"==r.get("isdetail"),u=n&&n.get("field"+s),c=u&&u.has("value")?u.get("value").toString():"";if("1"==a){var d=t.get("financial");if(d&&d.indexOf("2-")>-1){for(var f=o(c),p=parseInt(d.split("-")[1]||"3"),h=new Array,g=p-1;g>=0;g--){var w="fborder1";0===g?w="":2===g?w="fborder2":(g-2)%3===0&&(w="fborder3"),w="finborder "+w,h.push(React.createElement("td",{className:w},f[g]||""))}return React.createElement("div",{className:"findiv"},React.createElement("table",{className:"fintable"},React.createElement("tr",null,h)))}if("1"==i||"2"==i||"3"==i||"5"==i)return u&&u.has("showname")&&(c=u.get("showname")),u&&u.has("formatvalue")&&(c=u.get("formatvalue")),"1"==i?React.createElement("span",{id:"field"+s+"span",dangerouslySetInnerHTML:{__html:c}}):React.createElement("span",{id:"field"+s+"span"},c);if("4"==i){var v=u&&u.get("specialobj"),y=v&&v.get("thousandsVal"),b=v&&v.get("upperVal");return l?React.createElement("span",{id:"field"+s+"span"},b):React.createElement("div",null,React.createElement("span",null,y),React.createElement("br",null),React.createElement("span",{id:"field"+s+"span"},b))}}else{if("2"==a)return"1"==i?React.createElement("span",{id:"field"+s+"span",dangerouslySetInnerHTML:{__html:c}}):React.createElement("div",{style:{overflowX:"auto",overflowY:"hidden"},dangerouslySetInnerHTML:{__html:c}});if("3"==a){var S=u&&u.get("showname");return u&&u.has("formatvalue")&&(S=u.get("formatvalue")),React.createElement("span",{id:"field"+s+"span",dangerouslySetInnerHTML:{__html:S}})}if("4"==a)return React.createElement(_.Checkbox,{checked:"1"==c,disabled:!0});if("5"==a){var E=u&&u.get("showname");return React.createElement("span",{id:"field"+s+"span"},E)}if("6"==a)return React.createElement(m["default"],{fieldObj:r,fieldValueObj:u});if("7"==a){if("1"==i){var k=r&&r.get("specialattr")?r.getIn(["specialattr","displayname"]):"",R=r&&r.get("specialattr")?r.getIn(["specialattr","linkaddress"]):"";return React.createElement("a",{href:R,target:"_blank",dangerouslySetInnerHTML:{__html:k}})}if("0"==i||"2"==i){var T=r&&r.get("specialattr")?r.getIn(["specialattr","descriptivetext"]):"";return React.createElement("div",{dangerouslySetInnerHTML:{__html:T}})}}}return u&&u.has("showname")&&(c=u.get("showname")),React.createElement("div",{dangerouslySetInnerHTML:{__html:c}})}}]),t}(React.Component);t["default"]=g},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(129),p=r(134),h=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,f.is)(this.props.fieldObj,e.fieldObj)||!(0,f.is)(this.props.fieldValueObj,e.fieldValueObj)}},{key:"render",value:function(){var e=this,t=this.props,r=t.fieldObj,n=t.fieldValueObj,o=(r&&r.get("detailtype"),n&&n.get("specialobj")),a=o&&o.get("filedatas");n&&n.has("value")?n.get("value").toString():"";return React.createElement("div",{className:"field-filearea"},a&&a.map(function(t){return React.createElement(p.Row,{onMouseLeave:e.showBtn.bind(e)},React.createElement(p.Col,{span:16},React.createElement("div",{className:"field-file-img",dangerouslySetInnerHTML:{__html:t.get("imgSrc")}}),React.createElement("div",{className:"field-file-name"},React.createElement("a",{href:t.get("filelink"),title:t.get("filename"),target:"_blank"},t.get("filename")))),React.createElement(p.Col,{span:4},React.createElement("div",{className:"field-file-size"},t.get("filesize"))),React.createElement(p.Col,{
span:4},React.createElement("div",{className:"field-file-btn"},"true"==t.get("showLoad")&&React.createElement("a",{href:t.get("loadlink")},"下载"))))}),!1)}},{key:"showBtn",value:function(){}}]),t}(React.Component);t["default"]=h},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(129),p=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,f.is)(this.props.cellObj,e.cellObj)||!(0,f.is)(this.props.fieldObj,e.fieldObj)}},{key:"render",value:function(){var e=this.props,t=e.cellObj,r=e.fieldObj,n=t.get("financial"),o=r&&r.get("fieldlabel");if(n&&n.indexOf("1-")>-1){for(var a=["分","角","元","十","百","千","万","十","百","千","亿","十"],i=parseInt(n.split("-")[1]||"3"),s=new Array,l=i-1;l>=0;l--){var u="fborder1";0===l?u="":2===l?u="fborder2":(l-2)%3===0&&(u="fborder3"),u="finborder "+u,s.push(React.createElement("td",{className:u},a[l]))}return React.createElement("div",{className:"findiv"},React.createElement("table",{className:"fintable"},React.createElement("tr",{className:"ftoprow"},React.createElement("td",{colSpan:i},o)),React.createElement("tr",null,s)))}return React.createElement("div",null,o)}}]),t}(React.Component);t["default"]=p},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(281),p=n(f),h=r(129),m=n(h),_=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.symbol,r=e.symbol,n=this.props.formValue4Detail&&this.props.formValue4Detail.get(t),o=e.formValue4Detail&&e.formValue4Detail.get(r);return!(t===r&&(0,h.is)(n,o)&&(0,h.is)(this.props.detailLayout,e.detailLayout)&&(0,h.is)(this.props.tableInfo,e.tableInfo)&&(0,h.is)(this.props.formValue,e.formValue))}},{key:"render",value:function(){var e=this.props,t=e.symbol,r=e.detailLayout,n=e.tableInfo,o=e.formValue,a=e.formValue4Detail,i=a&&a.get(t),s=i?i:[],l=r.get("rowheads"),u=r.get("colheads"),c=r.get("ec"),d=r.get("edtitleinrow")?parseInt(r.get("edtitleinrow")):0,f=r.get("edtailinrow")?parseInt(r.get("edtailinrow")):0,h="1"==r.get("seniorset"),_=0;if(0==d||0==f||f<=d)return React.createElement("div",null,"对不起，表头标识、表尾标识设置异常，无法渲染明细！");var g=m["default"].Map(c.map(function(e,t){return[e.get("id"),e]})),w=r.get("rowattrs"),v=r.get("colattrs"),y=l.map(function(e,t){return{id:t,h:e}}).toArray();y=y.sort(function(e,t){return parseInt(e.id.substring(4))-parseInt(t.id.substring(4))});var b=u.map(function(e,t){return{id:t,w:e}}).toArray();b=b.sort(function(e,t){return parseInt(e.id.substring(4))-parseInt(t.id.substring(4))});var S=u.size,E=new Array;return y.map(function(e){var r=e.h,i=e.id,l=i.split("_"),u=parseInt(l.length>0?l[1]:-1),c=r;u===d+1?(h||(_=3),s.map(function(e,r){for(var o=u;o<f;o++)E.push(React.createElement(p["default"],{symbol:t,row:o,cols:S,drowIndex:r,addColType:_,rowHeight:c,ecMap:g,tableInfo:n,formValue:e,etables:null,cellInfo:null,rowattrs:w,colattrs:v}))})):(u<d||h&&u>f)&&(h||(_=u===d-1?2:1),E.push(React.createElement(p["default"],{symbol:t,row:u,cols:S,addColType:_,rowHeight:c,ecMap:g,tableInfo:n,formValue:o,etables:null,cellInfo:null,formValue4Detail:a,rowattrs:w,colattrs:v})))}),React.createElement("div",{className:"excelDetailTableDiv"},React.createElement("table",{className:"excelDetailTable",style:{width:"100%"}},React.createElement("colgroup",null,!h&&React.createElement("col",{style:{width:"5%"}}),b.map(function(e){return React.createElement("col",{style:{width:e.w}})})),React.createElement("tbody",null,E)))}}]),t}(React.Component);t["default"]=_},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(47),i=o(a),s=r(48),l=o(s),u=r(52),c=o(u),d=r(88),f=o(d),p=r(282),h=o(p),m=r(288),_=n(m),g=r(129),w=o(g),v=function(e){function t(){return(0,i["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!(this.props.mcpoint===e.mcpoint&&(0,g.is)(this.props.content,e.content)&&(0,g.is)(this.props.tableInfo,e.tableInfo)&&(0,g.is)(this.props.formValue,e.formValue)&&(0,g.is)(this.props.cellInfo,e.cellInfo))}},{key:"render",value:function(){for(var e=this.props,t=e.mcpoint,r=e.content,n=e.tableInfo,o=e.formValue,a=e.cellInfo,i=r.get("rowcount"),s=r.get("ec"),l=s?w["default"].Map(s.map(function(e){return[e.get("id"),e]})):null,u=new Array,c=0;c<i;c++){var d=l.get(c+",0");if(d){var f="span_mc etype_"+d.get("etype"),p=_.getMcCellAttr(d);f+=p.cusclass?" "+p.cusclass:"",u.push(React.createElement("span",{id:p.cusid,name:p.cusname,className:f,style:p.innerStyleObj},React.createElement(h["default"],{symbol:t,cellInfo:a,cellObj:d,tableInfo:n,formValue:o})));var m=l.get(c+",1");m&&"14"===m.get("etype")&&"Y"===m.get("brsign")&&u.push(React.createElement("br",null))}}return React.createElement("div",null,u)}}]),t}(React.Component);t["default"]=v},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=(t.getCellAttr=function(e,t,a){var i={},s={},l={},u="";r(e,s),n(e,s,l,!1);var c=e&&e.get("financial");c&&(c.indexOf("1-")>-1||c.indexOf("2-")>-1)&&(s.height=a+"px",l.height="100%"),t&&"y"===t.get("hide")&&(s.display="none"),t&&t.get("class")&&(u+=" "+t.get("class"));var d=e.get("attrs");return d&&o(i,d,l),i.styleObj=s,i.innerStyleObj=l,i["class"]=u,i},t.getMcCellAttr=function(e){var t={},r={},a={};n(e,r,a,!0);for(var i in r)"text-align"!==i&&"vertical-align"!=i&&(a[i]=r[i]);var s=e.get("attrs");return s&&o(t,s,a),t.innerStyleObj=a,t},t.getRowAttr=function(e,t){var r={};r.id=t?t.get("id"):"",r.name=t?t.get("name"):"",r["class"]=t?t.get("class"):"";var n={};return n.height=e,t&&"y"===t.get("hide")&&(n.display="none"),t&&t.get("style")&&a(n,t.get("style")),r.styleObj=n,r},function(e,t){var r=e.get("eborder"),n=e&&e.get("etype");return r&&r.map(function(e,r){var o=e.get("kind");if("7"===n&&("top"===o||"bottom"===o))return!0;e.get("color")&&(t["border-"+o+"-color"]=e.get("color"));var a=e.get("style")?parseInt(e.get("style")):0;0===a||(2===a?(t["border-"+o+"-width"]="2px",t["border-"+o+"-style"]="solid"):3===a?(t["border-"+o+"-width"]="1px",t["border-"+o+"-style"]="dashed"):5===a?(t["border-"+o+"-width"]="3px",t["border-"+o+"-style"]="solid"):6===a?(t["border-"+o+"-width"]="3px",t["border-"+o+"-style"]="double"):7===a?(t["border-"+o+"-width"]="1px",t["border-"+o+"-style"]="dotted"):8===a?(t["border-"+o+"-width"]="2px",t["border-"+o+"-style"]="dashed"):(t["border-"+o+"-width"]="1px",t["border-"+o+"-style"]="solid"))}),t}),n=function(e,t,r,n){var o=e&&e.get("etype");if("7"!==o&&"12"!==o){e.get("backgroundColor")&&(t.backgroundColor=e.get("backgroundColor")),"6"===o&&(t.backgroundImage="url('"+e.get("field")+"') !important",t.backgroundRepeat="no-repeat !important");var a=e.get("font");a&&a.map(function(e,n){return""===e||void("text-align"===n?t["text-align"]=e:"valign"===n?t["vertical-align"]=e:"bold"===n?"true"===e&&(r["font-weight"]="bold"):"italic"===n?"true"===e&&(r["font-style"]="italic"):"underline"===n?"true"===e&&(r["text-decoration"]="underline"):"deleteline"===n?"true"===e&&(r["text-decoration"]="line-through"):"font-size"===n?r["font-size"]=e:"color"===n?r.color=e:"font-family"===n&&(r["font-family"]=e))}),t["text-align"]||(t["text-align"]="left"),t["vertical-align"]||(t["vertical-align"]=n?"middle":"top"),r["font-size"]||(r["font-size"]="9pt"),r["font-family"]||(r["font-family"]="Microsoft YaHei");var i=e.get("etxtindent");i&&"0"!==i&&(i=8*parseFloat(i)+"px","left"===t["text-align"]?t["padding-left"]=i:"right"===t["text-align"]&&(t["padding-right"]=i)),r["word-break"]="break-all",r["word-wrap"]="break-word"}},o=function(e,t,r){t&&("y"===t.get("hide")&&(r.display="none"),t.get("id")&&(e.cusid=t.get("id")),t.get("name")&&(e.cusname=t.get("name")),t.get("class")&&(e.cusclass=t.get("class")),t.get("style")&&a(r,t.get("style")))},a=function(e,t){for(var r=t.split(";"),n=0;n<r.length;n++){var o=r[n],a=o.split(":");a.length>=2&&(e[a[0]]=a[1])}return e}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=a(t),o=jQuery("div."+e).find("div.tab_head"),s=jQuery("div."+e).find("div.tab_bottom");if("t_sel"!==r.attr("class")){var l=o.find(".t_sel");l.add(l.children()).each(function(){jQuery(this).attr("class",jQuery(this).attr("class").replace("_sel","_unsel"))}),i(l,n),s.find("#"+l.attr("id")+"_content").css("display","none");var u=r;u.add(u.children()).each(function(){jQuery(this).attr("class",jQuery(this).attr("class").replace("_unsel","_sel"))}),i(u,n),s.find("#"+u.attr("id")+"_content").css("display","")}}function a(e){var t="",r="",n="",o="",a="",i="",s="",l="";e.image_bg&&""!=e.image_bg&&(t+="background-image:url('"+e.image_bg+"') !important; "),e.image_sep&&""!=e.image_sep&&(r+="background-image:url('"+e.image_sep+"') !important; "),e.image_sepwidth&&""!=e.image_sepwidth&&(r+="width:"+e.image_sepwidth+"px !important; "),e.sel_bgleft&&""!=e.sel_bgleft&&(n+="background-image:url('"+e.sel_bgleft+"')!important; "),e.sel_bgleftwidth&&""!=e.sel_bgleftwidth&&(n+="width:"+e.sel_bgleftwidth+"px !important; "),e.sel_bgmiddle&&""!=e.sel_bgmiddle&&(o+="background-image:url('"+e.sel_bgmiddle+"')!important; "),e.sel_bgright&&""!=e.sel_bgright&&(a+="background-image:url('"+e.sel_bgright+"')!important; "),e.sel_bgrightwidth&&""!=e.sel_bgrightwidth&&(a+="width:"+e.sel_bgrightwidth+"px !important; "),e.sel_color&&""!=e.sel_color&&(o+="color:"+e.sel_color+"!important;"),e.sel_fontsize&&""!=e.sel_fontsize&&(o+="font-size:"+e.sel_fontsize+"px!important;"),e.sel_family&&""!=e.sel_family&&(o+="font-family:"+e.sel_family+"!important;"),e.sel_bold&&"1"==e.sel_bold&&(o+="font-weight:bold!important;"),e.sel_italic&&"1"==e.sel_italic&&(o+="font-style:italic!important;"),e.unsel_bgleft&&""!=e.unsel_bgleft&&(i+="background-image:url('"+e.unsel_bgleft+"')!important; "),e.unsel_bgleftwidth&&""!=e.unsel_bgleftwidth&&(i+="width:"+e.unsel_bgleftwidth+"px !important; "),e.unsel_bgmiddle&&""!=e.unsel_bgmiddle&&(s+="background-image:url('"+e.unsel_bgmiddle+"')!important; "),e.unsel_bgright&&""!=e.unsel_bgright&&(l+="background-image:url('"+e.unsel_bgright+"')!important; "),e.unsel_bgrightwidth&&""!=e.unsel_bgrightwidth&&(l+="width:"+e.unsel_bgrightwidth+"px !important; "),e.unsel_color&&""!=e.unsel_color&&(s+="color:"+e.unsel_color+"!important;"),e.unsel_fontsize&&""!=e.unsel_fontsize&&(s+="font-size:"+e.unsel_fontsize+"px!important;"),e.unsel_family&&""!=e.unsel_family&&(s+="font-family:"+e.unsel_family+"!important;"),e.unsel_bold&&"1"==e.unsel_bold&&(s+="font-weight:bold!important;"),e.unsel_italic&&"1"==e.unsel_italic&&(s+="font-style:italic!important;");var u={};return u.t_area=t,u.t_sep=r,u.t_sel_left=n,u.t_sel_middle=o,u.t_sel_right=a,u.t_unsel_left=i,u.t_unsel_middle=s,u.t_unsel_right=l,u}function i(e,t){for(var r in t)e.find("div."+r).attr("style",t[r])}Object.defineProperty(t,"__esModule",{value:!0});var s=r(47),l=n(s),u=r(48),c=n(u),d=r(52),f=n(d),p=r(88),h=n(p),m=r(280),_=n(m),g=r(129),w=n(g),v=function(e){function t(){return(0,l["default"])(this,t),(0,f["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!((0,g.is)(this.props.etables,e.etables)&&(0,g.is)(this.props.tableInfo,e.tableInfo)&&(0,g.is)(this.props.formValue,e.formValue)&&(0,g.is)(this.props.formValue4Detail,e.formValue4Detail)&&(0,g.is)(this.props.cellInfo,e.cellInfo)&&(0,g.is)(this.props.style,e.style)&&(0,g.is)(this.props.tab,e.tab))}},{key:"render",value:function(){var e=this,t=this,r=this.props,n=r.style,o=r.tab;if(!n)return React.createElement("div",null);var a=this.props,i=a.etables,s=a.tableInfo,l=a.formValue,u=a.formValue4Detail,c=a.cellInfo,d=a.cellid,f=0,p=new Array;o.map(function(e,t){if(0===t.indexOf("order")){var r=e?e.split(","):[];p.push({id:r[0]?r[0]:"",name:r[1]?r[1]:""})}"defshow"===t&&(f=e)});var h="tabarea_"+d.replace(",","_");return React.createElement("div",{className:h},React.createElement("div",{className:"tab_top"},React.createElement("div",{className:"tab_movebtn tab_turnleft",style:{display:"none"}}),React.createElement("div",{className:"tab_head",style:{width:"100%"}},React.createElement("div",{className:"t_area xrepeat",style:{backgroundImage:"url("+n.get("image_bg")+") !important",width:"100%"}},p.map(function(r,o){var a=new Array,i=o===f?"sel":"unsel",s={backgroundImage:"url('"+n.get(i+"_bgmiddle")+"')!important",fontSize:n.get(i+"_fontsize")+"px !important",color:n.get(i+"_color")+" !important",fontFamily:n.get(i+"_family")+" !important"};return n&&"1"==n.get(i+"_bold")&&(s["font-weight"]="bold !important"),n&&"1"==n.get(i+"_italic")&&(s["font-style"]="italic !important"),a.push(React.createElement("div",{id:r.id,className:"t_"+i,onClick:t.changeTab.bind(e,r.id,p,h,n.toJS())},React.createElement("div",{className:"t_"+i+"_left norepeat",style:{backgroundImage:"url('"+n.get(i+"_bgleft")+"')!important",width:n.get(i+"_bgleftwidth")+"px !important"}}),React.createElement("div",{className:"t_"+i+"_middle xrepeat lineheight30",style:s},React.createElement("span",null,r.name)),React.createElement("div",{className:"t_"+i+"_right norepeat",style:{backgroundImage:"url('"+n.get(i+"_bgright")+"')!important",width:n.get(i+"_bgrightwidth")+"px !important"}}))),o!==p.length-1&&a.push(React.createElement("div",{className:"t_sep norepeat",style:{width:n.get("image_sepwidth")+"px !important"}})),a}))),React.createElement("div",{className:"tab_movebtn tab_turnright",style:{display:"none"}})),React.createElement("div",{className:"tab_bottom"},p.map(function(e,t){var r=t===f,n=i.get(e.id),o=n.get("rowheads"),a=n.get("colheads"),d=n.get("ec"),p=w["default"].Map(d.map(function(e,t){return"8"===e.get("etype")&&(headRow=parseInt(e.get("id").split(",")[0])),"9"===e.get("etype")&&(bodyRow=parseInt(e.get("id").split(",")[0])),[e.get("id"),e]}));return React.createElement("div",{className:"tab_content",id:e.id+"_content",style:r?{}:{display:"none"}},React.createElement(_["default"],{symbol:"tabtable",className:"excelTabTable tablefixed",formValue:l,etables:i,tableInfo:s,colheads:a,rowheads:o,ecMap:p,cellInfo:c,style:{width:"100%"},formValue4Detail:u}))})))}},{key:"changeTab",value:function(e,t,r,n){o(r,n,jQuery("#"+e))}}]),t}(React.Component);t["default"]=v},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=/^(-?\d+)(\.\d+)?$/;if(!n.test(e))return e;e=e.toString();var o="";if(0===t)o=Math.round(parseFloat(e));else{var a=Math.pow(10,t);o=Math.round(parseFloat(e)*a)/a;var i=e.indexOf("."),s=i>-1?e.substr(i+1).length:0;if(t>s){i==-1&&(o+=".");for(var l=0;l<t-s;l++)o+="0"}}o=o.toString();var u=o.indexOf("."),c=u>-1?o.substring(0,u):o,d=u>-1?o.substring(u):"";if(1===r)for(var f=/(-?\d+)(\d{3})/;f.test(c);)c=c.replace(f,"$1,$2");return o=c+d}Object.defineProperty(t,"__esModule",{value:!0});var a=r(47),i=n(a),s=r(48),l=n(s),u=r(52),c=n(u),d=r(88),f=n(d),p=r(129),h=function(e){function t(){return(0,i["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f["default"])(t,e),(0,l["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.symbol!==e.symbol||(0,p.is)(this.props.fieldObj,e.fieldObj)||(0,p.is)(this.props.detailValue,e.detailValue)}},{key:"render",value:function(){var e=this.props,t=(e.symbol,e.fieldObj),r=e.detailValue,n=t&&t.get("fieldid"),a=t?t.get("detailtype"):"",i=window.store_e9_workflow.getState().workflowReq,s=i&&i.getIn(["linkageCfg","coltrifields"]),l=!1;s&&s.map(function(e){e===n+""&&(l=!0)});var u="";if(l){var c=0;r&&r.map(function(e,t){var r=e&&e.getIn(["field"+n,"value"]);r=r.replace(/,/g,""),r&&!isNaN(r)&&(c+=parseFloat(r))});var d=2;t&&"2"==a?d=0:!t||"3"!=a&&"5"!=a||(d=parseInt(t.get("qfws")));var f="5"==a?1:0;u=o(c,d,f)}return React.createElement("span",null,u)}}]),t}(React.Component);t["default"]=h},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),i=r(128),s=n(i),l=r(47),u=n(l),c=r(48),d=n(c),f=r(52),p=n(f),h=r(88),m=n(h),_=r(123),g=r(134),w=r(135),v=n(w),y=r(129),b=n(y),S=r(292),E=n(S),k=b["default"].is,R=g.Form.create,T=g.Form.Item,I="",O=function(e){function t(e){(0,u["default"])(this,t);var r=(0,p["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return I=r,r}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(k(this.props.markInfo,e.markInfo)&&k(this.props.logList,e.logList)&&k(this.props.isShowSignInput,e.isShowSignInput)&&k(this.props.logListTabKey,e.logListTabKey)&&k(this.props.signFields,e.signFields)&&k(this.props.showSearchDrop,e.showSearchDrop)&&k(this.props.isShowUserheadimg,e.isShowUserheadimg)&&this.props.showuserlogids===e.showuserlogids&&this.props.reqRequestId===e.reqRequestId&&this.props.pagesize===e.pagesize&&this.props.isLoadingLog===e.isLoadingLog&&this.props.forward===e.forward)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.actions,r=e.ismanagePage;if(t.setLoglistTabKey("1"),"1"==r){var n=UEUtil.initRemark("remark",!1);bindRemark(n)}}},{key:"componentWillUnmount",value:function(){var e=this.props.actions;e.saveSignFields({}),e.setShowSearchDrop(!1)}},{key:"renderTitle",value:function(e,t){}},{key:"render",value:function(){var e=this.props,t=e.actions,r=e.params,n=e.signinputinfo,o=e.logList,a=e.current,i=e.total,l=e.pagesize,u=e.forward,c=e.showuserlogids,d=e.logListTabKey,f=e.requestLogParams,p=e.ismanagePage,h=e.isShowSignInput,m=e.isShowUserheadimg,w=(e.signFields,e.showSearchDrop),v=e.reqRequestId,y=e.isLoadingLog,b="1"==p?n.toJS():"",S=[{title:"流转意见",key:"1"}],k=f.get("isRelatedTome"),R=f.get("hasMainWfRight"),T=f.get("hasChildWfRight"),I=f.get("hasParallelWfRight"),O=f.get("isReadParallel"),x=b.isHideInput,C=b.isSignMustInput,A=r.get("requestid"),j=r.get("workflowid"),D=r.get("signListType"),P="";d>2&&f.get("allrequestInfos").filter(function(e){e.get("requestid")==v&&(P=e.get("signshowname"))});var q=[];n&&n.mapEntries(function(e){var t=e[1];"phraseInfo"==e[0]&&t&&(t=JSON.stringify(t.toJS())),q.push(React.createElement("input",{type:"hidden",id:e[0]+"_param",value:t}))});var L=R?f.get("allrequestInfos").filter(function(e){return"main"==e.get("type")}):"",N=T?f.get("allrequestInfos").filter(function(e){return"sub"==e.get("type")}):"",M=I?f.get("allrequestInfos").filter(function(e){return"parallel"==e.get("type")}):"";k&&S.push({title:"与我相关",key:"2"}),L&&S.push({title:React.createElement("span",null,"主流程意见 ",React.createElement("i",{className:"icon-top-Arrow"})),dropMenu:L.toJS(),key:"3"}),N&&S.push({title:React.createElement("span",null,"子流程意见 ",React.createElement("i",{className:"icon-top-Arrow"})),dropMenu:N.toJS(),key:"4"}),M&&"1"==O&&S.push({title:React.createElement("span",null,"平行流程意见 ",React.createElement("i",{className:"icon-top-Arrow"})),dropMenu:M.toJS(),key:"5"});var W="1"==p&&"0"==x,F=W&&""!=b.remark&&null!=b.remark,U=[];return o&&o.forEach(function(e){U.push(React.createElement(E["default"],{data:e,isShowUserheadimg:m,actions:t,forward:u,requestid:A,workflowid:j,showuserlogids:c,f_weaver_belongto_userid:r.get("f_weaver_belongto_userid")}))}),React.createElement("div",{className:"wea-workflow-req-sign"},React.createElement("div",null,React.createElement("div",{id:"remark_div",style:{height:"100%",display:W?"block":"none","margin-right":F||h?"0px":"-1px"}},React.createElement("div",{id:"remarkShadowDiv",className:"wea-workflow-req-sign-input",style:{display:F||h?"none":"block","border-left":"1"==C?"2px solid #fe4e4c":"1px solid #d0d0d0"},onClick:this.initremark.bind(this)},React.createElement("i",{className:"icon-xxx-form-Opinion",style:{marginRight:10}}),"签字意见"+(b.tempbeagenter!=b.fileuserid?"（您正在代理"+b.tempbeagentername+"处理）":"")),React.createElement("div",{style:{display:F||h?"block":"none"},className:"remarkDiv"},React.createElement("textarea",{name:"remark",id:"remark",style:(0,s["default"])({width:"100%",height:"140px",margin:"0",resize:"none",color:"#a2a2a2",overflow:"hidden"},"color","#c7c7c7")},b.remark),React.createElement("input",{type:"hidden",id:"signdocids",name:"signdocids",value:b.signdocids}),React.createElement("input",{type:"hidden",id:"signworkflowids",name:"signworkflowids",value:b.signworkflowids}),React.createElement("input",{type:"hidden",name:"remarkLocation",id:"remarkLocation",value:b.remarkLocation}),React.createElement("input",{type:"hidden",id:"field-annexupload",name:"field-annexupload",value:b.annexdocids}),React.createElement("input",{type:"hidden",id:"field_annexupload_del_id",value:""}),React.createElement("input",{type:"hidden",name:"field-annexupload-name",id:"field-annexupload-name",value:b.fieldannexuploadname}),React.createElement("input",{type:"hidden",name:"field-annexupload-count",id:"field-annexupload-count",value:""}),React.createElement("input",{type:"hidden",name:"field-annexupload-request",id:"field-annexupload-request",value:b.requestid}),React.createElement("input",{type:"hidden",name:"field-cancle",id:"field-cancle",value:" 删除 "}),React.createElement("input",{type:"hidden",name:"field-add-name",id:"field-add-name",value:"点击添加附件 "}),React.createElement("input",{type:"hidden",name:"annexmainId",id:"annexmainId",value:b.annexmainId}),React.createElement("input",{type:"hidden",name:"annexsubId",id:"annexsubId",value:b.annexsubId}),React.createElement("input",{type:"hidden",name:"annexsecId",id:"annexsecId",value:b.annexsecId}),React.createElement("input",{type:"hidden",name:"fileuserid",id:"fileuserid",value:b.fileuserid}),React.createElement("input",{type:"hidden",name:"fileloginyype",id:"fileloginyype",value:b.fileloginyype}),React.createElement("input",{type:"hidden",name:"annexmaxUploadImageSize",id:"annexmaxUploadImageSize",value:b.annexmaxUploadImageSize}),React.createElement("input",{type:"hidden",id:"requestid_param",value:A}),q)),React.createElement(_.WeaTab,{buttons:this.getTabButtons(),datas:S,selectedKey:d,keyParam:"key",searchType:["drop"],countParam:"count",hasDropMenu:!0,showSearchDrop:w,dropIcon:React.createElement("i",{className:"icon-search-search",style:{color:"#77da88"},onClick:function(){return t.setShowSearchDrop(!0)}}),searchsDrop:React.createElement(g.Form,{horizontal:!0},this.getSearchs()),buttonsDrop:this.getTabButtonsDrop(),setShowSearchDrop:function(e){return t.setShowSearchDrop(e)},onChange:this.changeData.bind(this)}),d>2&&d!=v&&React.createElement("div",{className:"wea-workflow-main-sub-req"},React.createElement("span",{dangerouslySetInnerHTML:{__html:P}})),React.createElement("div",{className:"wea-workflow-req-sign-list"},U,U&&!D&&U.length>0&&React.createElement(g.Pagination,{defaultCurrent:1,showQuickJumper:!0,pageSize:l,onChange:this.onPageChange.bind(this),current:a,total:i,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:this.onPageSizeChange.bind(this),showTotal:function(e){return"共 "+e+" 条"}}),U&&!y&&0==U.length&&React.createElement("div",{className:"ant-table-placeholder",style:{borderBottom:0}},"暂时没有数据"),y&&React.createElement("div",{className:"ant-table-placeholder",style:{borderBottom:0}},React.createElement(g.Spin,{tip:"正在读取数据..."})))))}},{key:"onPageChange",value:function(e){var t=this.props,r=t.actions,n=t.logListTabKey;n<3?"function"==typeof this.props.onChange&&this.props.onChange(e):r.loadRefReqSignInfo({pgnumber:e})}},{key:"onPageSizeChange",value:function(e,t){"function"==typeof this.props.onPageSizeChange&&this.props.onPageSizeChange(t)}},{key:"getTabButtons",value:function(){var e=this.props,t=e.isShowUserheadimg,r=e.actions;return[React.createElement("i",{className:"icon-search-Customer",style:{color:t?"#7287f2":""},onClick:function(){return r.updateUserTxStatus(!t)}}),React.createElement("span",{style:{fontSize:16,color:"#d6d6d6"}},"|")]}},{key:"changeData",value:function(e,t){var r=this.props,n=r.actions,o=r.userId,a=r.requestLogParams,i=r.pagesize,s=e;a.get("allrequestInfos").filter(function(t){t.get("requestid")==e&&("main"==t.get("type")&&(s=3),"sub"==t.get("type")&&(s=4),"parallel"==t.get("type")&&(s=5))}),n.setLoglistTabKey(s,e);var l={pgnumber:1,maxrequestlogid:0};"2"==e&&(l.atmet=o),"1"==e&&(l.atmet=""),"1"==e||"2"==e?n.setlogParams(l):a.get("allrequestInfos").filter(function(t){t.get("requestid")==e&&(l.requestid=t.get("requestid"),l.workflowid=t.get("relwfid"),l.requestLogParams=JSON.stringify({viewLogIds:t.get("relviewlogs"),wfsignlddtcnt:a.get("wfsignlddtcnt")}),l.pgnumber=1,l.actiontype="requestLog",l.firstload=!1,l.maxrequestlogid=0,l.loadmethod="split",l.logpagesize=i,n.loadRefReqSignInfo(l))})}},{key:"initremark",value:function(){var e=this.props.actions;e.controlSignInput(!0);var t=UE.getEditor("remark");t.focus(!0)}},{key:"getTabButtonsDrop",value:function(){var e=this.props.actions;return[React.createElement(g.Button,{type:"primary",onClick:function(){e.clearLogData(),e.setMarkInfo(),e.setShowSearchDrop(!1)}},"搜索"),React.createElement(g.Button,{type:"ghost",onClick:function(){e.saveSignFields({})}},"重置"),React.createElement(g.Button,{type:"ghost",onClick:function(){e.setShowSearchDrop(!1)}},"取消")]}},{key:"getSearchs",value:function(){var e=this.props,t=(e.form,e.requestLogParams),r=this.props.form.getFieldProps,n=[{value:"",name:""}];t&&t.get("viewnodes")&&t.get("viewnodes").map(function(e){n.push({value:e.get("id"),name:e.get("name")})});var o=new Array;return o.push({com:React.createElement(T,{label:"操作者",labelCol:{span:6},wrapperCol:{span:18}},React.createElement(_.WeaHrmInput,r("operatorid"))),colSpan:1}),o.push({com:React.createElement(T,{label:"部门",labelCol:{span:6},wrapperCol:{span:18}},React.createElement(_.WeaDepInput,r("deptid"))),colSpan:1}),o.push({com:React.createElement(T,{label:"分部",labelCol:{span:6},wrapperCol:{span:18}},React.createElement(_.WeaComInput,r("subcomid"))),colSpan:1}),o.push({com:React.createElement(T,{label:"意见",labelCol:{span:6},wrapperCol:{span:18}},React.createElement(_.WeaInput,r("content"))),colSpan:1}),o.push({com:React.createElement(T,{label:"节点",labelCol:{span:6},wrapperCol:{span:18}},React.createElement(_.WeaSelect,(0,a["default"])({datas:n},r("nodename")))),colSpan:1}),o.push({com:React.createElement(T,{label:"操作日期",labelCol:{span:6},wrapperCol:{span:18}},React.createElement(_.WeaDateGroup,(0,a["default"])({},r("createdateselect",{initialValue:"0"}),{datas:[{value:"0",selected:!0,name:"全部"},{value:"1",selected:!1,name:"今天"},{value:"2",selected:!1,name:"本周"},{value:"3",selected:!1,name:"本月"},{value:"4",selected:!1,name:"本季"},{value:"5",selected:!1,name:"本年"},{value:"6",selected:!1,name:"指定日期范围"}],form:this.props.form,domkey:["createdateselect","createdatefrom","createdateto"]}))),colSpan:1}),[React.createElement(_.WeaSearchGroup,{title:"查询条件",showGroup:!0,items:o})]}}]),t}(React.Component);O=R({onFieldsChange:function(e,t){var r=(0,v["default"])({},e.signFields.toJS(),t);e.actions.saveSignFields(r)},mapPropsToFields:function(e){return e.signFields.toJS()}})(O),t["default"]=O},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(134),p=r(129),h=n(p),m=r(45),_=n(m),g=h["default"].is,w=h["default"].List,v=function(e){function t(e){(0,a["default"])(this,t);var r=(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={showrivebtnspan:!1},r}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props.data.get("logid"),n=this.props.showuserlogids.includes(r)==e.showuserlogids.includes(r);return!(g(this.props.data,e.data)&&g(this.props.isShowUserheadimg,e.isShowUserheadimg)&&n&&g(this.state.showrivebtnspan,t.showrivebtnspan)&&g(this.props.forward,e.forward))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,r=t.actions,n=t.data,o=t.isShowUserheadimg,a=t.forward,i=t.requestid,s=t.workflowid,l=t.showuserlogids,u=this.state.showrivebtnspan,c=!1;l.includes(n.get("logid"))&&(c=!0);var d="/hrm/company/HrmDepartmentDsp.jsp?id="+n.get("displaydepid");return React.createElement("div",{className:"wea-workflow-req-sign-list-content",onMouseEnter:function(){return e.setState({showrivebtnspan:!0})},onMouseLeave:function(){return e.setState({showrivebtnspan:!1})}},React.createElement("div",{className:"content-left"},o&&React.createElement("img",{src:n.get("img_path"),className:"content-text-left-user-img"}),React.createElement("div",{style:{width:"132px"}},React.createElement("p",null,n.get("isexsAgent")&&React.createElement("a",{href:"javaScript:openhrm("+n.get("log_agentorbyagentid")+")",onClick:function(e){return window.pointerXY(e)}},n.get("displaybyagentname")),n.get("isexsAgent")&&React.createElement("span",null,"->"),React.createElement("a",{href:"javaScript:openhrm("+n.get("displayid")+")",onClick:function(e){return window.pointerXY(e)}},n.get("displayname"))),React.createElement("span",null,React.createElement("a",{href:d,target:"_blank",style:{color:"#9b9b9b","white-space":"pre-wrap"}},n.get("displaydepname"))))),React.createElement("div",{className:"content-right"},React.createElement("div",{className:"content-right-remark-html",dangerouslySetInnerHTML:{__html:n.get("log_remarkHtml")?n.get("log_remarkHtml"):""}}),w.isList(n.get("annexdocs"))&&React.createElement("div",{className:"content-right-docs"},React.createElement("i",{className:"icon-mail-enclosure"}),React.createElement("div",null,n.get("annexdocs").map(function(e){return React.createElement("p",null,React.createElement("a",{target:"_blank",href:e.get("filelink")},e.get("tempshowname")+"."+e.get("fileExtendName"))," ",React.createElement("a",{href:e.get("downloadlink")},"[下载("+(e.get("docImagefileSize")/1e3).toFixed(1)+"k)]"))}))),w.isList(n.get("signdocs"))&&React.createElement("div",{className:"content-right-docs"},React.createElement("i",{className:"icon-search-File"}),React.createElement("div",null,n.get("signdocs").map(function(e){return React.createElement("p",null,React.createElement("a",{target:"_blank",href:e.get("filelink")},e.get("tempshowname")))}))),w.isList(n.get("signwfs"))&&React.createElement("div",{className:"content-right-docs"},React.createElement("i",{className:"icon-portal-workflow"}),React.createElement("div",null,n.get("signwfs").map(function(e){return React.createElement("p",null,React.createElement("a",{target:"_blank",onClick:function(){e.get("isRoute")?window.open(window.location.href.split("?")[0]+"?requestid="+e.get("requestid")+"&isrequest=1"):window.open("/workflow/request/ViewRequest.jsp?requestid="+e.get("requestid")+"&isrequest=1")}},e.get("title")))}))),!c&&React.createElement("p",{style:{lineHeight:"24px",color:"#8a8a8a"}},React.createElement("span",null,"接收人 : "),n.get("receiveUser")&&n.get("receiveUser").split(",").map(function(e){return e+" "}),n.get("receiveUserCount")>10&&React.createElement(f.Icon,{className:"content-text-right-open-btn",type:"down",onClick:function(){return r.setShowUserlogid(n.get("logid"))}})),c&&React.createElement("div",{className:"wea-workflow-req-sign-list-users"},React.createElement("div",{style:{color:"#323232",paddingRight:20}},React.createElement("span",{style:{color:"#c0c0c0"}},"接收人 : "),n.get("allReceiveUser")&&n.get("allReceiveUser").split(",").map(function(e){
return e+" "})),React.createElement(f.Icon,{className:"content-text-right-open-btn",type:"up",onClick:function(){return r.setShowUserlogid(n.get("logid"))}})),React.createElement("p",{style:{lineHeight:"22px",marginTop:10,color:"#9a9a9a"}},React.createElement("span",{style:{marginRight:8}},n.get("log_operatedate")+" "+n.get("log_operatetime")+" "),React.createElement("span",null,"["+n.get("log_nodename")+" / "+n.get("operationname")+"]"),u&&React.createElement("span",{style:{"float":"right"},className:"reqlogbtn"},React.createElement("span",{style:{marginRight:16,cursor:"pointer"}},n.get("isReference")&&React.createElement("span",{onClick:function(){return quoteClick(n)}},React.createElement("i",{className:"icon-xxx-form-Quote",style:{marginRight:6}}),"引用")),React.createElement("span",{style:{cursor:"pointer"}},"1"==a&&React.createElement("span",{onClick:function(){return doReview(i,s,n.get("displayid"))}},React.createElement("i",{className:"icon-xxx-form-Forward",style:{marginRight:6}}),"转发"))))))}}]),t}(React.Component);v.contextTypes={router:_["default"].routerShape},t["default"]=v},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=function(e){function t(e){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"render",value:function(){return React.createElement("div",{className:"round_shade_box",id:"zoom"},React.createElement("div",{className:"round_shade_top"},React.createElement("span",{className:"round_shade_topleft"}),React.createElement("span",{className:"round_shade_topright"})),React.createElement("div",{className:"round_shade_centerleft"},React.createElement("div",{className:"round_shade_centerright"},React.createElement("div",{className:"round_shade_both",id:"zoom_both"}),React.createElement("div",{className:"round_shade_center",id:"zoom_content"},React.createElement("div",{className:"round_shade_center1",id:"zoom_content1"})))),React.createElement("div",{className:"round_shade_bottom"},React.createElement("span",{className:"round_shade_bottomleft"}),React.createElement("span",{className:"round_shade_bottomright"})),React.createElement("a",{className:"round_box_close",id:"zoom_close",title:"关闭"}),React.createElement("a",{className:"round_box_right",id:"zoom_right",title:"向右转"}),React.createElement("a",{className:"round_box_left",id:"zoom_left",title:"向左转"}),React.createElement("a",{className:"round_box_add",id:"zoom_add",title:"放大"}),React.createElement("a",{className:"round_box_minus",id:"zoom_minus",title:"缩小"}),React.createElement("a",{className:"round_box_1",id:"zoom_1",title:"1:1"}),React.createElement("a",{className:"zoom_save",id:"zoom_save",title:"保存"}))}}]),t}(React.Component);t["default"]=f},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(134),p=r(129),h=n(p),m=function(e){function t(e){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,p.is)(this.props.datas,e.datas)||!(0,p.is)(this.props.reqParams,e.reqParams)}},{key:"render",value:function(){var e=this,t=this.props,r=(t.actions,t.datas),n=(t.reqParams,r&&r.get("cardid")),o=r&&r.getIn([n,"datas"]),a=r&&r.get("counts"),i=[{id:"all",title:"总人次",color:"#3ac8d2",num:a&&a.get("allcount"),icon:"icon-form-Total-person-time"},{id:"submit",title:"已提交",color:"#8dc139",num:a&&a.get("submitcount"),icon:"icon-form-Has-been-submitted"},{id:"nosubmit",title:"未提交",color:"#b37bf8",num:a&&a.get("nosubmitcount"),icon:"icon-form-Not-submitted"},{id:"view",title:"已查看",color:"#38b1ff",num:a&&a.get("viewcount"),icon:"icon-form-Already-view"},{id:"noview",title:"未查看",color:"#ff9736",num:a&&a.get("noviewcount"),icon:"icon-form-Not-viewed"}],s=["",React.createElement("span",{style:{color:"#FF0000"}},"未查看"),React.createElement("span",{style:{color:"#FF33CC"}},"已查看"),"已提交","暂停","撤销","启用"],l="all"===n?[{title:"序号",dataIndex:"num",key:"num",width:"8%"},{title:"节点",dataIndex:"operator",key:"operator",width:"16%"},{title:"操作情况统计",dataIndex:"status",key:"status",colSpan:4,width:"16%"},{title:"",dataIndex:"receivedate",key:"receivedate",colSpan:0,width:"20%"},{title:"",dataIndex:"operatedate",key:"operatedate",colSpan:0,width:"20%"},{title:"",dataIndex:"intervel",key:"intervel",colSpan:0}]:[{title:"操作人",dataIndex:"operator",key:"operator",width:"12%"},{title:"节点",dataIndex:"nodename",key:"nodename",width:"16%"},{title:"操作状态",dataIndex:"status",key:"status",width:"16%"},{title:"接收时间",dataIndex:"receivedate",key:"receivedate",width:"18%"},{title:"操作时间",dataIndex:"operatedate",key:"operatedate",width:"18%"},{title:"操作耗时",dataIndex:"intervel",key:"intervel"}],u=[],c=[],d=0,p=a?parseInt(a.get(n+"count")):0;if("all"===n){var m=r&&r.get("hideRowKeys");m||(m=h["default"].List([]));for(var _=o?o.size:0,g=function(t){var r=o.get("key"+t);if(!r)return"continue";var n=[];r.get("list").map(function(r,o){n.push({num:"",key:"rowDetail_"+(t+1)+"_"+(o+1),operator:e.getUserCardLink(r.get("operatorid"),r.get("operator")),status:s[r.get("statuscode")],receivedate:r.get("receivedate"),operatedate:r.get("operatedate"),intervel:r.get("intervel")})}),d+=n.length;var a={num:t+1,key:"rowDataHead_"+(t+1),operator:r.get("nodename"),status:"操作者总计: "+r.get("listcount"),receivedate:React.createElement("span",{style:0==r.get("submitCount")?{}:{color:"#8dc139"}},"已提交: "+r.get("submitCount")),operatedate:React.createElement("span",{style:0==r.get("viewCount")?{}:{color:"#38b1ff"}},"已查看: "+r.get("viewCount")),intervel:React.createElement("span",{style:0==r.get("noviewCount")?{}:{color:"#ff9736"}},"未查看: "+r.get("noviewCount")),children:[{num:"",key:"rowDetailHead_"+(t+1),operator:"操作人",status:"操作状态",receivedate:"接收时间",operatedate:"操作时间",intervel:"操作耗时",children:n}]};m.indexOf("rowDataHead_"+(t+1))==-1&&c.push("rowDataHead_"+(t+1)),c.push("rowDetailHead_"+(t+1)),u.push(a)},w=0;w<_;w++){g(w)}}else o&&o.map(function(t,r){t.get("list").map(function(r){u.push({operator:e.getUserCardLink(r.get("operatorid"),r.get("operator")),nodename:t.get("nodename"),status:s[r.get("statuscode")],receivedate:r.get("receivedate"),operatedate:r.get("operatedate"),intervel:r.get("intervel")})})}),d=u.length;return React.createElement("div",{className:"wea-workflow-status"},React.createElement(f.Row,null,React.createElement(f.Col,{className:"wea-workflow-status-card-wapper",span:24,style:{padding:"0 0 20px 0"}},i.map(function(t,r){var o=t.id===n?{boxShadow:"0 0 5px #008aff",border:"1px solid #008aff"}:{border:"1px solid #d5d5d5"};return o.color=t.color,o.marginRight=r<3&&"1.25%",o["float"]=4==r?"right":"left",React.createElement("div",{className:"wea-workflow-status-card",style:o,title:t.title,onClick:e.switchCard.bind(e,t.id)},React.createElement("div",null,React.createElement("i",{className:t.icon}),React.createElement("div",null,React.createElement("p",{style:{fontSize:26}},t.num),React.createElement("p",{style:{fontSize:12,color:"#5b5b5b"}},t.title))))}))),React.createElement(f.Row,{className:"wea-workflow-status-content"},"all"===n?React.createElement(f.Col,{span:24,style:{border:"1px solid #e9e9e9",borderBottom:d<p?"none":"1px solid #e9e9e9"}},React.createElement(f.Table,{pagination:!1,columns:l,dataSource:u,size:"middle",className:"wea-workflow-status-table-main",expandedRowKeys:c,onRowClick:this.setHideRowKeys.bind(this)})):React.createElement(f.Col,{span:24},React.createElement(f.Table,{pagination:!1,columns:l,dataSource:u,size:"middle",className:"wea-workflow-status-table-single"})),d<p&&React.createElement(f.Col,{span:24},React.createElement("div",{style:{textAlign:"center"}},React.createElement("span",{className:"wea-workflow-status-loadmore",onClick:this.loadMoreData.bind(this)},React.createElement("i",{className:"anticon anticon-arrow-down",style:{marginRight:"4px"}}),"加载更多")))))}},{key:"getUserCardLink",value:function(e,t){return React.createElement("a",{className:"wea-hrm-card",href:"javaScript:openhrm("+e+")",onClick:function(e){return window.pointerXY(e)}},t)}},{key:"switchCard",value:function(e){var t=this.props,r=t.actions,n=t.datas,o=t.reqParams;n&&n.has(e)?r.switchWfStatusCard(e):r.loadWfStatusData(o,e,!0)}},{key:"loadMoreData",value:function(e){var t=this.props,r=t.actions,n=t.datas,o=t.reqParams,a=n&&n.get("cardid");r.loadWfStatusData(o,a,!1)}},{key:"setHideRowKeys",value:function(e){if(0==e.key.indexOf("rowDataHead_")){var t=this.props,r=t.actions,n=t.datas,o=n&&n.get("hideRowKeys");o||(o=h["default"].List([]));var a=o.indexOf(e.key);o=a>-1?o["delete"](a):o.push(e.key),r.controlWfStatusHideRow(o)}}}]),t}(React.Component);t["default"]=m},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=(r(134),r(136)),p=(n(f),r(125)),h=r(129),m=n(h),_=m["default"].is,g=function(e){function t(e){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){return!_(this.props.tabKey,e.tabKey)||!_(this.props.actions,e.actions)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,r=(t.actions,t.tabKey),n=[{title:"全部",key:"0"},{title:"相关流程",key:"1"},{title:"相关文档",key:"2"},{title:"相关附件",key:"3"}];return React.createElement("div",{className:"wea-workflow-resources"},React.createElement("div",{className:"wea-workflow-resources-tab"},n.map(function(t){var n=t.key==r;return React.createElement("div",{className:"wea-workflow-resources-tab-item",style:n?{background:"#4bb1fb",color:"#fff"}:{background:"transparent",color:"#848484"},onClick:e.doChange.bind(e,t.key)},t.title)})),React.createElement(p.WeaTable,null))}},{key:"doChange",value:function(e){var t=this.props,r=t.actions,n=t.requestid;r.getResourcesKey(n,e)}}]),t}(React.Component);t["default"]=g,window.resourceOperate=function(){return{downLoad:function(e,t){window.top.location="/weaver/weaver.file.FileDownload?fileid="+e+"&download=1&requestid="+t+"&desrequestid=0"},openReq:function(e,t){window.open("/workflow/request/ViewRequest.jsp?isrequest=1&requestid="+e)},openDoc:function(e,t){window.open("/docs/docs/DocDsp.jsp?isrequest=1&id="+e+"&requestid="+t)}}}()},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(134),p=r(129),h=n(p),m=h["default"].is,_=function(e){function t(e){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t){return!m(this.props.datas,e.datas)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){this.props.datas,window.navigator.appVersion.indexOf("MSIE 8.0")>=0,window.navigator.appVersion.indexOf("MSIE 9.0")>=0;return React.createElement("div",{className:"wea-workflow-status"},React.createElement(Row,{className:"wea-workflow-status-content"},React.createElement(Col,{span:24},React.createElement(f.Table,{pagination:!1,size:"middle"}))))}}]),t}(React.Component);t["default"]=_},function(module,exports,__webpack_require__){function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck2=__webpack_require__(47),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(48),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__(52),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__(88),_inherits3=_interopRequireDefault(_inherits2),_antd=__webpack_require__(134),_ecCom=__webpack_require__(123),_OGroup=__webpack_require__(298),_OGroup2=_interopRequireDefault(_OGroup),_NodeOperator=__webpack_require__(299),_NodeOperator2=_interopRequireDefault(_NodeOperator),_immutable=__webpack_require__(129),_immutable2=_interopRequireDefault(_immutable),_objectAssign=__webpack_require__(135),_objectAssign2=_interopRequireDefault(_objectAssign),_cloneDeep=__webpack_require__(136),_cloneDeep2=_interopRequireDefault(_cloneDeep),Forward=function(_React$Component){function Forward(e){(0,_classCallCheck3["default"])(this,Forward);var t=(0,_possibleConstructorReturn3["default"])(this,(Forward.__proto__||Object.getPrototypeOf(Forward)).call(this,e));return t.state={isshowoperategroup:!1,isshownodeoperators:!1,showForward:!1,signinput:{},hasinitremark:!1,reload:!1,signdocids:"",signworkflowids:"",remarkLocation:"",fieldannexupload:"",fieldannexuploadname:"",fieldannexuploadcount:"",fieldannexuploadrequest:"",forwardflag:"",forwardremark:"",operatorDatas:[],loading:!1,field5:"",selectOperatorsMax:void 0,IsSubmitedOpinion:"",IsBeForwardTodo:""},t.setForwardOperatorMax(),window.FORWARD_OBJ=t,t}return(0,_inherits3["default"])(Forward,_React$Component),(0,_createClass3["default"])(Forward,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.showForward,r=e.fromform,n=(e.actions,e.requestid,e.forwardflag),o=e.forwardOperators;if(t&&!this.props.showForward){if(this.initData(),r){var a=jQuery("#remark_div");this.setState({signdocids:a.find("#signdocids").val(),signworkflowids:a.find("#signworkflowids").val(),remarkLocation:a.find("#remarkLocation").val(),fieldannexupload:a.find("#field-annexupload").val(),fieldannexuploadname:a.find("#field-annexupload-name").val(),forwardflag:n})}o&&""!=o&&this.setOperatorIds({ids:o,isAllUser:!1})}}},{key:"clearState",value:function(){this.setState({operatorDatas:[],forwardremark:"",signdocids:"",signworkflowids:"",remarkLocation:"",fieldannexupload:"",fieldannexuploadname:"",fieldannexuploadcount:"",fieldannexuploadrequest:"",field5:void 0,IsSubmitedOpinion:"",IsBeForwardTodo:""})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state,r=t.hasinitremark,n=t.reload;t.signinput;if(jQuery("#forwardremark").length>0&&!r&&n){var o;!function(){o=UEUtil.initRemark("forwardremark",!1),bindRemark(o),e.setState({hasinitremark:!0}),jQuery(".wea-req-forward-modal").parent().find(".ant-modal-mask").css("z-index","105"),jQuery(".wea-req-forward-modal").css("z-index","105");var t=e.props.ismanagePage,r=e;"1"==t&&setTimeout(function(){try{r.setRedPoint(),UE.getEditor("forwardremark").setContent(FCKEditorExt.getHtml("remark"),!1)}catch(e){}},1e3)}()}}},{key:"handleVisibleChange",value:function(e){this.setState({isshowoperategroup:e,isshownodeoperators:!1})}},{key:"handleShowNodeOperator",value:function(e){this.setState({isshowoperategroup:!1,isshownodeoperators:e})}},{key:"setOperatorIds",value:function(e){var t=this;if(e.isAllUser){var r=[{type:"all",lastname:"所有人",ids:e.ids,count:e.count,id:"all_users"}];this.setState({operatorDatas:r})}else _ecCom.WeaTools.callApi("/api/workflow/org/resource","GET",{types:e.ids}).then(function(r){e.groupname&&r&&r.map(function(t){t.lastname=e.groupname}),t.setState({operatorDatas:r})})}},{key:"updateState",value:function(e,t){var r={};r[e]=t.target.checked?1:0,this.setState(r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.showForward,n=t.requestid,o=(t.onClick,this.state),a=o.isshownodeoperators,i=o.isshowoperategroup,s=o.signinput,l=o.operatorDatas,u=o.loading,c=o.field5,d=o.selectOperatorsMax,f=o.IsSubmitedOpinion,p=o.IsBeForwardTodo,h=this.state.signinput.requestname;return React.createElement("div",null,React.createElement(_antd.Modal,{title:this.getTopTitle(h),visible:r,wrapClassName:"wea-req-forward-modal",style:{"min-width":"1100px"},maskClosable:!1,onCancel:this.cancelEvent.bind(this),footer:[React.createElement(_antd.Button,{type:"primary",size:"large",disabled:u,onClick:this.submitEvent.bind(this)},"提交"),React.createElement(_antd.Button,{type:"ghost",size:"large",disabled:u,onClick:this.cancelEvent.bind(this)},"关闭")]},React.createElement(_antd.Spin,{spinning:u,tip:"正在提交，请稍等..."},React.createElement("div",{className:"wea-req-forward-content"},React.createElement("div",{className:"wea-req-forward-content-receive"},React.createElement("div",{className:"label"},React.createElement("span",null,"*"),React.createElement("span",null,"转发接收人")),React.createElement("div",{className:"input"},React.createElement(_ecCom.WeaHrmInput,{mult:!0,onChange:function(t){e.setState({field5:t})},value:c,opsDatas:l,maxLength:d})),React.createElement("div",{className:"btns"},React.createElement(_antd.Popover,{placement:"bottomLeft",title:"",content:React.createElement(_OGroup2["default"],{handleVisibleChange:this.handleVisibleChange.bind(this),setOperatorIds:this.setOperatorIds.bind(this)}),trigger:"click",onVisibleChange:this.handleVisibleChange.bind(this),visible:i,overlayClassName:"wea-req-forward-customer-me"},React.createElement("div",{className:"wea-workflow-icon"},React.createElement("i",{className:"icon-customer-me"}))),React.createElement(_antd.Popover,{placement:"bottomLeft",title:"",content:React.createElement(_NodeOperator2["default"],{requestid:n,setOperatorIds:this.setOperatorIds.bind(this),handleShowNodeOperator:this.handleShowNodeOperator.bind(this)}),trigger:"click",onVisibleChange:this.handleShowNodeOperator.bind(this),visible:a,overlayClassName:"wea-req-forward-node-operator"},React.createElement("div",{className:"wea-workflow-icon"},React.createElement("i",{className:"icon-New-Flow-channel"}))))),"1"==s.isforwardrights&&React.createElement("div",{className:"wea-req-forward-content-right"},React.createElement("div",null,React.createElement("span",{className:"label"},"接收人权限"),React.createElement(_antd.Checkbox,{checked:"1"==f,onChange:this.updateState.bind(this,"IsSubmitedOpinion")},"可提交意见"),React.createElement(_antd.Checkbox,{checked:"1"==p,onChange:this.updateState.bind(this,"IsBeForwardTodo")},"可转发"))),React.createElement("div",{className:"wea-req-forward-content-remark"},React.createElement("div",{className:"label"},React.createElement("span",null,"1"==s.isSignMustInput&&"*"),React.createElement("span",null,"签字意见"),React.createElement("span",{style:{color:"#d5d5d5","margin-left":"10px","font-weight":"normal"}},s.tempbeagenter!=s.fileuserid?"（您当前正代理"+s.tempbeagentername+"进行操作）":"")),React.createElement("div",{className:"remark",id:"forwardremark_div"},React.createElement("textarea",{name:"forwardremark",id:"forwardremark",style:{width:"100%",height:"167px"}}),React.createElement("input",{type:"hidden",id:"signdocids",name:"signdocids",value:this.state.signdocids}),React.createElement("input",{type:"hidden",id:"signworkflowids",name:"signworkflowids",value:this.state.signworkflowids}),React.createElement("input",{type:"hidden",name:"remarkLocation",id:"remarkLocation",value:this.state.remarkLocation}),React.createElement("input",{type:"hidden",id:"field-annexupload",name:"field-annexupload",value:this.state.fieldannexupload}),React.createElement("input",{type:"hidden",id:"field_annexupload_del_id",value:""}),React.createElement("input",{type:"hidden",name:"field-annexupload-name",id:"field-annexupload-name",value:this.state.fieldannexuploadname}),React.createElement("input",{type:"hidden",name:"field-annexupload-count",id:"field-annexupload-count",value:this.state.fieldannexuploadcount}),React.createElement("input",{type:"hidden",name:"field-annexupload-request",id:"field-annexupload-request",value:n}),React.createElement("input",{type:"hidden",name:"field-cancle",id:"field-cancle",value:" 删除 "}),React.createElement("input",{type:"hidden",name:"field-add-name",id:"field-add-name",value:"点击添加附件 "})))))),React.createElement("div",{id:"forwardremark_hidden_area"},React.createElement("input",{type:"hidden",name:"annexmainId",id:"annexmainId",value:s.annexmainId}),React.createElement("input",{type:"hidden",name:"annexsubId",id:"annexsubId",value:s.annexsubId}),React.createElement("input",{type:"hidden",name:"annexsecId",id:"annexsecId",value:s.annexsecId}),React.createElement("input",{type:"hidden",name:"fileuserid",id:"fileuserid",value:s.fileuserid}),React.createElement("input",{type:"hidden",name:"fileloginyype",id:"fileloginyype",value:s.fileloginyype}),React.createElement("input",{type:"hidden",name:"annexmaxUploadImageSize",id:"annexmaxUploadImageSize",value:s.annexmaxUploadImageSize}),React.createElement("input",{type:"hidden",name:"isSignDoc_edit",id:"isSignDoc_edit",value:s.isSignDoc_edit}),React.createElement("input",{type:"hidden",name:"isannexupload_edit",id:"isannexupload_edit",value:s.isannexupload_edit}),React.createElement("input",{type:"hidden",name:"isSignWorkflow_edit",id:"isSignWorkflow_edit",value:s.isSignWorkflow_edit}),React.createElement("input",{type:"hidden",name:"workflowid",id:"workflowid",value:s.workflowid}),React.createElement("input",{type:"hidden",name:"requestid",id:"requestid",value:n}),React.createElement("input",{type:"hidden",name:"nodeid",id:"nodeid",value:s.nodeid}),React.createElement("input",{type:"hidden",name:"isbill",id:"isbill",value:s.isbill}),React.createElement("input",{type:"hidden",name:"formid",id:"formid",value:s.formid}),React.createElement("input",{type:"hidden",name:"hasAddWfPhraseRight",id:"hasAddWfPhraseRight",value:s.hasAddWfPhraseRight}),React.createElement("input",{type:"hidden",name:"phraseInfo",id:"phraseInfo",value:s.phraseInfo&&JSON.stringify(s.phraseInfo)})))}},{key:"onRightMenuClick",value:function onRightMenuClick(key){var rightMenu=this.props.rightMenu;rightMenu&&!is(rightMenu,_immutable2["default"].fromJS({}))&&rightMenu.get("rightMenus").map(function(m,i){var fn=m.get("menuFun").indexOf("this")>=0?m.get("menuFun").split("this")[0]+")":m.get("menuFun");Number(key)==i&&eval(fn)}),"0"==key&&(actions.doSearch(),actions.setShowSearchAd(!1)),"1"==key&&actions.batchSubmitClick({checkedKeys:""+selectedRowKeys.toJS()}),"2"==key&&(actions.setColSetVisible(!0),actions.tableColSet(!0))}},{key:"getTopTitle",value:function(e){return React.createElement(_antd.Row,null,React.createElement(_antd.Col,{span:"16",style:{paddingLeft:20,lineHeight:"45px"}},React.createElement("div",{className:"wea-workflow-icon"},React.createElement("i",{className:"icon-portal-workflow"})),React.createElement("span",{dangerouslySetInnerHTML:{__html:e}})))}},{key:"submitEvent",value:function(){var e=this,t=this.state,r=(t.operatorDatas,t.forwardflag),n=t.field5,o=t.signinput,a=t.IsSubmitedOpinion,i=t.IsBeForwardTodo,s=this.props,l=s.fromform,u=s.controllShowForward,c=!0;if("1"==o.isSignMustInput){var d=FCKEditorExt.getText("forwardremark");c=chekcremark(d)}if(!c||""==n)return void _antd.message.warning("必要信息不完整，红色*号为必填项！",2);var f=this.getSignInputInfo();this.setState({loading:!0});var p=(0,_objectAssign2["default"])({},f,{operate:"save",actiontype:"remarkOperate",field5:n,requestid:this.props.requestid,forwardflag:r,IsSubmitedOpinion:a,IsBeForwardTodo:i}),h=this;_ecCom.WeaTools.callApi("/workflow/core/ControlServlet.jsp?action=RequestSubmitAction","POST",p).then(function(t){h.clearSignInput();var r=t.forwardflag,n=e.props.actions;if(e.setState({loading:!1}),l)if("1"==r)e9signReload();else{try{window.opener._table.reLoad()}catch(o){}try{jQuery(window.opener.document).find("#btnWfCenterReload").click()}catch(o){}try{n.reqIsSubmit(!0)}catch(o){}}u(!1)})}},{key:"getSignInputInfo",value:function(){var e=jQuery("#forwardremark_div"),t=this.props.requestid;return{signworkflowids:e.find("#signworkflowids").val(),signdocids:e.find("#signdocids").val(),remarkLocation:e.find("#remarkLocation").val(),"field-annexupload":e.find("#field-annexupload").val(),"field-annexupload-name":e.find("#field-annexupload-name").val(),"field-annexupload-count":e.find("#field-annexupload-count").val(),"field-annexupload-request":t,remark:FCKEditorExt.getHtml("forwardremark")}}},{key:"cancelEvent",value:function(){var e=this.props.controllShowForward;e(!1),this.clearSignInput()}},{key:"clearSignInput",value:function(){var e=UE.getEditor("forwardremark");e.setContent("");var t=jQuery("#forwardremark_div"),r=t.find("#field-annexupload").val();if(r){var n=r.split(",");n.map(function(e){t.find("#li_"+e).remove()});var o=jQuery("#forwardremark").find(".edui-for-wfannexbutton").children("div").children("div").children("div").children(".edui-metro");o.addClass("wfres_1"),o.removeClass("wfres_1_slt")}var a=t.find("#signdocids").val();if(a){var i=jQuery("#forwardremark").find(".edui-for-wfdocbutton").children("div").children("div").children("div").children(".edui-metro");i.addClass("wfres_2"),i.removeClass("wfres_2_slt")}var s=t.find("#signworkflowids").val();s&&(_targetobj=jQuery("#forwardremark").find(".edui-for-wfwfbutton").children("div").children("div").children("div").children(".edui-metro"),_targetobj.addClass("wfres_3"),_targetobj.removeClass("wfres_3_slt")),this.clearState()}},{key:"setRedPoint",value:function(){var e=jQuery("#forwardremark_div"),t=e.find("#field-annexupload").val();if(t){var r=jQuery("#forwardremark").find(".edui-for-wfannexbutton").children("div").children("div").children("div").children(".edui-metro");r.addClass("wfres_1_slt"),r.removeClass("wfres_1")}var n=e.find("#signdocids").val();if(n){var o=jQuery("#forwardremark").find(".edui-for-wfdocbutton").children("div").children("div").children("div").children(".edui-metro");o.addClass("wfres_2_slt"),o.removeClass("wfres_2")}var a=e.find("#signworkflowids").val();a&&(_targetobj=jQuery("#forwardremark").find(".edui-for-wfwfbutton").children("div").children("div").children("div").children(".edui-metro"),_targetobj.addClass("wfres_3_slt"),_targetobj.removeClass("wfres_3"))}},{key:"initData",value:function(){var e=this.props.requestid,t={actiontype:"signInput",requestid:e},r=this;_ecCom.WeaTools.callApi("/api/workflow/request/reqinfo","GET",t).then(function(e){var t=r.state.hasinitremark;t&&(UE.getEditor("forwardremark").destroy(),jQuery("#forwardremark_div").find("#_fileuploadphraseblock").remove(),jQuery("#forwardremark_div").find("#fsUploadProgressfileuploaddiv").remove(),jQuery("#forwardremark_div").find("#_signinputphraseblock").remove()),r.setState({signinput:e,reload:!0,hasinitremark:!1})})}},{key:"setForwardOperatorMax",value:function(){var e=this;_ecCom.WeaTools.callApi("/api/workflow/org/selectMaxRight","GET",{}).then(function(t){e.setState({selectOperatorsMax:t.right?void 0:100})})}}]),Forward}(React.Component);exports["default"]=Forward},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(134),p=r(123),h=function(e){function t(e){(0,a["default"])(this,t);var r=(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={showall:!1,hrmgroups:[],allUserIds:"",allUserCount:0,showAllUser:!1};var n=r;return p.WeaTools.callApi("/api/workflow/hrmgroup/datas","GET",{}).then(function(e){n.setState({hrmgroups:e.datas})}),r}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.hrmgroups!==t.hrmgroups||this.state.showall!==t.showall||this.state.showAllUser!==t.showAllUser||this.state.allUserCount!==t.allUserCount}},{key:"addgroup",value:function(e){e(!1);var t=(readCookie("languageidweaver"),new window.top.Dialog);t.currentWindow=window,t.Title="新建自定义组",t.Width=550,t.Height=550,t.Drag=!0,t.maxiumnable=!0,t.URL="/hrm/HrmDialogTab.jsp?_fromURL=hrmGroup&method=HrmGroupAdd&isdialog=1",t.show()}},{key:"add",value:function(e,t,r){var n={};"4"==r.type&&(n.ids="group|"+r.typeid,n.isAllUser=!1,n.groupname=r.typename),"6"==r.type&&(n.ids=r.ids,n.isAllUser=!1),e(n),t(!1)}},{key:"showAllOperators",value:function(){var e=this,t=this.state,r=t.showAllUser,n=t.allUserIds,o=t.allUserCount;if(r){var a=this.props,i=a.handleVisibleChange,s=a.setOperatorIds,l={ids:n,isAllUser:!0,count:o};s(l),i(!1)}else p.WeaTools.callApi("/api/workflow/hrmgroup/datas","GET",{isgetallres:"1"}).then(function(t){e.setState({showAllUser:!0,allUserIds:t.ids,allUserCount:t.count})})}},{key:"render",value:function(){var e=this,t=this.props,r=t.handleVisibleChange,n=t.setOperatorIds,o=this.state,a=o.showall,i=o.hrmgroups,s=o.showAllUser,l=o.allUserCount;return React.createElement("div",{className:"wea-req-operate-group"},React.createElement("div",{className:"wea-req-all-operators",onClick:this.showAllOperators.bind(this)},React.createElement("span",null,"所有人",s&&"（"+l+"）")),React.createElement("div",{className:"wea-req-operate-content"},React.createElement("ul",null,i&&i.map(function(t,o){if(o>2&&!a)return!0;var i=t.ids.split(",").length;return React.createElement("li",{onClick:e.add.bind(e,n,r,t)},React.createElement("span",{className:"cg_title"},t.typename+"（"+i+"人）"),React.createElement("span",{className:"cg_detail"},t.names))}))),i.length>3&&!a&&React.createElement("div",{className:"wea-req-operate-load-more",onClick:function(){return e.setState({showall:!0})}},React.createElement(f.Icon,{type:"down"}),React.createElement("span",{style:{color:"#4397d3","margin-left":"10px"}},"显示全部")),React.createElement("div",{className:"wea-req-operate-add",onClick:function(){return e.addgroup(r)}},React.createElement("span",{style:{color:"#59b632"}},React.createElement(f.Icon,{type:"plus-square"})),React.createElement("span",{style:{color:"#323232","margin-left":"10px"}},"添加常用组")))}}]),t}(React.Component);t["default"]=h},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(134),p=r(123),h=r(300),m=n(h),_=f.Tabs.TabPane,g=function(e){function t(e){(0,a["default"])(this,t);var r=(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={alldatas:[],allitems:[],unsubmititems:[],submititems:[],selectids:"",selectTabKey:"1",selectAll:!1},r}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.requestid,t=this;p.WeaTools.callApi("/api/workflow/reqforward/"+e,"GET",{}).then(function(e){t.setState({alldatas:e}),t.initData(e)})}},{key:"render",value:function(){var e=this,t=this.state,r=t.allitems,n=t.unsubmititems,o=t.submititems,a=t.selectAll,i=t.selectTabKey,s=this.props,l=s.handleShowNodeOperator,u=s.setOperatorIds,c=React.createElement("div",{className:"no-data"},"没有数据");return React.createElement("div",{className:"wea-req-node-operator"},React.createElement("div",{className:"title"},React.createElement("span",null,"选择节点参与人作为转发对象")),React.createElement("div",{className:"content"},React.createElement(f.Tabs,{tabBarExtraContent:React.createElement(f.Checkbox,{checked:a,onChange:this.selectAll.bind(this)},"全选"),onChange:this.changeTab.bind(this)},React.createElement(_,{tab:"全部",key:"1"},r.length>0?r.map(function(t){return React.createElement(m["default"],{item:t,selecttab:i,selectAll:a,updateSelectIds:e.updateSelectIds.bind(e)})}):c),React.createElement(_,{tab:"未提交",key:"2"},n.length>0?n.map(function(t){return React.createElement(m["default"],{item:t,selecttab:i,selectAll:a,updateSelectIds:e.updateSelectIds.bind(e)})}):c),React.createElement(_,{tab:"已提交",key:"3"},o.length>0?o.map(function(t){return React.createElement(m["default"],{item:t,selecttab:i,selectAll:a,updateSelectIds:e.updateSelectIds.bind(e)})}):c))),React.createElement("div",{className:"footer"},React.createElement(f.Button,{type:"primary",onClick:this.btnOnClick.bind(this,u,l)},"确定")))}},{key:"btnOnClick",value:function(e,t){e({ids:this.state.selectids,isAllUser:!1}),
t(!1)}},{key:"changeTab",value:function(e){this.setState({selectTabKey:e,selectAll:!1,selectids:""})}},{key:"selectAll",value:function(e){var t=this;e.target.checked?!function(){var e=t.state.selectTabKey,r="";if("1"==e){var n=t.state.allitems;n.map(function(e){r=r?r+","+e.ids:e.ids})}else if("2"==e){var o=t.state.unsubmititems;o.map(function(e){r=r?r+","+e.ids:e.ids})}else{var a=t.state.submititems;a.map(function(e){r=r?r+","+e.ids:e.ids})}t.setState({selectAll:!0,selectids:r})}():this.setState({selectAll:!1,selectids:""})}},{key:"initData",value:function(e){var t=[],r=[],n=[];e.map(function(e){var o=!0,a=!0,i=!0;t.map(function(t){t.nodeid==e.nodeid&&(t.ids=t.ids?t.ids+","+e.uid:e.uid,t.names=t.names?t.names+"  "+e.data:e.data,o=!1)}),o&&t.push({nodeid:e.nodeid,nodename:e.nodename,ids:e.uid,names:e.data}),"1"==e.handed&&(r.map(function(t){t.nodeid==e.nodeid&&(t.ids=t.ids?t.ids+","+e.uid:e.uid,t.names=t.names?t.names+"  "+e.data:e.data,a=!1)}),a&&r.push({nodeid:e.nodeid,nodename:e.nodename,ids:e.uid,names:e.data})),"0"==e.handed&&(n.map(function(t){t.nodeid==e.nodeid&&(t.ids=t.ids?t.ids+","+e.uid:e.uid,t.names=t.names?t.names+"  "+e.data:e.data,i=!1)}),i&&n.push({nodeid:e.nodeid,nodename:e.nodename,ids:e.uid,names:e.data}))}),this.setState({allitems:t,submititems:r,unsubmititems:n})}},{key:"updateSelectIds",value:function(e,t){var r=this.state.selectids;if(e)this.setState({selectids:r?r+","+t:t});else{var n=r.replace(t,"").replace(/,,/,",").replace(/^,/,"").replace(/,$/,"");this.setState({selectids:n})}}}]),t}(React.Component);t["default"]=g},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(134),p=function(e){function t(e){(0,a["default"])(this,t);var r=(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={checked:!1},r}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.selectAll!==e.selectAll&&this.setState({checked:e.selectAll}),this.props.selecttab!==e.selecttab&&this.setState({checked:!1}),this.state.checked!==t.checked}},{key:"render",value:function(){var e=this.props,t=e.item,r=e.updateSelectIds,n=(e.isselecttab,this.state.checked);return React.createElement("div",{className:"node-item"},React.createElement("div",{className:"checkbox"},React.createElement(f.Checkbox,{checked:n,onChange:this.selectOne.bind(this,r,t.ids)})),React.createElement("div",{className:"nodename"},React.createElement("span",null,t&&t.nodename)),React.createElement("div",{className:"operatos"},React.createElement("span",null,t&&t.names)),React.createElement("div",{className:"viewmore"},React.createElement(f.Icon,{type:"double-right"})))}},{key:"selectOne",value:function(e,t,r){this.setState({checked:r.target.checked}),e(r.target.checked,t)}}]),t}(React.Component);t["default"]=p},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(45),p=n(f),h=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.location.query,t=e.requestid,r=e.preloadkey,n=e.comemessage,o=this.context.router;o.push("/main/workflow/Req?requestid="+t+"&preloadkey="+r+"&comemessage="+n)}},{key:"render",value:function(){return React.createElement("div",null)}}]),t}(React.Component);h.contextTypes={router:p["default"].routerShape},t["default"]=h},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){return{add:e.workflowAdd}}function i(e){return{actions:(0,m.bindActionCreators)(w,e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(47),l=o(s),u=r(48),c=o(u),d=r(52),f=o(d),p=r(88),h=o(p),m=r(97),_=r(112),g=r(303),w=n(g),v=r(134),y=r(123),b=r(274),S=r(305),E=o(S),k=r(307),R=o(k),T=r(308),I=o(T),O=r(129),x=o(O),C=(v.Tabs.TabPane,v.Button.Group,x["default"].is),A="",j=function(e){function t(e){(0,l["default"])(this,t);var r=(0,f["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return A=r,r}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.add,r=e.actions;r.initDatas({needall:"1",tabkey:t.get("tabkey")}),this.scrollheigth()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.location.key,r=e.location.key;if(t!==r){var n=this.props,o=n.add,a=n.actions,i=o.mulitcol,s=o.isAbc,l=y.WeaTools.ls;l.set("wf-add-mulitcol",i),l.set("wf-add-isAbc",s),a.setSearchValue(""),a.initDatas({needall:"1",tabkey:o.get("tabkey")}),this.scrollheigth()}window.location.pathname.indexOf("/spa/workflow/index")>=0&&e.add.has("wftypes")&&"新建流程"!==document.title&&(document.title="新建流程")}},{key:"shouldComponentUpdate",value:function(e,t){return!C(this.props.add,e.add)}},{key:"componentDidUpdate",value:function(){this.scrollheigth()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.add,r=e.actions,n=t.mulitcol,o=t.isAbc,a=y.WeaTools.ls;a.set("wf-add-mulitcol",n),a.set("wf-add-isAbc",o),r.setSearchValue("")}},{key:"scrollheigth",value:function r(){var e=jQuery(".wea-wf-add-content").offset()&&jQuery(".wea-wf-add-content").offset().top?jQuery(".wea-wf-add-content").offset().top:0,r=document.documentElement.clientHeight-e;jQuery(".wea-wf-add-content").height(r-30)}},{key:"goABC",value:function(e){var t=this.props.actions;t.setAbcSelected(e);var r=jQuery("#"+e).position().top;jQuery(".wea-wf-add-content").scrollTop(r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.add,n=t.actions,o=r.get("wftypes"),a=r.get("typesShow"),i=r.get("typesCols"),s=r.get("usedBeans"),l=(r.get("value"),r.get("tabkey")),u=r.get("mulitcol"),c=r.get("isAbc"),d=r.get("loading"),f=r.get("importDataShow"),p=r.get("abcBtns"),h=r.get("curOperWfid"),m=r.get("showBeagenters"),_=r.get("showImportWf"),g=r.get("commonuse"),w=r.get("user"),S=[{title:"全部流程",key:"1"},{title:"我的收藏",key:"2"}];return"1"==g&&S.push({title:"常用流程",key:"3"}),React.createElement("div",{className:"wf-create-main"},React.createElement(y.WeaTop,{loading:d,icon:React.createElement("i",{className:"icon-portal-workflow"}),iconBgcolor:"#55D2D4",title:"新建流程",buttons:this.getButtons(),hideButtons:this.getHideButtons(),showDropIcon:!1}),React.createElement(y.WeaTab,{onSearchChange:this.doSearch.bind(this),selectedKey:l,datas:S,searchType:["base"],keyParam:"key",onChange:this.changeTab.bind(this)}),React.createElement("div",{className:"wea-wf-add-content"},c&&"3"!==l&&React.createElement("div",{className:"abcbtn-group"},p.map(function(t){return React.createElement(v.Button,{className:t.get("selected")?"btn-selected":"",type:"ghost",key:t.get("letter"),disabled:t.get("disabled"),onClick:e.goABC.bind(e,t.get("letter"))},t.get("letter"))})),"3"==l?0!=s.size||d?React.createElement(I["default"],{user:w,wfbeans:s,importDataShow:f,curOperWfid:h,showBeagenters:m,showImportWf:_,actions:n}):React.createElement(v.Alert,{message:"提示",description:"数据为空",type:"info",showIcon:!0}):0!=a.size||d?u?React.createElement(v.Row,null,i.map(function(e){return React.createElement(v.Col,{span:24/i.size,style:{padding:"0 10px"}},React.createElement(E["default"],{user:w,types:e,mulitcol:u,importDataShow:f,isAbc:c,wftypes:o,curOperWfid:h,showBeagenters:m,showImportWf:_,actions:n}))})):React.createElement(v.Row,null,React.createElement(v.Col,{span:"24",style:{paddingLeft:10,paddingRight:10}},React.createElement(R["default"],{user:w,types:a,mulitcol:u,importDataShow:f,isAbc:c,wftypes:o,curOperWfid:h,showBeagenters:m,showImportWf:_,actions:n}))):React.createElement(v.Alert,{message:"提示",description:"数据为空",type:"info",showIcon:!0})),React.createElement("form",{id:"subform",name:"subform",method:"get",action:"RequestType.jsp",target:"_blank"},React.createElement("input",{type:"hidden",id:"workflowid",name:"workflowid"}),React.createElement("input",{type:"hidden",id:"isagent",name:"isagent"}),React.createElement("input",{type:"hidden",id:"beagenter",name:"beagenter"}),React.createElement("input",{type:"hidden",id:"f_weaver_belongto_userid",name:"f_weaver_belongto_userid"})),React.createElement(b.Synergy,{pathname:"/workflow/add",requestid:"-1"}))}},{key:"getButtons",value:function(){var e=this.props.add,t=e.get("isAbc"),r=e.get("mulitcol"),n=e.get("tabkey");return["3"!=n&&React.createElement("i",{className:"icon-button icon-New-Flow-Letter"+(t?" wea-new-top-btn-clicked":""),onClick:this.showABC.bind(this)}),"3"!=n&&React.createElement("i",{className:"icon-button icon-New-Flow-1"+(r?" wea-new-top-btn-clicked":""),onClick:this.showMulitcol.bind(this)})]}},{key:"getHideButtons",value:function(){return[React.createElement("a",{href:"javascript:void(0)",onClick:function(){}},"第一个菜单项"),React.createElement("a",{href:"javascript:void(0)",onClick:function(){}},"第二个菜单项")]}},{key:"showMulitcol",value:function(){var e=this.props,t=e.add,r=e.actions,n=t.get("mulitcol");r.setMulitcol(!n),jQuery(".wea-wf-add-content").scrollTop(0)}},{key:"showABC",value:function(){var e=this.props,t=e.add,r=e.actions,n=t.get("isAbc");r.setIsAbc(!n),jQuery(".wea-wf-add-content").scrollTop(0)}},{key:"changeTab",value:function(e){var t=this.props.actions;t.changeTab(e),jQuery(".wea-wf-add-content").scrollTop(0)}},{key:"doSearch",value:function(e){var t=this.props.actions;t.setSearchValue(e),jQuery(".wea-wf-add-content").scrollTop(0)}}]),t}(React.Component);jQuery(window).resize(function(){A&&A.props&&A.props.actions&&A.props.actions.setUpdate()}),t["default"]=(0,_.connect)(a,i)(j)},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.setShowImportWf=t.setShowBeagenters=t.setImportSearchValue=t.getImportData=t.doAddWfToColl=t.setUpdate=t.setUsedBens=t.setTypesCols=t.setTypesShow=t.setAbcSelected=t.setIsAbc=t.setMulitcol=t.changeTab=t.setSearchValue=t.initDatas=void 0;var a=r(121),i=o(a),s=r(304),l=o(s),u=r(129),c=(n(u),r(134)),d=(t.initDatas=function(e){return function(t){t({type:i.SET_ADD_LOADING,data:!0}),l.doWfInfoGet(e).then(function(e){t({type:i.SET_WFTYPES,data:e.datas}),t({type:i.SET_COMMONUSE,commonuse:e.commonuse,user:e.user}),t(m())})}},t.setSearchValue=function(e){return function(t){t({type:i.SET_SEARCH_VALUE,data:e}),t(m())}},t.changeTab=function(e){return function(t){t({type:i.SET_TABKEY,data:e}),t(d("")),t(m())}},t.setMulitcol=function(e){return function(t){t({type:i.SET_MULITCOL,data:e}),t(m())}},t.setIsAbc=function(e){return function(t){t({type:i.SET_ISABC,data:e}),t(m())}},t.setAbcSelected=function(e){return function(t){t({type:i.SET_ABC_SELECTED,data:e}),t(m())}}),f=t.setTypesShow=function(){return{type:i.SET_TYPES_SHOW}},p=t.setTypesCols=function(){return{type:i.SET_TYPES_COLS}},h=t.setUsedBens=function(){return{type:i.SET_USED_BEANS}},m=t.setUpdate=function(){return function(e){e(f()),e(p()),e(h())}},_=(t.doAddWfToColl=function(e,t){return function(r,n){var o=e.get("id"),a=e.get("typeId"),s=n().workflowAdd.get("wftypes");l.doAddWfToColl({workflowid:"W"+o,worktypeid:"T"+a,needall:t}).then(function(e){var n=[].concat(s.toJS());n.map(function(e){e.id==a&&e.wfbeans.map(function(r){r.id==o&&(r.wfColl=t,e.wftypeColl=t)})}),r({type:i.SET_WFTYPES,data:n}),c.message.info("0"==t?"取消收藏成功":"加入收藏成功"),r(m())})}},t.getImportData=function(e){return function(t){l.getRequestImportData(e).then(function(r){t({type:i.SET_IMPORT_DATA,data:r}),t(_(e.workflowid,!0)),t({type:i.SET_IMPORT_DATA_SHOW})})}},t.setImportSearchValue=function(e){return function(t){t({type:i.SET_IMPORT_SEARCH_VALUE,data:e}),t({type:i.SET_IMPORT_DATA_SHOW})}},t.setShowBeagenters=function(e,t){return function(r){r({type:i.SET_SHOW_BEAGENTERS,wfid:e,status:t})}},t.setShowImportWf=function(e,t){return function(r){r({type:i.SET_SHOW_IMPORTWF,wfid:e,status:t}),t||r({type:i.SET_IMPORT_DATA,data:[]})}})},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestImportData=t.doAddWfToColl=t.doWfInfoGet=void 0;var o=r(123),a=r(272);n(a),t.doWfInfoGet=function(e){return o.WeaTools.callApi("/api/workflow/createreq/wfinfo","GET",e)},t.doAddWfToColl=function(e){return o.WeaTools.callApi("/api/workflow/createreq/managewfcoll","GET",e)},t.getRequestImportData=function(e){return o.WeaTools.callApi("/workflow/request/RequestImportJson.jsp","POST",e)}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(306),p=n(f),h=r(134),m=r(129),_=n(m),g=_["default"].is,w=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!g(this.props.types,e.types)||this.props.isAbc!==e.isAbc||!g(this.props.importDataShow,e.importDataShow)||this.props.showBeagenters!==e.showBeagenters||this.props.showImportWf!==e.showImportWf}},{key:"render",value:function(){var e=this.props,t=e.types,r=e.importDataShow,n=e.isAbc,o=e.curOperWfid,a=e.showBeagenters,i=e.showImportWf,s=e.actions,l=e.user;return React.createElement("div",null,t.map(function(e){var t=e.get("wfbeans"),u="icon-base "+e.get("img"),c=e.get("color"),d=e.get("letter");return React.createElement(h.Card,{id:d,style:e.get("selected")?{"border-top-color":c,background:"#fff",boxShadow:"0 1px 6px hsla(0,0%,39%,.2)"}:{"border-top-color":c}},React.createElement("div",{style:{padding:"5px 0 25px 0",textAlign:"center"}},n?React.createElement("span",{style:{fontSize:26,color:c}},d):React.createElement("div",{className:"wf-card-type-name"},React.createElement("span",{style:{color:c,fontSize:26,marginRight:10}},React.createElement("i",{className:u})),React.createElement("span",{style:{height:36,lineHeight:"36px"}},e&&e.get("typeName"),t&&"("+t.size+")"))),t.map(function(e){return React.createElement(p["default"],{user:l,wfbean:e,importDataShow:r,iscommon:!1,curOperWfid:o,showBeagenters:a,showImportWf:i,actions:s})}))}))}}]),t}(React.Component);t["default"]=w},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=screen.availWidth-10,r=screen.availHeight-50,n="top=0,";n+="left=0,",n+="width="+t+",",n+="height="+r+",",n+="directories=no,",n+="status=yes,toolbar=no,location=no,",n+="menubar=no,",n+="scrollbars=yes,",n+="resizable=yes",window.open(e,"",n)}function i(e,t){var r="src=import&imprequestid="+e.get("data")+"&workflowid="+t+"&formid="+e.get("formid")+"&isbill="+e.get("isbill")+"&nodeid="+e.get("nodeid")+"&nodetype="+e.get("nodetype")+"&requestname="+escape(e.get("value"));a("/workflow/request/RequestImportOption.jsp?newmodeid=0&ismode=0&"+r)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(47),l=o(s),u=r(48),c=o(u),d=r(52),f=o(d),p=r(88),h=o(p),m=r(304),_=(n(m),r(134)),g=r(123),w=r(129),v=o(w),y=v["default"].is,b=function(e){function t(e){(0,l["default"])(this,t);var r=(0,f["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={width:0},r}return(0,h["default"])(t,e),(0,c["default"])(t,[{key:"componentDidMount",value:function(){document.getElementsByClassName||(document.getElementsByClassName=function(e,t){for(var r=(t||document).getElementsByTagName("*"),n=new Array,o=0;o<r.length;o++)for(var a=r[o],i=a.className.split(" "),s=0;s<i.length;s++)if(i[s]==e){n.push(a);break}return n});var e=document.getElementsByClassName("centerItem")[0];!!e.offsetWidth&&this.setState({width:e.offsetWidth})}},{key:"shouldComponentUpdate",value:function(e,t){var r=(this.props.curOperWfid,e.curOperWfid),n=this.props.wfbean,o=e.wfbean,a=!1;return a=r===o.get("id")&&(this.props.showBeagenters!==e.showBeagenters||this.props.showImportWf!==e.showImportWf||!y(this.props.importDataShow,e.importDataShow)),!y(n,o)||a||this.props.iscommon!==e.iscommon||this.props.num!==e.num||this.state.width!==t.width}},{key:"render",value:function(){var e=this,t=this.state.width,r=this.props,n=r.wfbean,o=r.importDataShow,a=r.iscommon,s=r.num,l=r.showBeagenters,u=r.showImportWf,c=r.actions,d=(r.user,n.get("beagenters")),f=n.get("belongtoUsers"),p=n.get("wfColl"),h=n.get("isImportWf"),m=n.get("id"),w=n.get("name"),v=!!d&&d.size>0,y=!!f&&f.size>0,b=!!o&&o.size>0,S=h&&"1"==h,E="1"==p,k=v||y,R=S&&!a?t-90:S||!a?t-60:t-30,T=a?t-30:t-60,I=["#55D2D4","#B37BFA","#FFC62E","#8DCE36","#37B2FF","#FF9537","#FF5E56"];return React.createElement("div",{className:"centerItem",key:m,onMouseLeave:this.hideOperArea.bind(this)},a&&React.createElement("span",{style:{color:I[s%7],fontSize:"30px","float":"left",marginLeft:20}},React.createElement("i",{className:"icon-New-Flow-"+(9==s?"10":"0"+(s+1))})),React.createElement("div",{className:"fontItem",style:{width:a?"60%":"100%"}},React.createElement("a",{onClick:this.onNewRequest.bind(this,m,"",0,0),target:"_blank",title:w},w)),React.createElement("div",{className:"imageItem",style:{display:"none"}},k&&React.createElement("div",{className:"wea-add-drop-btn"},React.createElement("span",{className:"wea-add-drop-btn-area",onClick:this.agentCreate.bind(this)},React.createElement(_.Icon,{title:"选择创建身份",type:"team"})),l&&React.createElement("div",{className:"wea-add-drop-content",style:{width:R}},React.createElement("div",{className:"wea-add-drop-btn-on",onClick:this.agentCreate.bind(this)},React.createElement(_.Icon,{title:"选择创建身份",type:"team"})),y&&React.createElement("div",null,React.createElement("span",null,"次账号"),React.createElement(_.Menu,null,f.map(function(t){return React.createElement(_.Menu.Item,null,React.createElement("a",{onClick:e.onNewRequest.bind(e,m,t.get("id"),0,0),target:"_blank"},t.get("departmentName")&&t.get("departmentName"),t.get("jobtitlename")&&"/"+t.get("jobtitlename")))}))),v&&React.createElement("div",null,React.createElement("span",null,"代理他人创建"),React.createElement(_.Menu,null,d.map(function(t){return React.createElement(_.Menu.Item,null,React.createElement("a",{onClick:e.onNewRequest.bind(e,m,"",t.get("id"),1),target:"_blank"},t.get("lastname"),t.get("departmentName")&&"/"+t.get("departmentName")))}))))),S&&React.createElement("div",{className:"wea-add-drop-btn"},React.createElement("span",{className:"wea-add-drop-btn-area",onClick:this.importWf.bind(this)},React.createElement(_.Icon,{title:"导入流程",type:"download"})),u&&React.createElement("div",{className:"wea-add-drop-content",style:{width:T}},React.createElement("div",{className:"wea-add-drop-btn-on",onClick:this.importWf.bind(this)},React.createElement(_.Icon,{title:"导入流程",type:"download"})),React.createElement(g.WeaInputSearch,{onSearchChange:function(e){return c.setImportSearchValue(e)}}),b?React.createElement(_.Menu,{style:{marginTop:10}},o.map(function(e,t){if(t<5)return React.createElement(_.Menu.Item,{title:e.value},React.createElement("a",{style:{padding:"0 12px 0 20px"},onClick:function(){return i(e,m)}},e.get("value")))})):React.createElement("div",null,"数据为空"))),!a&&React.createElement("div",{className:"wea-add-drop-btn"},React.createElement(_.Icon,{type:E?"star":"star-o",title:E?"取消收藏":"加入我的收藏",onClick:this.addWorkflow.bind(this,E?"0":"1")}))))}},{key:"onNewRequest",value:function(e,t,r,n,o){jQuery.post("/workflow/request/AddWorkflowUseCount.jsp",{wfid:e}),openFullWindowHaveBar("/workflow/request/AddRequest.jsp?workflowid="+e+"&isagent="+n+"&beagenter="+r+"&f_weaver_belongto_userid="+t)}},{key:"addWorkflow",value:function(e){var t=this.props,r=t.wfbean,n=t.actions;n.doAddWfToColl(r,e)}},{key:"hideOperArea",value:function(e){var t=this.props,r=t.actions,n=t.wfbean,o=n.get("id");r.setShowBeagenters(o,!1),r.setShowImportWf(o,!1)}},{key:"agentCreate",value:function(){var e=this.props,t=e.actions,r=e.wfbean,n=e.showBeagenters,o=r.get("id");t.setShowBeagenters(o,!n),t.setShowImportWf(o,!1)}},{key:"importWf",value:function(){var e=this.props,t=e.actions,r=e.wfbean,n=e.showImportWf,o=e.user,a=r.get("id");if(n)t.setShowImportWf(a,!1);else{var i=o.get("id"),s={f_weaver_belongto_userid:i,f_weaver_belongto_usertype:"0",workflowid:r.get("id"),location:"Boston",importuser:i};t.setImportSearchValue(""),t.getImportData(s)}t.setShowBeagenters(a,!1)}}]),t}(React.Component);t["default"]=b},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(306),p=n(f),h=r(134),m=r(129),_=n(m),g=_["default"].is,w=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!g(this.props.types,e.types)||this.props.isAbc!==e.isAbc||!g(this.props.importDataShow,e.importDataShow)||this.props.showBeagenters!==e.showBeagenters||this.props.showImportWf!==e.showImportWf}},{key:"render",value:function(){var e=this.props,t=e.types,r=e.importDataShow,n=e.isAbc,o=e.curOperWfid,a=e.showBeagenters,i=e.showImportWf,s=e.actions,l=e.user;return React.createElement("div",null,t.map(function(e){var t=e.get("wfbeans"),u="icon-base "+e.get("img"),c=e.get("color"),d=e.get("letter");return React.createElement(h.Card,{id:d,className:"clearfix",style:e.get("selected")?{"border-top-color":c,overflow:"visible",background:"#fff",boxShadow:"0 1px 6px hsla(0,0%,39%,.2)"}:{"border-top-color":c,overflow:"visible"}},React.createElement("div",{style:{width:"100%","margin-bottom":"20px"}},React.createElement("div",{className:"one-card-title"},React.createElement("div",{style:{display:"table",height:"100%",width:"100%"}},React.createElement("div",{style:{display:"table-cell",padding:"5px 0 25px 0",textAlign:"center"}},n?React.createElement("span",{style:{fontSize:26,color:c}},d):React.createElement("div",{className:"wf-card-type-name"},React.createElement("span",{style:{color:c,fontSize:26,marginRight:10}},React.createElement("i",{className:u})),React.createElement("span",{style:{height:36,lineHeight:"36px"}},e&&e.get("typeName"),t&&"("+t.size+")"))))),React.createElement("div",{className:"one-card-content"},React.createElement("ul",null,t.map(function(e){return React.createElement("li",null,React.createElement(p["default"],{user:l,wfbean:e,importDataShow:r,iscommon:!1,curOperWfid:o,showBeagenters:a,showImportWf:i,actions:s}))})))))}))}}]),t}(React.Component);t["default"]=w},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(47),a=n(o),i=r(48),s=n(i),l=r(52),u=n(l),c=r(88),d=n(c),f=r(306),p=n(f),h=r(129),m=n(h),_=m["default"].is,g=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,s["default"])(t,[{key:"shouldComponentUpdate",value:function(e){return!_(this.props.wfbeans,e.wfbeans)||!_(this.props.importDataShow,e.importDataShow)||this.props.showBeagenters!==e.showBeagenters||this.props.showImportWf!==e.showImportWf}},{key:"render",value:function(){var e=this.props,t=e.wfbeans,r=e.importDataShow,n=e.curOperWfid,o=e.showBeagenters,a=e.showImportWf,i=e.actions,s=e.user;return React.createElement("div",{className:"usedtodo"},React.createElement("ul",null,t.map(function(e,t){return React.createElement("li",null,React.createElement(p["default"],{user:s,wfbean:e,importDataShow:r,iscommon:!0,num:t,curOperWfid:n,showBeagenters:o,showImportWf:a,actions:i}))})))}}]),t}(React.Component);t["default"]=g},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.workflowqueryFlow,r=e.comsWeaTable;return{title:t.get("title"),condition:t.get("condition"),fields:t.get("fields"),searchParamsAd:t.get("searchParamsAd"),dataKey:t.get("dataKey"),showTable:t.get("showTable"),showSearchAd:t.get("showSearchAd"),leftTree:t.get("leftTree"),searchParams:t.get("searchParams"),selectedTreeKeys:t.get("selectedTreeKeys"),comsWeaTable:r.get(r.get("tableNow"))}}function i(e){return{actions:(0,g.bindActionCreators)((0,l["default"])({},y,{setNowRouterWfpath:b.setNowRouterWfpath},P),e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),l=o(s),u=r(47),c=o(u),d=r(48),f=o(d),p=r(52),h=o(p),m=r(88),_=o(m),g=r(97),w=r(112),v=r(310),y=n(v),b=r(120),S=r(229),E=o(S),k=r(272),R=o(k),T=r(274),I=r(125),O=r(123),x=r(134),C=r(136),A=(o(C),r(135)),j=(o(A),r(129)),D=o(j),P=I.WeaTable.action,q=x.Form.create,L=x.Form.Item,N=D["default"].is,M=(D["default"].fromJS,D["default"].Map,null),W=function(e){function t(e){(0,c["default"])(this,t);var r=(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));M=r;var n=e.location.query;return r.doInit(n),r}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"doInit",value:function(e){var t=this.props,r=t.actions;t.location,t.fields;r.setNowRouterWfpath("queryFlow");var n={},o=!1,a=!(0,R["default"])(e);for(var i in e)n[i]={name:i,value:""+e[i],dirty:!1},n["_"+i]={name:"_"+i,value:""+e[i],dirty:!1},"jsonstr"===i&&(o=!0);r.initDatas(),r.updateDisplayTable(a),r.initTree(o?e:{}),r.saveFields(o?{}:n),r.setSearchParams(o?e:{}),a&&r.doSearch(o?e:{})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.location.key,r=e.location.key;if(window.location.pathname.indexOf("/spa/workflow/index")>=0&&e.title&&document.title!==e.title&&(document.title=e.title),t!==r){var n=this.props.actions,o=e.location.query;this.doInit(o),n.setSelectedTreeKeys(),n.setSelectedRowKeys()}}},{key:"shouldComponentUpdate",value:function(e,t){return!(N(this.props.title,e.title)&&N(this.props.condition,e.condition)&&N(this.props.searchParamsAd,e.searchParamsAd)&&N(this.props.fields,e.fields)&&N(this.props.showTable,e.showTable)&&N(this.props.comsWeaTable,e.comsWeaTable)&&N(this.props.showSearchAd,e.showSearchAd)&&N(this.props.btninfo,e.btninfo))}},{key:"componentWillUnmount",value:function(){var e=this.props.actions;e.saveFields(),e.setSelectedTreeKeys(),e.updateDisplayTable(!1),e.setSearchParams(),e.setSelectedRowKeys(),e.setShowSearchAd(!1)}},{key:"render",value:function(){var e="/spa/workflow/index.jsp"==window.location.pathname,t=this.props,r=t.comsWeaTable,n=t.title,o=(t.dataKey,t.showTable),a=t.actions,i=t.searchParamsAd,s=t.showSearchAd,u=t.fields,c=r.get("loading");r.get("selectedRowKeys");return React.createElement("div",{className:"wea-workflow-query"},e&&React.createElement(O.WeaPopoverHrm,null),React.createElement(O.WeaRightMenu,{datas:this.getRightMenu(),onClick:this.onRightMenuClick.bind(this)},React.createElement(O.WeaTop,{title:n,loading:c,icon:React.createElement("i",{className:"icon-portal-workflow"}),iconBgcolor:"#55D2D4",buttons:this.getButtons(),buttonSpace:10,showDropIcon:!0,dropMenuDatas:this.getRightMenu(),onDropMenuClick:this.onRightMenuClick.bind(this)},o?React.createElement("div",{style:{height:"100%"}},React.createElement(O.WeaLeftRightLayout,{leftCom:this.getTree(),leftWidth:25},React.createElement(O.WeaTab,{onlyShowRight:!0,buttonsAd:this.getTabButtonsAd(),searchType:["base","advanced"],searchsBaseValue:i.get("requestname"),setShowSearchAd:function(e){a.setShowSearchAd(e)},hideSearchAd:function(){return a.setShowSearchAd(!1)},searchsAd:React.createElement(x.Form,{horizontal:!0},this.getSearchs(!0)),showSearchAd:s,onSearch:function(e){a.doSearch()},onSearchChange:function(e){a.saveFields((0,l["default"])({},u.toJS(),{requestname:{name:"requestname",value:e},_requestname:{name:"_requestname",value:e}}))}}),React.createElement(I.WeaTable,{hasOrder:!0,needScroll:!0}))):React.createElement("div",{className:"wea-workflow-query-search"},React.createElement(x.Form,{horizontal:!0},this.getSearchs()),React.createElement("div",{className:"wea-workflow-query-btns"},this.getSearchButtons())))),React.createElement(T.Synergy,{pathname:"/workflow/queryFlow",requestid:"-1"}))}},{key:"onRightMenuClick",value:function(e){var t=this.props,r=t.actions,n=t.comsWeaTable,o=n.get("selectedRowKeys");"0"==e&&(r.doSearch(),r.setShowSearchAd(!1),r.updateDisplayTable(!0)),"1"==e&&r.batchShareWf(""+o.toJS()),"2"==e&&(r.setColSetVisible(!0),r.tableColSet(!0))}},{key:"getRightMenu",value:function(){var e=this.props,t=e.comsWeaTable,r=e.showTable,n=(e.actions,t.get("selectedRowKeys")),o=[];return o.push({icon:React.createElement("i",{className:"icon-Right-menu--search"}),content:"搜索"}),r&&o.push({icon:React.createElement("i",{className:"icon-Right-menu-Batch-sharing"}),content:"批量共享",disabled:!(n&&""+n.toJS())}),r&&o.push({icon:React.createElement("i",{className:"icon-Right-menu-Custom"}),content:"显示定制列"}),o}},{key:"getSearchs",value:function(e){var t=this.props.showTable;return[React.createElement(O.WeaSearchGroup,{needTigger:t,title:this.getTitle(),showGroup:this.isShowFields(),items:this.getFields(0,e)}),React.createElement(O.WeaSearchGroup,{needTigger:t,title:this.getTitle(1),showGroup:this.isShowFields(1),items:this.getFields(1,e)})]}},{key:"getTitle",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.condition;return!(0,R["default"])(t.toJS())&&t.toJS()[e].title}},{key:"isShowFields",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.props.condition;return!(0,R["default"])(t.toJS())&&t.toJS()[e].defaultshow}},{key:"getFields",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=this.props,o=n.condition,a=(n.showTable,n.fields,!(0,R["default"])(o.toJS())&&o.toJS()[t].items),i=[];return(0,E["default"])(a,function(t){var n=t.domkey.map(function(e){return r?e:"_"+e});i.push({com:React.createElement(L,{label:""+t.label,labelCol:{span:""+t.labelcol},wrapperCol:{span:""+t.fieldcol}},O.WeaTools.switchComponent(e.props,t.key,n,t)),colSpan:1})}),i}},{key:"getTree",value:function(){var e=this.props,t=e.leftTree,r=e.actions,n=(e.searchParams,e.selectedTreeKeys),o=e.loading;return React.createElement(O.WeaLeftTree,{datas:t&&t.toJS(),selectedKeys:n&&n.toJS(),loading:o,onFliterAll:function(){r.setShowSearchAd(!1),r.setSelectedTreeKeys(),r.saveFields(),r.doSearch()},onSelect:function(e){r.setShowSearchAd(!1),r.setSelectedTreeKeys([e]);var n=0===e.indexOf("wf_")?e.substring(3):"",o=0===e.indexOf("type_")?e.substring(5):"",a="",i="";t&&t.map(function(t){t.get("domid")==e&&(i=t.get("name")),t.get("childs")&&t.get("childs").map(function(t){t.get("domid")==e&&(a=t.get("name"))})});var s={workflowid:{name:"workflowid",value:n,valueSpan:a},_workflowid:{name:"_workflowid",value:n,valueSpan:a},typeid:{name:"typeid",value:o,valueSpan:i},_typeid:{name:"_typeid",value:o,valueSpan:i}};r.saveFields(s),r.doSearch()}})}},{key:"getTabButtonsAd",value:function(){var e=this.props,t=e.actions;e.searchParamsAd;return[React.createElement(x.Button,{type:"primary",onClick:function(){t.doSearch(),t.setShowSearchAd(!1)}},"搜索"),React.createElement(x.Button,{type:"ghost",onClick:function(){t.saveFields(),t.setSelectedTreeKeys()}},"重置"),React.createElement(x.Button,{type:"ghost",onClick:function(){t.setShowSearchAd(!1)}},"取消")]}},{key:"getSearchButtons",value:function(){var e=this.props,t=e.actions,r=(e.searchParamsAd,
{borderRadius:3,height:28,width:80});return[React.createElement(x.Button,{type:"primary",style:r,onClick:function(){t.doSearch(),t.updateDisplayTable(!0),t.setShowSearchAd(!1)}},"搜索"),React.createElement("span",{style:{width:"15px",display:"inline-block"}}),React.createElement(x.Button,{type:"ghost",style:r,onClick:function(){t.saveFields(),t.setShowSearchAd(!1)}},"重置")]}},{key:"getButtons",value:function(){var e=this.props,t=e.actions,r=e.showTable,n=e.comsWeaTable,o=n.get("selectedRowKeys"),a=[];return r&&a.push(React.createElement(x.Button,{type:"primary",disabled:!(o&&""+o.toJS()),onClick:function(){t.batchShareWf(""+o.toJS())}},"批量共享")),a}}]),t}(React.Component),F=function(e){function t(){return(0,c["default"])(this,t),(0,h["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,_["default"])(t,e),(0,f["default"])(t,[{key:"render",value:function(){var e=this.props.error&&""!==this.props.error;return React.createElement(O.WeaErrorPage,{msg:e?this.props.error:"对不起，该页面异常，请联系管理员！"})}}]),t}(React.Component);W=O.WeaTools.tryCatch(React,F,{error:""})(W),W=q({onFieldsChange:function(e,t){var r={};for(var n in t){var o=(0,l["default"])({},t[n]);o.name=t[n].name.indexOf("_")<0?"_"+t[n].name:t[n].name.substring(1),o.value=t[n].value,o.valueSpan=t[n].valueSpan,r[n.indexOf("_")<0?"_"+n:n.substring(1)]=(0,l["default"])({},o)}e.actions.saveFields((0,l["default"])({},e.fields.toJS(),t,r))},mapPropsToFields:function(e){return e.fields.toJS()}})(W),t["default"]=(0,w.connect)(a,i)(W)},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.batchShareWf=t.setShowSearchAd=t.doSearch=t.updateDisplayTable=t.saveFields=t.setSearchParams=t.setSelectedTreeKeys=t.initTree=t.initDatas=void 0;var a=r(1),i=o(a),s=r(121),l=n(s),u=r(311),c=n(u),d=r(124),f=(n(d),r(125)),p=r(123),h=(r(134),f.WeaTable.action);t.initDatas=function(e){return function(e,t){var r=p.WeaTools.ls;c.getQueryFieldsList().then(function(t){r.set("queryFlowFieldsList",t.condition),e({type:l.QUERY_FLOW_INIT_BASE,value:t.condition})})}},t.initTree=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t,r){var n=p.WeaTools.ls;c.queryFieldsTree(e).then(function(e){n.set("queryFlowleftTree",e.treedata),t({type:l.QUERY_FLOW_INIT_TREE,value:e.treedata})})}},t.setSelectedTreeKeys=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return function(t,r){t({type:l.QUERY_FLOW_SET_SELECTED_TREEKEYS,value:e})}},t.setSearchParams=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t,r){t({type:l.QUERY_FLOW_SET_SEARCH_PARAMS,value:e})}},t.saveFields=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t,r){t({type:l.QUERY_FLOW_SAVE_FIELDS,value:e})}},t.updateDisplayTable=function(e){return function(t,r){t({type:l.QUERY_FLOW_UPDATE_DISPLAY_TABLE,value:e})}},t.doSearch=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t,r){var n=r().workflowqueryFlow.toJS(),o=n.searchParamsAd,a=n.searchParams;c.queryFieldsSearch(e.jsonstr?e:(0,i["default"])({},a,o)).then(function(r){t({type:l.QUERY_FLOW_SEARCH_RESULT,value:r.sessionkey}),t(h.getDatas(r.sessionkey,e.current||1))})}},t.setShowSearchAd=function(e){return function(t,r){t({type:l.QUERY_FLOW_SET_SHOW_SEARCHAD,value:e})}},t.batchShareWf=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return function(t,r){var n=null;n=window.top.Dialog?new window.top.Dialog:new Dialog,n.currentWindow=window,n.Width=650,n.Height=500,n.Modal=!0,n.maxiumnable=!1,n.Title="批量共享",n.URL="/workflow/request/AddWorkflowBatchShared.jsp?ids="+e,n.show()}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.queryFieldsTree=t.queryFieldsSearch=t.getQueryFieldsList=void 0;var n=r(123);t.getQueryFieldsList=function(){return n.WeaTools.callApi("/api/workflow/search/condition")},t.queryFieldsSearch=function(e){return n.WeaTools.callApi("/api/workflow/search/pagingresult","GET",e)},t.queryFieldsTree=function(e){return n.WeaTools.callApi("/api/workflow/search/resulttree","GET",e)}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(324),a=n(o),i=r(325),s=n(i),l=r(326),u=n(l),c=r(327),d=n(c),f=r(328),p=n(f),h=r(329),m=n(h);t["default"]={workflowReq:a["default"],workflowAdd:p["default"],workflowlistDoing:s["default"],workflowlistDone:u["default"],workflowlistMine:d["default"],workflowqueryFlow:m["default"]}},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(){var e,t=arguments.length<=0||void 0===arguments[0]?p:arguments[0],r=arguments[1];switch(r.type){case u.SET_SHOWBACK_TO_E8:return t.merge({showBackToE8:r.bool});case u.SET_SHOW_SEARCHDROP:return t.merge({showSearchDrop:r.value});case u.SAVE_SIGN_FIELDS:return t.merge({signFields:r.value,logSearchParams:function(){var e={};if(r.value)for(var t in r.value)e[r.value[t].name]=r.value[t].value,"createrid"==t&&(e.creatertype="0");return e}()});case u.SET_HIDDEN_AREA:return t.merge({params:t.get("params").merge({hiddenarea:t.getIn(["params","hiddenarea"]).merge(r.hiddenarea)})});case u.SET_RESOURCES_KEY:return t.merge({resourcesKey:r.key,resourcesTabKey:r.tabindex});case u.FORM_LOADING:return t.merge({loading:r.loading});case"TEST_PAGE_LOAD_DURATION":return t.merge({reqLoadDuration:r.reqLoadDuration,jsLoadDuration:r.jsLoadDuration,apiDuration:r.apiDuration,dispatchDuration:r.dispatchDuration});case u.INIT_FORMVALUE:return t.merge((e={params:r.params,formLayout:r.formLayout,loading:!1,formValue:r.formValue},(0,s["default"])(e,"loading",!1),(0,s["default"])(e,"cellInfo",r.cellInfo),(0,s["default"])(e,"tableInfo",r.tableInfo),(0,s["default"])(e,"linkageCfg",r.linkageCfg),e));case u.INIT_FORMVALUE4DETAIL:return t.merge({formValue4Detail:r.formValue4Detail});case u.CLEAR_FORM:return t.merge({formValue:[],formLayout:{},formValue4Detail:{},logList:[],logParams:{},markInfo:{},logCount:0,wfStatus:{}});case u.SET_LOG_PARAMS:return t.merge({logParams:t.get("logParams").merge(r.logParams)});case u.SET_MARK_INFO:return t.merge({logList:r.logList,logParams:t.get("logParams").merge(r.logParams),logCount:r.logCount});case u.SET_MARK_INPUT_INFO:return t.merge({markInfo:r.markInfo});case u.SET_RIGHT_MENU_INFO:return t.merge({rightMenu:r.rightMenu});case u.SET_WORKFLOW_STATUS:return function(){var e=f["default"].fromJS(r.wfStatus),n=e.get("cardid");return n&&e.hasIn([n,"datas"])&&t.hasIn(["wfStatus",n,"datas"])&&!function(){var r=t.getIn(["wfStatus",n,"datas"]),o=e.getIn([n,"datas"]);o.map(function(e,t){r.hasIn([t,"list"])&&(r=r.updateIn([t,"list"],function(t){return t.concat(e.get("list"))}),o=o["delete"](t))}),e=e.setIn([n,"datas"],r.mergeDeep(o)),t=t.deleteIn(["wfStatus",n])}(),e.has("hideRowKeys")&&(t=t.deleteIn(["wfStatus","hideRowKeys"])),t.mergeDeep({wfStatus:e,loading:!1})}();case u.SET_REQ_TABKEY:return t.merge({reqTabKey:r.reqTabKey});case u.SET_LOGLIST_TABKEY:return t.merge({logListTabKey:r.logListTabKey,reqRequestId:r.reqRequestId,logCount:0,logList:[]});case u.REQ_IS_SUBMIT:return t.merge({reqIsSubmit:r.bool});case u.REQ_IS_RELOAD:return t.merge({reqIsReload:r.bool});case u.CONTROLL_SIGN_INPUT:return t.merge({isShowSignInput:r.bool});case u.SET_LAYOUT_SCRIPTS:return t.merge({scriptcontent:r.scriptcontent});case u.SET_CUSTOMPAGE_HTML:return t.merge({custompagehtml:r.custompagehtml});case u.IS_SHOW_USER_HEAD_IMG:return t.merge({isShowUserheadimg:r.bool});case u.SET_REQ_SUBMIT_ERROR_MSG_HTML:return t.merge({dangerouslyhtml:{reqsubmiterrormsghtml:r.msghtml}});case u.SET_SHOW_FORWARD:return t.merge({rightMenuStatus:{showForward:r.bool,forwarduserid:r.forwarduserid}});case u.SET_OPERATE_INFO:return t.mergeDeep({params:{hiddenarea:r.updateinfo}});case u.UPDATE_SHOW_USER_LOGID:return t.merge({showuserlogids:r.showuserlogids});case u.SET_REL_REQ_LOG_PARAMS:return t.merge({relLogParams:t.get("relLogParams").merge(r.relLogParams)});case u.SET_SCROLL_MARK_INFO:return t.merge({logList:r.logList});case u.IS_LOADING_LOG:return t.merge({isLoadingLog:r.bool});case u.CLEAR_ALL:return p;case u.CLEAR_LOG_DATA:return t.merge({logCount:0,logList:[]});default:return t}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(128),s=o(i);t["default"]=a;var l=r(121),u=n(l),c=r(135),d=(o(c),r(129)),f=o(d),p=f["default"].fromJS({reqLoadDuration:0,jsLoadDuration:0,apiDuration:0,dispatchDuration:0,loading:!1,params:{},formLayout:{},formValue:[],formValue4Detail:{},markInfo:{},logList:[],logListTabKey:"1",logParams:{},logCount:0,cellInfo:{},tableInfo:{},linkageCfg:{},wfStatus:{},reqTabKey:"1",resourcesKey:"",resourcesTabKey:"0",rightMenu:{},reqIsSubmit:!1,signFields:{},logSearchParams:{},showSearchDrop:!1,showBackToE8:!1,relLogParams:{},shareList:[],isLoadingLog:!1,rightMenuStatus:{showForward:!1}})},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?m:arguments[0],t=arguments[1];switch(t.type){case u.SET_NOW_ROUTER_PATH:return e.merge({nowRouterWfpath:t.path});case u.LISTDOING_CLEAR_PAGE_STATUS:return e.merge({isClearNowPageStatus:t.isToReq});case u.LISTDOING_UNMOUNT_CLEAR:return e.merge({searchParamsAd:{},showSearchAd:!1}).merge(t.isToReq?{}:{selectedTreeKeys:[],searchParams:h.searchParams,orderFields:{}});case u.LISTDOING_INIT_DATAKEY:return e.merge({dataKey:t.dataKey,searchParams:t.searchParams,sharearg:t.sharearg,isInit:!0});case u.LISTDOING_INIT_BASE:return e.merge({leftTree:t.leftTree,topTab:t.topTab,leftTreeCountType:t.leftTreeCountType,title:t.title,conditioninfo:t.conditioninfo});case u.LISTDOING_INIT_COUNT:return e.merge({leftTreeCount:t.leftTreeCount,topTabCount:t.topTabCount});case u.LISTDOING_INIT_TOPTABCOUNT:return e.merge({topTabCount:t.topTabCount});case u.LISTDOING_SET_SELECTED_TREEKEYS:return e.merge({selectedTreeKeys:t.selectedTreeKeys});case u.LISTDOING_SAVE_ORDER_FIELDS:return e.merge({orderFields:t.value,searchParamsAd:function(){var e={};if(t.value)for(var r in t.value)e[t.value[r].name]=t.value[r].value,"createrid"==r&&(e.creatertype="0");return e}()});case u.LISTDOING_CLEAR_LEFTTREE:return e.merge({leftTree:[],leftTreeCount:{},leftTreeCountType:[],selectedTreeKeys:[],showSearchAd:!1});case u.LISTDOING_SET_SHOW_SEARCHAD:return e.merge({showSearchAd:t.value});case u.LISTDOING_SET_SHOW_BATCHSUBMIT:return e.merge({showBatchSubmit:t.value});case u.LISTDOING_OPER_PHRASES:return e.mergeDeep({phrasesObj:t.value});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=r(129),s=o(i),l=r(121),u=n(l),c=r(135),d=(o(c),r(136)),f=(o(d),r(123)),p=f.WeaTools.ls,h={title:"待办事宜",leftTree:p.getJSONObj("listDoingleftTree")||[],leftTreeCount:{},leftTreeCountType:[{name:"flowAll",color:""},{name:"flowNew",color:""},{name:"flowOver",color:""},{name:"flowRes",color:""},{name:"flowSup",color:""}],topTab:[],topTabCount:{},dataKey:"",sharearg:{},paramsBase:{viewScope:"doing",offical:"",officalType:-1,method:"all",complete:0},searchParams:{viewcondition:0},selectedTreeKeys:[],orderFields:{},searchParamsAd:{},showSearchAd:!1,isClearNowPageStatus:!1,nowRouterWfpath:"listDoing",conditioninfo:[],showBatchSubmit:!1,phrasesObj:{}},m=s["default"].fromJS(h)},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?m:arguments[0],t=arguments[1];switch(t.type){case u.LISTDONE_CLEAR_PAGE_STATUS:return e.merge({isClearNowPageStatus:t.isToReq});case u.LISTDONE_UNMOUNT_CLEAR:return e.merge({searchParamsAd:{},selectedRowKeys:[],showSearchAd:!1}).merge(t.isToReq?{}:{selectedTreeKeys:[],searchParams:h.searchParams,orderFields:{},selectedRowKeys:[]});case u.LISTDONE_INIT_DATAKEY:return e.merge({dataKey:t.dataKey,searchParams:t.searchParams,sharearg:t.sharearg,isInit:!0,loading:!0});case u.LISTDONE_INIT_BASE:return e.merge({leftTree:t.leftTree,topTab:t.topTab,leftTreeCountType:t.leftTreeCountType,title:t.title,conditioninfo:t.conditioninfo});case u.LISTDONE_INIT_COUNT:return e.merge({leftTreeCount:t.leftTreeCount,topTabCount:t.topTabCount});case u.LISTDONE_INIT_TOPTABCOUNT:return e.merge({topTabCount:t.topTabCount});case u.LISTDONE_SET_SELECTED_ROWKEYS:return e.merge({selectedRowKeys:t.selectedRowKeys});case u.LISTDONE_SET_SELECTED_TREEKEYS:return e.merge({selectedTreeKeys:t.selectedTreeKeys});case u.LISTDONE_SAVE_ORDER_FIELDS:return e.merge({orderFields:t.value,searchParamsAd:function(){var e={};if(t.value)for(var r in t.value)e[t.value[r].name]=t.value[r].value,"createrid"==r&&(e.creatertype="0");return e}()});case u.LISTDONE_CLEAR_LEFTTREE:return e.merge({leftTree:[],leftTreeCount:{},leftTreeCountType:[],selectedTreeKeys:[],showSearchAd:!1});case u.LISTDONE_SET_SHOW_SEARCHAD:return e.merge({showSearchAd:t.value});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=r(129),s=o(i),l=r(121),u=n(l),c=r(135),d=(o(c),r(136)),f=(o(d),r(123)),p=f.WeaTools.ls,h={title:"已办事宜",loading:!1,leftTree:p.getJSONObj("listDoneleftTree")||[],leftTreeCount:{},leftTreeCountType:[{name:"flowAll",color:""},{name:"flowNew",color:""},{name:"flowOver",color:""},{name:"flowRes",color:""},{name:"flowSup",color:""}],topTab:[],topTabCount:{},dataKey:"",sharearg:{},paramsBase:{viewScope:"done",offical:"",officalType:-1,method:"all",complete:2,date2during:0},searchParams:{viewcondition:0},selectedTreeKeys:[],orderFields:{},searchParamsAd:{},showSearchAd:!1,isClearNowPageStatus:!1,conditioninfo:[]},m=s["default"].fromJS(h)},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?m:arguments[0],t=arguments[1];switch(t.type){case u.LISTMINE_CLEAR_PAGE_STATUS:return e.merge({isClearNowPageStatus:t.isToReq});case u.LISTMINE_UNMOUNT_CLEAR:return e.merge({searchParamsAd:{},selectedRowKeys:[],showSearchAd:!1}).merge(t.isToReq?{}:{selectedTreeKeys:[],searchParams:h.searchParams,orderFields:{},selectedRowKeys:[]});case u.LISTMINE_INIT_DATAKEY:return e.merge({dataKey:t.dataKey,searchParams:t.searchParams,sharearg:t.sharearg,isInit:!0,loading:!0});case u.LISTMINE_INIT_BASE:return e.merge({leftTree:t.leftTree,topTab:t.topTab,leftTreeCountType:t.leftTreeCountType,title:t.title,conditioninfo:t.conditioninfo});case u.LISTMINE_INIT_COUNT:return e.merge({leftTreeCount:t.leftTreeCount,topTabCount:t.topTabCount});case u.LISTMINE_INIT_TOPTABCOUNT:return e.merge({topTabCount:t.topTabCount});case u.LISTMINE_SET_SELECTED_ROWKEYS:return e.merge({selectedRowKeys:t.selectedRowKeys});case u.LISTMINE_SET_SELECTED_TREEKEYS:return e.merge({selectedTreeKeys:t.selectedTreeKeys});case u.LISTMINE_SAVE_ORDER_FIELDS:return e.merge({orderFields:t.value,searchParamsAd:function(){var e={};if(t.value)for(var r in t.value)e[t.value[r].name]=t.value[r].value,"createrid"==r&&(e.creatertype="0");return e}()});case u.LISTMINE_CLEAR_LEFTTREE:return e.merge({leftTree:[],leftTreeCount:{},leftTreeCountType:[],selectedTreeKeys:[],showSearchAd:!1});case u.LISTMINE_SET_SHOW_SEARCHAD:return e.merge({showSearchAd:t.value});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=r(129),s=o(i),l=r(121),u=n(l),c=r(135),d=(o(c),r(136)),f=(o(d),r(123)),p=f.WeaTools.ls,h={title:"我的请求",loading:!1,leftTree:p.getJSONObj("listMineleftTree")||[],leftTreeCount:{},leftTreeCountType:[{name:"flowAll",color:""},{name:"flowNew",color:""},{name:"flowOver",color:""},{name:"flowRes",color:""},{name:"flowSup",color:""}],topTab:[],topTabCount:{},dataKey:"",sharearg:{},paramsBase:{viewScope:"mine",offical:"",officalType:-1,method:"all",complete:2,date2during:0},searchParams:{viewcondition:0},selectedTreeKeys:[],orderFields:{},searchParamsAd:{},showSearchAd:!1,isClearNowPageStatus:!1,conditioninfo:[]},m=s["default"].fromJS(h)},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(){var e=arguments.length<=0||void 0===arguments[0]?h:arguments[0],t=arguments[1];switch(t.type){case s.SET_ADD_LOADING:return e.merge({loading:t.data});case s.SET_WFTYPES:return e.merge({wftypes:t.data,loading:!1});case s.SET_COMMONUSE:return e.merge({commonuse:t.commonuse,user:t.user});case s.SET_SEARCH_VALUE:return e.merge({value:t.data});case s.SET_TABKEY:return e.merge({tabkey:t.data});case s.SET_MULITCOL:return e.merge({mulitcol:t.data});case s.SET_ISABC:return e.merge({isAbc:t.data});case s.SET_TYPES_SHOW:return e.merge(function(){var t=e.get("wftypes"),r=e.get("value"),n=e.get("isAbc"),o=e.get("tabkey"),a=e.get("abcSelected"),i=[],s=[];if(t.map(function(e){var t=(0,u["default"])({},e.toJS());""!==r&&(t.wfbeans=t.wfbeans.filter(function(e){return e.name.indexOf(r)>=0||e.id.indexOf(r)>=0||e.spell.indexOf(r.toUpperCase())>=0})),"2"==o&&(t.wfbeans=t.wfbeans.filter(function(e){return"1"==e.wfColl})),i.push(t)}),n){for(var l=[],c=["#55D2D4","#B37BFA","#FFC62E","#8DCE36","#37B2FF","#FF9537","#FF5E56"],d=function(e){var t=[];l.push({letter:26==e?"···":String.fromCharCode(65+e),wfbeans:function(){return i.map(function(r){r.wfbeans.map(function(r){r.letter.charCodeAt(0)-65==e&&t.push(r),26==e&&(r.letter.charCodeAt(0)>=91||r.letter.charCodeAt(0)<65)&&t.push(r)})}),t}(),color:c[e%7],disabled:t.length<=0,selected:a==(26==e?"···":String.fromCharCode(65+e))})},f=0;f<27;f++)d(f);s=l,i=l}return i=i.filter(function(e){return e.wfbeans.length>0}),{typesShow:i,abcBtns:s}}());case s.SET_TYPES_COLS:return e.merge(function(){var t=e.get("typesShow"),r=document.documentElement.clientWidth,n=r>1400?[[],[],[],[]]:r>1100?[[],[],[]]:r>600?[[],[]]:[[]],o=r>1400?[0,0,0,0]:r>1100?[0,0,0]:r>600?[0,0]:[0];return!!t&&0!==t.size&&t.map(function(e){var t=e.get("wfbeans").size;if(t>=0)for(var r=Math.min.apply(Math,o),a=0;a<o.length;a++)if(o[a]==r){n[a].push(e),o[a]+=t;break}}),{typesCols:n}}());case s.SET_USED_BEANS:return e.merge(function(){var t=e.get("typesShow"),r=[];return!!t&&0!==t.size&&t.map(function(e){e.get("wfbeans").map(function(e){!!e.get("usedtodo")&&"1"==e.get("usedtodo")&&r.length<10&&r.push(e)})}),r.sort(function(e,t){return e.get("usedtodoorder")-t.get("usedtodoorder")}),{usedBeans:r}}());case s.SET_IMPORT_DATA:return e.merge({importData:t.data});case s.SET_IMPORT_SEARCH_VALUE:return e.merge({importValue:t.data});case s.SET_IMPORT_DATA_SHOW:return e.merge(function(){var t=e.get("importData"),r=e.get("importValue"),n=t;return r&&(n=n.filter(function(e){return e.get("value").indexOf(r)>=0})),{importDataShow:n}}());case s.SET_ABC_SELECTED:return e.merge({abcSelected:t.data});case s.SET_SHOW_BEAGENTERS:return e.merge({curOperWfid:t.wfid,showBeagenters:t.status});case s.SET_SHOW_IMPORTWF:return e.merge({curOperWfid:t.wfid,showImportWf:t.status});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=r(121),s=o(i),l=r(135),u=n(l),c=r(123),d=r(129),f=n(d),p=c.WeaTools.ls,h=f["default"].fromJS({wftypes:[],typesShow:[],typesCols:[],usedBeans:[],abcBtns:[],value:"",tabkey:"1",mulitcol:"false"!=p.getStr("wf-add-mulitcol"),isAbc:"true"==p.getStr("wf-add-isAbc"),abcSelected:"",loading:!1,importData:[],importDataShow:[],importValue:"",curOperWfid:0,showBeagenters:!1,showImportWf:!1,commonuse:"",user:{}})},function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?p:arguments[0],t=arguments[1];switch(t.type){case u.QUERY_FLOW_SET_SELECTED_TREEKEYS:return e.merge({selectedTreeKeys:t.value});case u.QUERY_FLOW_SET_SEARCH_PARAMS:return e.merge({searchParams:t.value});case u.QUERY_FLOW_INIT_TREE:return e.merge({leftTree:t.value});case u.QUERY_FLOW_INIT_BASE:return e.merge({condition:t.value});case u.QUERY_FLOW_SAVE_FIELDS:return e.merge({fields:t.value,searchParamsAd:function(){var e={};if(t.value)for(var r in t.value)r.indexOf("_")<0&&(e[t.value[r].name]=t.value[r].value,"createrid"==r&&(e.creatertype=0));return e}()});case u.QUERY_FLOW_SEARCH_RESULT:return e.merge({dataKey:t.value});case u.QUERY_FLOW_UPDATE_DISPLAY_TABLE:return e.merge({showTable:t.value});case u.QUERY_FLOW_UPDATE_DISPLAY_TABLE_TEST:return e.merge({showTabletest:t.value});case u.QUERY_FLOW_SET_SHOW_SEARCHAD:return e.merge({showSearchAd:t.value});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var i=r(129),s=o(i),l=r(121),u=n(l),c=r(123),d=c.WeaTools.ls,f={title:"查询流程",condition:d.getJSONObj("queryFlowFieldsList")||[],btninfo:[],fields:{},searchParamsAd:{},dataKey:"",showTable:!1,showTabletest:!1,showSearchAd:!1,leftTree:d.getJSONObj("queryFlowleftTree")||[],searchParams:{},selectedTreeKeys:[]},p=s["default"].fromJS(f)},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(129),a=(n(o),function(e,t,r){var n=window.store_e9_workflow.getState().workflowlistDoing.get("nowRouterWfpath");try{document.getElementById("wflist_"+e+"span").innerHTML=""}catch(o){}if("queryFlow"!=n){var a=window.store_e9_workflow.getState()["workflow"+n],i=a&&a.getIn(["sharearg","flag"]),s=a&&a.getIn(["sharearg","viewType"]),l=a&&a.getIn(["sharearg","overtimetype"]);jQuery.ajax({type:"GET",url:"/workflow/search/WFSearchResultReadIt.jsp?f_weaver_belongto_userid=&f_weaver_belongto_usertype=0&requestid="+e+",&flag="+i,success:function(){"newWf"==i?parent.window.location.href="/system/sysRemindWfLink.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&flag=newWf":"rejectWf"==i?parent.window.location.href="/system/sysRemindWfLink.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&flag=rejectWf":"overtime"==i?parent.window.location.href="/workflow/search/WFTabForOverTime.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&isovertime=1&viewType="+s+"&isFromMessage=1&flag=overtime&overtimetype="+l:"endWf"==i?parent.window.location.href="/system/sysRemindWfLink.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&flag=endWf":window._table.reLoad()}})}});window.doReadIt=a;var i=function(e,t,r){r=null==r?"":r;var n="/workflow/request/Remark.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&requestid="+e+"&resourceids="+r,o=new window.top.Dialog;o.Model=!1,o.Width=1060,o.Height=500,o.URL=n,o.Title=SystemEnvLabel.getHtmlLabelName(24964),o.maxiumnable=!0,o.show()};window.doReview=i;var s=function(e,t){var r="/workflow/request/PrintRequest.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&requestid="+e+"&isprint=1&fromFlowDoc=1",n=screen.availWidth-10,o=screen.availHeight-50,a="top=0,";a+="left=0,",a+="width="+n+",",a+="height="+o+",",a+="directories=no,",a+="status=yes,toolbar=no,location=no,",a+="menubar=no,",a+="scrollbars=yes,",a+="resizable=yes",window.open(r,"",a)};window.doPrint=s;var l=function(e,t){var r=new window.top.Dialog;r.currentWindow=window;var n="/workflow/request/RequestModifyLogView.jsp?requestid="+e+"&nodeid="+t+"&isAll=0&ismonitor=0&urger=0";r.Title=SystemEnvLabel.getHtmlLabelName(21625),r.Width=550,r.Height=550,r.Drag=!0,r.maxiumnable=!0,r.URL=n,r.show()};window.seeFormLog=l;var u=function(){var e=window.store_e9_workflow.getState().workflowlistDoing.get("nowRouterWfpath"),t=window.store_e9_workflow.getState()["workflow"+e],r=t.get("selectedRowKeys"),n=t.getIn(["sharearg","flag"]),o=t.getIn(["sharearg","userID"]),a=t.getIn(["sharearg","usertype"]),i=t.getIn(["sharearg","logintype"]),s=t.getIn(["sharearg","viewType"]),l=t.getIn(["sharearg","overtimetype"]);""!=r?$.ajax({type:"GET",url:"/workflow/search/WFSearchResultReadIt.jsp?requestid="+r+"&userid="+o+"&usertype="+a+"&logintype="+i+"&flag="+n,success:function(){"newWf"==n?parent.window.location.href="/system/sysRemindWfLink.jsp?flag=newWf":"rejectWf"==n?parent.window.location.href="/system/sysRemindWfLink.jsp?flag=rejectWf":"overtime"==n?parent.window.location.href="/workflow/search/WFTabForOverTime.jsp?isovertime=1&viewType="+s+"&isFromMessage=1&flag=overtime&overtimetype="+l:"endWf"==n?parent.window.location.href="/system/sysRemindWfLink.jsp?flag=endWf":window._table.reLoad()}}):top.Dialog.alert(SystemEnvLabel.getHtmlLabelName(20149))};window.doAllReadIt=u;var c=function(){};window.reLoadFullPage=c;var d=function(e,t){try{document.getElementById("wflist_"+t+"span").innerHTML=""}catch(r){}var n=e,o=screen.availWidth-10,a=screen.availHeight-50,i="top=0,";i+="left=0,",i+="width="+o+",",i+="height="+a+",",i+="directories=no,",i+="status=yes,toolbar=no,location=no,",i+="menubar=no,",i+="scrollbars=yes,",i+="resizable=yes",window.open(n,"",i)};window.openFullWindowHaveBarForWFList=d;var f=function(e,t){jQuery.ajax({url:"/workflow/search/WorkflowUnoperatorPersons.jsp?requestid="+e+"&returntdid="+t,type:"post",success:function(e){try{jQuery("#"+t).html(jQuery.trim(e)),jQuery("#"+t).parent().attr("title",jQuery.trim(e).replace(/[\r\n]/gm,""))}catch(r){}}})};window.showallreceived=f,window._table={reLoad:function(){var e=window.store_e9_workflow.getState().workflowlistDoing.get("nowRouterWfpath"),t=window.store_e9_workflow.getState()["workflow"+e],r=t.get("dataKey")?t.get("dataKey").split("_")[0]:"init",n=window.store_e9_workflow.getState().comsWeaTable.getIn([r,"current"]);"queryFlow"==e?window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowQueryAction.doSearch({current:n})):(window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowListAction.initDatas()),window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowListAction.doSearch({current:n})))}}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(129),a=(n(o),function(e){var t=e,r=screen.availWidth-10,n=screen.availHeight-50,o="top=0,";o+="left=0,",o+="width="+r+",",o+="height="+n+",",o+="directories=no,",o+="status=yes,toolbar=no,location=no,",o+="menubar=no,",o+="scrollbars=yes,",o+="resizable=yes",window.open(t,"",o)});window.openFullWindowHaveBar=a;var i=function(e,t,r,n,o){var a="top="+n+",";a+="left="+o+",",a+="width="+t+",",a+="height="+r+",",a+="directories=no,",a+="status=yes,toolbar=no,location=no,",a+="menubar=no,",a+="scrollbars=yes,",a+="resizable=yes",window.open(e,"",a)};window.openUnFullWindow=i;var s=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9("requestOperation","submit","1"))};window.doSubmitBack=s;var l=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9("requestOperation","submit"))};window.doSubmit_Pre=l;var u=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9("requestOperation","submit","0"))};window.doSubmitNoBack=u;var c=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9("requestOperation","save"))};window.doSave_nNew=c;var d=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9("requestOperation","supervise"))};window.doSupervise=d;var f=function(e){var t=window.store_e9_workflow.getState().workflowReq.getIn(["params","hiddenarea"]),r=t.get("requestid"),n=t.get("f_weaver_belongto_userid");doReview(r,n)};window.doReviewE9=f;var p=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9("remarkOperation","save","1"))};window.doRemark_nBack=p;var h=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9("remarkOperation","save","0"))};window.doRemark_nNoBack=h;var m=function(){var e=window.store_e9_workflow.getState().workflowReq.getIn(["params","hiddenarea"]),t=e.get("requestid"),r=e.get("f_weaver_belongto_userid");doPrint(t,r)};window.openSignPrint=m;var _=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doStop())};window.doStop=_;var g=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doCancel())};window.doCancel=g;var w=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doRestart())};window.doRestart=w;var v=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doRetract())};window.doRetract=v;var y=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doDrawBack())};window.doDrawBack=y;var b=function(){var e=null;e=window.top.Dialog?new window.top.Dialog:new Dialog;var t=window.store_e9_workflow.getState().workflowReq.getIn(["params","hiddenarea"]),r=t.get("requestid"),n=t.get("f_weaver_belongto_userid"),o=t.get("f_weaver_belongto_usertype");e.currentWindow=window,e.Width=800,e.Height=550,e.Modal=!0,e.maxiumnable=!0,e.Title=SystemEnvLabel.getHtmlLabelName(21533),e.URL="/workflow/request/WorkflowLogNew.jsp?f_weaver_belongto_userid="+n+"&f_weaver_belongto_usertype="+o+"&requestid="+r,e.show()};window.doPrintViewLog=b;var S=function(){var e=window.store_e9_workflow.getState().workflowReq.getIn(["params","requestid"]);k("/workrelate/task/data/TaskList.jsp?requestids="+e)};window.openTaskList=S;var E=function(){var e=window.store_e9_workflow.getState().workflowReq.getIn(["params","requestid"]);k("/workrelate/task/data/Add.jsp?requestids="+e)};window.doCreateTask=E;var k=function(e,t,r){null!=t&&"undefined"!=typeof t||(t=900),null!=r&&"undefined"!=typeof r||(r=520);var n=e,o=screen.height,a=screen.width,i=(o-r)/2,s=(a-t)/2,l="top="+i+",";l+="left="+s+",",l+="width="+t+",",l+="height="+r+",",l+="directories=no,",l+="status=yes,",l+="menubar=no,",l+="scrollbars=yes,",l+="resizable=yes",window.open(n,"",l)},R=function(e){var t=!0;if(null==e)t=!1;else{for(;e.indexOf(" ")>=0;)e=e.replace(" ","");for(;e.indexOf("\\n")>=0;)e=e.replace("\r\n","")}return""==e&&(t=!1),t};window.chekcremark=R;var T=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doReject())};window.doReject_New=T;var I=function(){var e=window.store_e9_workflow.getState().workflowReq.get("params").toJS(),t=e.f_weaver_belongto_userid,r=e.requestid,n=e.nodeid,o=e.wfmonitor,a=new window.top.Dialog;a.currentWindow=window;var i=o?"1":"0",s="/workflow/request/RequestModifyLogView.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&requestid="+r+"&nodeid="+n+"&isAll=0&ismonitor="+i+"&urger=0";a.Title="表单日志",a.Width=1e3,a.Height=550,a.Drag=!0,a.maxiumnable=!0,a.URL=s,a.show()};window.doViewModifyLog=I;var O=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doDeleteE9())};window.doDelete=O;var x=function(e){var t=window.store_e9_workflow.getState().workflowReq.getIn(["params","hiddenarea"]).toJS(),r=(t.lastnodeid,t.ifchangstatus),n=window.store_e9_workflow.getState().workflowReq.get("rightMenu").toJS(),o=n.hasback,a=n.hasnoback;""!=r&&("1"==o||""==o&&""==a)?"Affirmance"==e||s():"Affirmance"==e||u()};window.doSubmitDirect=x;
var C=function(e,t,r){var n=window.store_e9_workflow.getState().workflowReq.get("params"),o=window.store_e9_workflow.getState().workflowReq.get("formValue").getIn(["field-1","value"]),i=n.get("requestid"),s=n.get("f_weaver_belongto_userid"),l="",u="/workflow/request/Remark.jsp?f_weaver_belongto_userid="+s+"&f_weaver_belongto_usertype=0&requestid="+i+"&workflowRequestLogId="+l+"&forwardflag="+t+"&requestname="+o+"&resourceid="+e+"&needwfback="+r,c="流程转发";2==t?c="意见征询":3==t&&(c="流程转办");try{z(c,u)}catch(d){var f="/workflow/request/Remark.jsp?f_weaver_belongto_userid="+s+"&f_weaver_belongto_usertype=0&requestid="+i+"&forwardflag="+t+param+"&workflowRequestLogId="+l;a(f)}};window.openDialog=z;var A=function(e){C(e,3)};window.doReviewback3=A;var j=function(e){C(e,3)};window.doReview3=j;var D=function(e){C(e,2)};window.doReview2=D;var P=function(e){C(e,3,0)};window.doReviewnoback3=P;var q=function(){var e=window.store_e9_workflow.getState().workflowReq.get("params").toJS(),t=e.f_weaver_belongto_userid,r=e.workflowid,n=e.nodeid,o=e.requestid,a=e.formid,i=e.billid,s="/workflow/request/OverTimeSetByNodeUser.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&workflowid="+r+"&nodeid="+n+"&requestid="+o+"&formid="+a+"&isbill=0&billid="+i,l=new window.top.Dialog;l.currentWindow=window,l.URL=s,l.Title="超时设置 ",l.Height=screen.availHeight/2,l.Width=screen.availWidth/2,l.Drag=!0,l.show()};window.onNewOverTime=q;var L=function(e,t,r){var n=window.store_e9_workflow.getState().workflowReq.get("params"),o=n.get("f_weaver_belongto_userid"),i="/workflow/request/AddRequest.jsp?f_weaver_belongto_userid="+o+"&f_weaver_belongto_usertype=0&workflowid="+e+"&isagent="+r+"&reqid="+t;a(i)};window.onNewRequest=L;var N=function(e,t,r,n){var o=window.store_e9_workflow.getState().workflowReq.get("params"),a=o.get("f_weaver_belongto_userid"),s="/sms/SendRequestSms.jsp?f_weaver_belongto_userid="+a+"&f_weaver_belongto_usertype=0&workflowid="+e+"&nodeid="+t+"&reqid="+r+"&menuid="+n,l=screen.availWidth/2,u=screen.availHeight/2,c=u/2,d=l/2;i(s,l,u,c,d)};window.onNewSms=N;var M=function(e,t,r,n){var o=window.store_e9_workflow.getState().workflowReq.get("params"),a=o.get("f_weaver_belongto_userid"),i="/wechat/sendWechat.jsp?f_weaver_belongto_userid="+a+"&f_weaver_belongto_usertype=0&workflowid="+e+"&nodeid="+t+"&reqid="+r+"&actionid=dialog&menuid="+n,s=new window.top.Dialog;s.currentWindow=window,s.Title="新建微信 ",s.Width=1e3,s.Height=350,s.Drag=!0,s.maxiumnable=!0,s.URL=i,s.show()};window.onNewChats=M;var W=function(e){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.aboutVersion(e))};window.aboutVersion=W;var F=function(){var e=window.store_e9_workflow.getState().workflowReq.get("params"),t=e.get("f_weaver_belongto_userid"),r=e.get("requestid"),n=window.store_e9_workflow.getState().workflowReq.getIn(["rightMenu","iscnodefree"]),o="/workflow/workflow/BrowserMain.jsp?&url=/workflow/request/FreeWorkflowSet.jsp?f_weaver_belongto_userid="+t+"&f_weaver_belongto_usertype=0&requestid="+r+"&iscnodefree="+n,a=new window.top.Dialog;a.currentWindow=window,a.Width=550,a.Height=550,a.Modal=!0,a.Title="流转设定",a.URL=o,a.isIframe=!1,a.show()};window.doFreeWorkflow=F;var U=function(e,t){};window.triSubwf2=U;var z=function(e,t){var r=new window.top.Dialog;r.currentWindow=window,r.Model=!1,r.Width=1060,r.Height=500,r.URL=t,r.Title=e,r.maxiumnable=!0,r.show(),window.dialog=r}},function(e,t){var r=function(e,t){n(e,t)};window.showDetail=r;var n=function(e,t){jQuery("#__brow__detaildiv").remove();var r=jQuery(e),n=r.offset(),o=jQuery("div.wea-new-top-req-content"),a=n.left-122.5+jQuery(e).width()/2,i=n.top+o.scrollTop()-o.offset().top+5;jQuery(e).height()>20&&(a=n.left-122.5+5,i+=18);var s,l=",",u=r.attr("_ids"),c=r.attr("_names"),d=r.attr("_jobtitles"),f=u.split(l),p=c.split(l),h=d.split(l),m="";for(s=0;s<f.length;s++){var _=s%2==1?"ac_even":"ac_odd",g=s>4?" display:none; ":"",w="<span style='display:inline-block;width:80px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;'><a href=javaScript:openhrm("+f[s]+"); onclick='pointerXY(event);' style='overflow: hidden;white-space: nowrap;text-overflow: ellipsis;' title='"+p[s]+"'>"+p[s]+"</a></span>";w+="<span style='float:right;display:inline-block;width:130px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;' title='"+h[s]+"'>"+h[s]+"</span>",m+='<li class="'+_+'" _id="'+f[s]+"\" style='"+g+"'>"+w+"</li>",s>4&&s==f.length-1&&(m+='<li class="'+_+'" title="显示全部" style="text-align:center;" onclick="showalldetail(this, '+t+');">显示全部</li>')}if(m){var v=jQuery("<div id='__brow__detaildiv' class='wea-hrmgroup-wrapper' style=\"position:absolute;width:245px;z-index:999;left:"+a+"px;top:"+i+'px;"></div>'),y=jQuery('<div class="arrowsblock"><img src="/images/ecology8/workflow/multres/arrows_2_wev8.png" width="22px" height="22px"></div>'+"<div class='ac_results' style='margin-top:20px;background:#fff;z-index:9;'><ul>"+m+"</ul></div>");v.append(y),jQuery("div.wea-popover-hrm-relative-parent").append(v)}},o=function(e,t){var r=jQuery(e),n=r.closest("div");n.css({height:n.height()+"px",overflow:"auto"});var o=r.parent().children().not(":visible");o.show(),r.hide()};window.showalldetail=o,jQuery(function(){jQuery("table.excelMainTable").live("mouseup",function(e){jQuery("#__brow__detaildiv").is(":visible")&&!jQuery(e.target).closest("#__brow__detaildiv")[0]&&jQuery("#__brow__detaildiv").hide(),jQuery("#_browcommgroupblock").is(":visible")&&!jQuery(e.target).closest("#_browcommgroupblock")[0]&&jQuery("#_browcommgroupblock").hide(),e.stopPropagation()})})},function(e,t){UE.registerUI("wfatbutton",function(e,t){return r(e,t)},27,"remark,forwardremark");var r=function(e,t){var r=readCookie("languageidweaver"),n=(SystemEnv.getHtmlNoteName(3449,r),{});if("remark"==e.key){var o=jQuery("#remark_div");n.requestid=o.find("#requestid_param").val(),n.workflowid=o.find("#workflowid_param").val(),n.nodeid=o.find("#nodeid_param").val(),n.isbill=o.find("#isbill_param").val(),n.formid=o.find("#formid_param").val()}else{var a=jQuery("#forwardremark_hidden_area");n.requestid=a.find("#requestid").val(),n.workflowid=a.find("#workflowid").val(),n.nodeid=a.find("#nodeid").val(),n.isbill=a.find("#isbill").val(),n.formid=a.find("#formid").val()}var i=[];jQuery.ajax({url:"/workflow/request/WorkflowRequestPictureForJson.jsp",type:"POST",data:n,success:function(r){i=r,window.__atdataready=!0,window.__atdata=i,e.registerCommand(t,{execCommand:function(){var t=jQuery("#"+e.key).find(".edui-for-wfatbutton")[0].getBoundingClientRect(),r=t.left,n=t.top,o=",";try{i=i}catch(a){i=[]}var s=jQuery.map(i,function(e,t){if(o.indexOf(","+e.uid+",")==-1)return o+=e.uid+",",e});i=s;var l={isfromuedit:1,itemmaxlength:4,positionx:r,positiony:n,editorid:e.key,autoitems:i,relativeItem:t,entercallback:function(){var t=this.find(".data").html(),r="<a href='/hrm/HrmTab.jsp?_fromURL=HrmResource&id="+this.attr("uid")+"' target='_new' atsome='@"+this.attr("uid")+"' contenteditable='false'  style='cursor:pointer;color:#000000;text-decoration:none !important;margin-right:8px;' target='_blank'>@"+t+"</a>&nbsp;";e.execCommand("inserthtml",r)},muticheckcallback:function(){for(var t,r=this,n="",o=0,a=r.length;o<a;o++){t=jQuery(r[o]).parent();var i=jQuery(r[o]);n=n+"<a href='/hrm/HrmTab.jsp?_fromURL=HrmResource&id="+i.attr("_uid")+"' contenteditable='false' atsome='@"+i.attr("_uid")+"' style='cursor:pointer;text-decoration:none !important;margin-right:8px;' target='_blank'>@"+i.attr("_uname")+"</a>&nbsp;"}e.execCommand("inserthtml",n)}};new WeaverAutoComplete(l).init()}})}});var s=new UE.ui.Button({name:t,title:"@",onclick:function(){e.execCommand(t)}});return e.addListener("selectionchange",function(){var r=e.queryCommandState(t);r==-1?(s.setDisabled(!0),s.setChecked(!1)):(s.setDisabled(!1),s.setChecked(r))}),s}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(129),a=(n(o),"");UE.registerUI("wfphrasebutton",function(e,t){return i(e,t)},32,"remark,forwardremark");var i=function(e,t){var r=readCookie("languageidweaver"),n=(SystemEnv.getHtmlNoteName(3449,r),jQuery("#"+e.key+"_div")),o=function(){jQuery("html").live("mouseup",function(e){n.find("#_signinputphraseblock").is(":visible")&&!jQuery(e.target).closest("#_signinputphraseblock")[0]&&(n.find("#_signinputphraseblock").hide(),n.find("#_addPhrasebtn").show(),n.find("#cg_splitline").show(),n.find("#addphraseblock").hide()),e.stopPropagation()});try{jQuery("html",n.find("#"+e.key).find("iframe")[0].contentWindow.document).live("mouseup",function(e){n.find("#_signinputphraseblock").is(":visible")&&!jQuery(e.target).closest("#_signinputphraseblock")[0]&&(n.find("#_signinputphraseblock").hide(),n.find("#_addPhrasebtn").show(),n.find("#cg_splitline").show(),n.find("#addphraseblock").hide()),e.stopPropagation()})}catch(t){}var o=!1,a="";"remark"==e.key?(o=n.find("#hasAddWfPhraseRight_param").val(),a=n.find("#phraseInfo_param").val()):(o=jQuery("#forwardremark_hidden_area").find("#hasAddWfPhraseRight").val(),a=jQuery("#forwardremark_hidden_area").find("#phraseInfo").val()),a&&(a=JSON.parse(a));var s='<div id="_signinputphraseblock" class="_signinputphraseblockClass" style=\'display:none;z-index:999;\'>\t<div class="phrase_arrowsblock"><img src="/images/ecology8/workflow/phrase/addPhrasejt_wev8.png" width="14px" height="14px"></div>\t<div class="cg_block"  style=\'background:#fff;\'>\t\t<div id="_signinputphrasecontentblock" style=\'height:100px;overflow-y:auto;\'>\t\t\t<ul style=\'height:"100%";\'>\t\t\t\t<li style="padding:2px;"></li>\t\t\t</ul>\t    </div>\t\t<div class="cg_splitline" id="cg_splitline" style=\'display:none;\'></div>';o&&(s+='\t\t<ul>\t\t\t<li >\t\t\t\t<div class="cg_optblock" style="text-align:center;margin:2px 0 4px 0px;">\t\t\t\t\t<span class="phrase_btn" style="color:#1ca96f;" id="_addPhrasebtn">\t\t\t\t\t\t<img src="/images/ecology8/workflow/phrase/addPhrase_wev8.png" height="22px" width="22px"  style="vertical-align:middle;"/>\t\t\t\t\t\t<span style="display:none;">\t'+SystemEnv.getHtmlNoteName(3450,r)+'\t\t\t\t\t\t</span>\t\t\t\t\t</span>\t\t\t\t</div>\t\t\t</li>\t\t</ul>\t\t<div id="addphraseblock" class="addphraseblockClass">\t\t\t<input type="text" name="phraseinput" id="phraseinput" class="phraseinputClass" style=""><span style="margin-left:12px;color:#3c82b0;cursor:pointer;" id="phraseqdbtn">'+SystemEnv.getHtmlNoteName(3451,r)+"</span>\t\t</div>"),s+="\t</div></div>";var l=jQuery(s);n.append(l);for(var u=n.find("#_signinputphrasecontentblock ul"),c=0;c<a.length;c++){var d="";u.children("li").length>3,u.append("<li "+d+" class=\"cg_item\"><span class='cg_detail'>"+a[c].workflowPhrases+"</span><input type='hidden' value='"+a[c].workflowPhrasesContent+"'/></li>")}n.find("#_signinputphrasecontentblock ul li").length>1?jQuery(n).find("#cg_splitline").show():o?n.find("#_signinputphrasecontentblock ul").append("<li style=\"text-align:center;\" id='phrasedesc'><span class='cg_detail'>"+SystemEnv.getHtmlNoteName(3450,r)+"</span></li>"):n.find("#_signinputphrasecontentblock ul").append("<li style=\"text-align:center;\" id='phrasedesc'><span class='cg_detail'>"+SystemEnv.getHtmlNoteName(4096,r)+"</span></li>"),n.find("#_addPhrasebtn").hover(function(){jQuery(this).children("img").hide(),jQuery(this).children("span").show()},function(){jQuery(this).children("img").show(),jQuery(this).children("span").hide()}),n.find("#_addPhrasebtn").bind("click",function(){jQuery(this).hide(),n.find("#cg_splitline").hide(),n.find("#addphraseblock").show(),n.find("#phraseinput")[0].focus()}),n.find("#_signinputphrasecontentblock ul li").click(function(){try{i(jQuery(this).find("input").val())}catch(e){}n.find("#_signinputphraseblock").hide(),n.find("#_addPhrasebtn").show(),n.find("#cg_splitline").show(),n.find("#addphraseblock").hide()}),n.find("#phraseqdbtn").bind("click",function(){var e=n.find("#phraseinput").val();""!=e&&(e=jQuery("<div>"+e+"</div>").text(),n.find("#_signinputphrasecontentblock ul").append("<li class=\"loaddingli\"><span class='cg_detail' style='color:#7f7f7f;'>"+SystemEnv.getHtmlNoteName(3453,r)+"</span></li>"),n.find("#_signinputphrasecontentblock").scrollTop(jQuery("#_signinputphrasecontentblock ul").height()),jQuery.ajax({type:"get",cache:!1,url:"/workflow/sysPhrase/PhraseOperate.jsp?operation=add&phraseShort="+encodeURI(e)+"&phraseDesc="+encodeURI(e)+"&iswf=1",contentType:"application/x-www-form-urlencoded;charset=UTF-8",complete:function(){},error:function(e,t,r){},success:function(t,r){n.find("#phraseinput").val(""),n.find("#phrasedesc").remove();var o=n.find("#_signinputphrasecontentblock ul .loaddingli");n.find("#_signinputphrasecontentblock ul li").length>3,o.removeClass("loaddingli"),o.addClass("cg_item"),o.html("<span class='cg_detail'>"+e+"</span><input type='hidden' value='"+e+"'/>")}})),n.find("#_addPhrasebtn").show(),n.find("#cg_splitline").show(),n.find("#addphraseblock").hide()})},i=function(e){if(null!=e&&""!=e)try{var t=UE.getEditor(a).getContent(),r=!0;t||(r=!1),UE.getEditor(a).setContent(e,r)}catch(n){}};e.registerCommand(t,{execCommand:function(){}});var s=new UE.ui.Button({name:t,labelname:SystemEnv.getHtmlNoteName(3452,r),title:SystemEnv.getHtmlNoteName(3452,r),onclick:function(){a=e.key;var t=jQuery("#"+e.key).find(".edui-for-wfphrasebutton")[0],r=t.getBoundingClientRect(),o=r.top+r.height-3;n.find("#_signinputphraseblock").css({"z-index":"99999",top:o+"px",left:r.left+"px",position:"fixed"}),n.find("#_signinputphraseblock").show()}});return e.addListener("selectionchange",function(){var r=e.queryCommandState(t);r==-1?(s.setDisabled(!0),s.setChecked(!1)):(s.setDisabled(!1),s.setChecked(r))}),jQuery("#mainsupports").hide(),setTimeout(function(){o()},1e3),s}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(129);n(o);UE.registerUI("wfwfbutton",function(e,t){return a(e,t)},34,"remark,forwardremark");var a=function(e,t){var r="0";if(r="remark"==e.key?jQuery("#remark_div").find("#isSignWorkflow_edit_param").val():jQuery("#forwardremark_hidden_area").find("#isSignWorkflow_edit").val(),"1"==r){var n=readCookie("languageidweaver");SystemEnv.getHtmlNoteName(3449,n);e.registerCommand(t,{execCommand:function(){onShowSignBrowser4signinput("/workflow/request/MultiRequestBrowser.jsp","/workflow/request/ViewRequest.jsp?isrequest=1&requestid=","signworkflowids","signworkflowspan",152,"signWorkflowCount",e.key)}});var o=new UE.ui.Button({name:t,title:SystemEnv.getHtmlNoteName(3460,n),onclick:function(){e.execCommand(t)}});return e.addListener("selectionchange",function(){var r=e.queryCommandState(t);r==-1?(o.setDisabled(!0),o.setChecked(!1)):(o.setDisabled(!1),o.setChecked(r))}),o}}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(129);n(o);UE.registerUI("wfdocbutton",function(e,t){return a(e,t)},34,"remark,forwardremark");var a=function(e,t){var r="0";if(r="remark"==e.key?jQuery("#remark_div").find("#isSignDoc_edit_param").val():jQuery("#forwardremark_hidden_area").find("#isSignDoc_edit").val(),"1"==r){var n=readCookie("languageidweaver");SystemEnv.getHtmlNoteName(3449,n);e.registerCommand(t,{execCommand:function(){onShowSignBrowser4signinput("/docs/docs/MutiDocBrowser.jsp","/docs/docs/DocDsp.jsp?isrequest=1&id=","signdocids","signdocspan",37,"signDocCount",e.key)}});var o=new UE.ui.Button({name:t,title:SystemEnv.getHtmlNoteName(3455,n),onclick:function(){e.execCommand(t)}});return e.addListener("selectionchange",function(){var r=e.queryCommandState(t);r==-1?(o.setDisabled(!0),o.setChecked(!1)):(o.setDisabled(!1),o.setChecked(r))}),o}}},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=jQuery("#"+e+"_div"),r={method:"uploadFile"},n="0";"remark"==e?(r.annexmainId=t.find("#annexmainId_param").val(),r.annexsubId=t.find("#annexsubId_param").val(),r.annexsecId=t.find("#annexsecId_param").val(),r.fileuserid=t.find("#fileuserid_param").val(),r.fileloginyype=t.find("#fileloginyype_param").val(),n=t.find("#annexmaxUploadImageSize_param").val()):(r.annexmainId=jQuery("#forwardremark_hidden_area").find("#annexmainId").val(),r.annexsubId=jQuery("#forwardremark_hidden_area").find("#annexsubId").val(),r.annexsecId=jQuery("#forwardremark_hidden_area").find("#annexsecId").val(),r.fileuserid=jQuery("#forwardremark_hidden_area").find("#fileuserid").val(),r.fileloginyype=jQuery("#forwardremark_hidden_area").find("#fileloginyype").val(),n=jQuery("#forwardremark_hidden_area").find("#annexmaxUploadImageSize").val());var o,a={flash_url:"/js/swfupload/swfupload.swf",upload_url:"/docs/docupload/MultiDocUploadByWorkflow.jsp?userid="+window.__userid+"&usertype="+window.__usertype,post_params:r,use_query_string:!0,file_size_limit:n+" MB",file_types:"*.*",file_types_description:"All Files",file_upload_limit:50,file_queue_limit:0,custom_settings:{progressTarget:"fsUploadProgressfileupload_"+e,cancelButtonId:"fileCancel"},debug:!1,button_image_url:"",button_placeholder_id:"_continueaddfile",button_width:22,button_height:22,button_text_style:"",button_text_top_padding:0,button_text_left_padding:0,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,button_cursor:SWFUpload.CURSOR.HAND,file_queued_handler:fileQueued,file_queue_error_handler:function(e,t,r){_="error";try{if(t===SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED)return void top.Dialog.alert("You have attempted to queue too many files.\n"+(0===r?"You have reached the upload limit.":"You may select "+(r>1?"up to "+r+" files.":"one file.")));switch(t){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:top.Dialog.alert(SystemEnv.getHtmlNoteName(4080)+n+"M/"+SystemEnv.getHtmlNoteName(4081)+"，"+SystemEnv.getHtmlNoteName(4076));break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:top.Dialog.alert(SystemEnv.getHtmlNoteName(4080)+n+"M/"+SystemEnv.getHtmlNoteName(4081)+"，"+SystemEnv.getHtmlNoteName(4077));break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:top.Dialog.alert(SystemEnv.getHtmlNoteName(4080)+n+"M/"+SystemEnv.getHtmlNoteName(4081)+"，"+SystemEnv.getHtmlNoteName(4078));break;default:null!==e&&progress.setStatus("Unhandled Error"),top.Dialog.alert(SystemEnv.getHtmlNoteName(4080)+n+"M/"+SystemEnv.getHtmlNoteName(4081)+"，"+SystemEnv.getHtmlNoteName(4079))}}catch(o){}},file_dialog_complete_handler:function(r,n){if(r>0)if(""==_){var o=jQuery("#"+e).find(".edui-for-wfannexbutton");o.css("visibility","visible"),o.css("cursor","pointer"),o.css("z-index","101"),jQuery("#promptinformation").html(""),d("fsUploadProgressfileuploaddiv",e),t.find("#fsUploadProgressfileuploaddiv").show(),t.find("#field-annexupload-count").val(n),t.find("#fsUploadProgressfileuploaddiv").css("z-index","999"),t.find("#_fileuploadphraseblock").css("top","-500px"),t.find("#fsUploadProgressfileuploaddiv").attr("banfold","1"),this.startUpload()}else _=""},upload_start_handler:uploadStart,upload_progress_handler:uploadProgress,upload_error_handler:uploadError,upload_success_handler:function(r,n){var o="",a="",i="";r&&(""==o?(o=jQuery.trim(n),a=jQuery.trim(r.name),i=r.size):(o+=","+jQuery.trim(n),a+=h+jQuery.trim(r.name),i+=h+r.size));var s=jQuery.trim(t.find("#field-annexupload").val()),l=jQuery.trim(t.find("#field-annexupload-name").val());""!=s&&null!=s&&(o=s+","+jQuery.trim(o),a=l+h+jQuery.trim(a)),t.find("#field-annexupload").val(jQuery.trim(o)),t.find("#field-annexupload-name").val(jQuery.trim(a)),"forwardremark"==e&&FORWARD_OBJ.setState({fieldannexupload:o,fieldannexuploadname:a,fieldannexuploadcount:1})},upload_complete_handler:function(){var r=t.find("#field-annexupload-count").val();if(m++,m==r){t.find("#fsUploadProgressfileupload_"+e).html(""),t.find("#fsUploadProgressfileuploaddiv").css("z-index","99"),t.find("#_fileuploadphraseblock").css("z-index","999"),t.find("#fsUploadProgressfileuploaddiv").css("top","-500px");try{var n=jQuery("#"+e).find(".edui-for-wfannexbutton").children("div").children("div").children("div").children(".edui-metro");""!=t.find("#field-annexupload").val()?(n.addClass("wfres_1_slt"),n.removeClass("wfres_1")):(n.addClass("wfres_1"),n.removeClass("wfres_1_slt"))}catch(o){}t.find("#fsUploadProgressfileuploaddiv").attr("banfold","0"),c(e),m=0}},queue_complete_handler:function(){}};try{o=new SWFUpload(a)}catch(i){window.console&&console.log(i),jQuery("#remarkShadowDiv").hide()}}function a(e,t,r){var n=jQuery("#"+r+"_div");n.find("#_fileuploadphraseblock").attr("showfor","2"),top.Dialog.confirm(SystemEnv.getHtmlNoteName(3458,readCookie("languageidweaver"))+t+SystemEnv.getHtmlNoteName(3459,readCookie("languageidweaver")),function(){var t=n.find("#field-annexupload").val();t=t.replace(e,""),t=t.replace(",,",","),0==t.indexOf(",")&&(t=t.substr(1)),t.lastIndexOf(",")==t.length-1&&(t=t.substring(0,t.length-1)),n.find("#field-annexupload").val(t),"forwardremark"==r&&jQuery("#forwardremark_hidden_area").find("#field-annexupload").val(t),n.find("#li_"+e).remove();var o=n.find("#_filecontentblock ul li");if(4==o.length&&(n.find("#_filecontentblock").height(94),n.find("#_filecontentblock").css("overflow","")),3==o.length&&(n.find("#_filecontentblock").height(64),n.find("#_filecontentblock").css("overflow","")),2==o.length&&(n.find("#_filecontentblock").height(34),n.find("#_filecontentblock").css("overflow","")),1==o.length){var a=n.find("#field-add-name").val();n.find("#promptinformation").html(a).css("padding-top","8px").css("cursor","Default"),n.find("#_filecontentblock").css("overflow","")}try{var i=jQuery("#"+r).find(".edui-for-wfannexbutton").children("div").children("div").children("div").children(".edui-metro");""!=n.find("#field-annexupload").val()?(i.addClass("wfres_1_slt"),i.removeClass("wfres_1")):(i.addClass("wfres_1"),i.removeClass("wfres_1_slt"))}catch(s){}},function(){},320,90,!0)}function i(e,t,r){var n=jQuery("#"+r+"_div"),o=n.find("#_fileuploadphraseblock").attr("showfor");if(2!=o){var a=n.find("#field-annexupload-request").val(),i="<a href='javascript:void(0);' onclick=\"parent.openFullWindowHaveBar('/docs/docs/DocDsp.jsp?id="+e+"&isrequest=1&requestid="+a+'&desrequestid=0\')" style="color:#123885;">'+t+"</a>&nbsp;&nbsp;";if(null!=i&&""!=i)try{UE.getEditor(r).setContent(i,!0)}catch(s){}n.find("#_fileuploadphraseblock").attr("showfor","1")}else n.find("#_fileuploadphraseblock").attr("showfor","0")}function s(e,t){for(var r=!1,n=jQuery("#"+t+"_div").find("#_filecontentblock ul li"),o=0;o<n.length;o++)jQuery.trim(jQuery(n[o]).attr("id"))=="li_"+e&&(r=!0);return r}function l(e){jQuery("#li_"+e).find("a").css("background-image","url(/images/ecology8/workflow/annexdel_hover_wev8.png)")}function u(e){jQuery("#li_"+e).find("a").css("background-image","url(/images/ecology8/workflow/annexdel_wev8.png)")}function c(e){var t=jQuery("#"+e+"_div");d("_fileuploadphraseblock",e);var r=jQuery.trim(t.find("#field-annexupload").val()),n=jQuery.trim(t.find("#field-annexupload-name").val()),o=t.find("#_fileuploadphraseblock").find("#_filecontentblock ul");if(""!=r&&null!=r){var a=t.find("#field-cancle").val();if(t.find("#promptinformation").html("").css("padding","2px"),r.indexOf(",")>-1)for(var i=r.split(","),l=n.split(h),u=0;u<i.length;u++){var c=jQuery.trim(i[u]),f=jQuery.trim(l[u]);s(jQuery.trim(c),e)||o.append("<li id='li_"+c+"' onclick=\"onAddUploadFile("+c+",'"+f+"','"+e+"')\" class=\"cg_item\"><span class='cg_detail' style='width:130px;' title='"+f+"' >"+f+'</span><a onmouseover="showBt('+c+')" onmouseout="hiddenBt('+c+')" onclick="deletefile('+c+",'"+f+"','"+e+'\')" style="float:right;width:10px;height:10px;margin-right:5px;margin-top:8px;background-image:url(/images/ecology8/workflow/annexdel_wev8.png);" class="e8_delClass1" title=\''+a+"' ></a></li>")}else s(jQuery.trim(r),e)||o.append("<li id='li_"+r+"' onclick=\"onAddUploadFile("+r+",'"+n+"','"+e+"')\" class=\"cg_item\"><span class='cg_detail' style='width:130px;' title='"+n+"'>"+n+'</span><a onmouseover="showBt('+r+')" onmouseout="hiddenBt('+r+')" onclick="deletefile('+r+",'"+n+"','"+e+'\')" style="float:right;width:10px;height:10px;margin-right:5px;margin-top:8px;background-image:url(/images/ecology8/workflow/annexdel_wev8.png);" class="e8_delClass1" title=\''+a+"' ></a></li>")}var p=(t.find("#_filecontentblock"),t.find("#_filecontentblock ul li"));p.length>4&&(t.find("#_filecontentblock").css("height","124px"),t.find("#_filecontentblock").css("overflow","hidden"),t.find("#_filecontentblock").perfectScrollbar({horizrailenabled:!1,zindex:1e3}),t.find("#_filecontentblock").scrollTop(jQuery("#_filecontentblock ul").height()),p.show()),4==p.length&&(t.find("#_filecontentblock").css("height","94px"),t.find("#_filecontentblock").css("overflow","")),3==p.length&&(t.find("#_filecontentblock").css("height","64px"),t.find("#_filecontentblock").css("overflow","")),2==p.length&&(t.find("#_filecontentblock").css("height","34px"),t.find("#_filecontentblock").css("overflow","")),1==p.length&&(t.find("#_filecontentblock").css("height","34px"),t.find("#_filecontentblock").css("overflow",""))}function d(e,t){var r=jQuery("#"+t).find(".edui-for-wfannexbutton"),n=r.offset().left,o=r.offset().top-69+jQuery(".wea-new-top-req-content").scrollTop(),a=jQuery("#"+t+"_div");if("remark"!=t){var i=jQuery("#"+t).find(".edui-for-wfannexbutton")[0].getBoundingClientRect();n=i.left,o=i.top+i.height-3,a.find("#"+e).css("position","fixed")}a.find("#"+e).css("z-index","999"),a.find("#"+e).css({top:o+"px",left:n+"px"}),a.find("#"+e).css("display","block")}var f=r(129);n(f);UE.registerUI("wfannexbutton",function(e,t){return p(e,t)},34,"remark,forwardremark");var p=function(e,t){function r(){d("_fileuploadphraseblock",e.key);var t=jQuery.trim(n.find("#field-annexupload").val()),r=jQuery.trim(n.find("#field-annexupload-name").val()),o=n.find("#_fileuploadphraseblock").find("#_filecontentblock ul");if(""!=t&&null!=t){var a=n.find("#field-cancle").val();if(n.find("#promptinformation").html("").css("padding","2px"),t.indexOf(",")>-1)for(var i=t.split(","),l=r.split(c),u=0;u<i.length;u++){var f=jQuery.trim(i[u]),p=jQuery.trim(l[u]);s(jQuery.trim(f),e.key)||o.append("<li id='li_"+f+"' onclick=\"onAddUploadFile("+f+",'"+p+"','"+e.key+"')\" class=\"cg_item\"><span class='cg_detail' style='width:130px;' title='"+p+"' >"+p+'</span><a onmouseover="showBt('+f+')" onmouseout="hiddenBt('+f+')" onclick="deletefile('+f+",'"+p+"','"+e.key+'\')" style="float:right;width:10px;height:10px;margin-right:5px;margin-top:8px;background-image:url(/images/ecology8/workflow/annexdel_wev8.png);" class="e8_delClass1" title=\''+a+"' ></a></li>")}else s(jQuery.trim(t),e.key)||o.append("<li id='li_"+t+"' onclick=\"onAddUploadFile("+t+",'"+r+"','"+e.key+"')\" class=\"cg_item\"><span class='cg_detail' style='width:130px;' title='"+r+"'>"+r+'</span><a onmouseover="showBt('+t+')" onmouseout="hiddenBt('+t+')" onclick="deletefile('+t+",'"+r+"','"+e.key+'\')" style="float:right;width:10px;height:10px;margin-right:5px;margin-top:8px;background-image:url(/images/ecology8/workflow/annexdel_wev8.png);" class="e8_delClass1" title=\''+a+"' ></a></li>")}var h=(n.find("#_filecontentblock"),n.find("#_filecontentblock ul li"));h.length>4&&(n.find("#_filecontentblock").css("height","124px"),n.find("#_filecontentblock").css("overflow","hidden"),n.find("#_filecontentblock").perfectScrollbar({horizrailenabled:!1,zindex:1e3}),h.show()),4==h.length&&(n.find("#_filecontentblock").css("height","94px"),n.find("#_filecontentblock").css("overflow","")),3==h.length&&(n.find("#_filecontentblock").css("height","64px"),n.find("#_filecontentblock").css("overflow","")),2==h.length&&(n.find("#_filecontentblock").css("height","34px"),n.find("#_filecontentblock").css("overflow","")),1==h.length&&(n.find("#_filecontentblock").css("height","34px"),n.find("#_filecontentblock").css("overflow",""))}var n=jQuery("#"+e.key+"_div"),a="0",i="0";if("remark"==e.key?(a=n.find("#isannexupload_edit_param").val(),i=n.find("#annexmaxUploadImageSize_param").val()):(a=jQuery("#forwardremark_hidden_area").find("#isannexupload_edit").val(),i=jQuery("#forwardremark_hidden_area").find("#annexmaxUploadImageSize").val()),"1"==a){var l=readCookie("languageidweaver"),u=(SystemEnv.getHtmlNoteName(3449,l),function(){jQuery("html").live("mouseup",function(e){var t=n.find("#fsUploadProgressfileuploaddiv").attr("banfold"),r=n.find("#_fileuploadphraseblock").offset().top;r>0&&!jQuery(e.target).closest("#_fileuploadphraseblock")[0]&&"1"!=t&&(n.find("#_fileuploadphraseblock").css("top","-500px"),n.find("#fsUploadProgressfileuploaddiv").css("top","-500px")),e.stopPropagation()});try{jQuery("html",jQuery("#"+e.key).find("iframe")[0].contentWindow.document).live("mouseup",function(e){var t=(n.find("#_fileuploadphraseblock").attr("showfor"),n.find("#_fileuploadphraseblock").offset().top);t>0&&!jQuery(e.target).closest("#_fileuploadphraseblock")[0]&&"1"!=banfold&&(n.find("#_fileuploadphraseblock").css("top","-500px"),n.find("#fsUploadProgressfileuploaddiv").css("top","-500px")),e.stopPropagation()})}catch(t){}var r='<div id="_fileuploadphraseblock" class="_signinputphraseblockClass" style=\'top:-100px;z-index:99;display:none;\'>\t<div class="phrase_arrowsblock"><img src="/images/ecology8/workflow/phrase/addPhrasejt_wev8.png" width="14px" height="14px"></div>\t<div class="cg_block"  style=\'background:#fff;\'>\t\t<div id="_filecontentblock">\t\t\t<ul>\t\t\t\t<li style="padding:2px;text-align:center;" id="promptinformation" ></li>\t\t\t</ul>\t    </div>\t\t<div class="cg_splitline" id="cg_splitline" ></div>\t\t<ul>\t\t\t<li >\t\t\t\t<div class="cg_optblock" style="text-align:center;margin:2px 0 4px 0px;">\t\t\t\t\t<div style="margin:0 auto; height:22px;width:22px;background-image:url(/images/ecology8/workflow/phrase/addPhrase_wev8.png);"> \t\t\t\t\t<span class="phrase_btn" style="color:#1ca96f;" id="_addfilebtn" title="'+SystemEnv.getHtmlNoteName(3456,l)+"("+SystemEnv.getHtmlNoteName(4080,l)+i+"M/"+SystemEnv.getHtmlNoteName(4081,l)+')">\t\t\t\t\t\t<span id="_continueaddfile" >\t'+SystemEnv.getHtmlNoteName(3456,l)+'\t\t\t\t\t\t</span></span>\t\t\t\t</div></div>\t\t\t</li>\t\t</ul>\t</div></div><div id="fsUploadProgressfileuploaddiv" class=\'_signinputphraseblockClass\' style=\'top:-100px;z-index:999;display:none;\'>\t<div class="phrase_arrowsblock" id="_fsarrowsblock"><img src="/images/ecology8/workflow/phrase/addPhrasejt_wev8.png" width="14px" height="14px"></div>\t<div class="cg_block" id="_fscgblock" style=\'background:#fff;padding-bottom:2px;\'>\t<div class="fieldset flash" id="fsUploadProgressfileupload_'+e.key+'" > </div></div></div>',o=jQuery(r);n.append(o)}),c="////~~weaversplit~~////";u(),o(e.key),e.registerCommand(t,{execCommand:function(){}});var f=new UE.ui.Button({name:t,labelname:SystemEnv.getHtmlNoteName(3457,l),title:SystemEnv.getHtmlNoteName(3457,l),onclick:function(){r()}});return e.addListener("selectionchange",function(){var r=e.queryCommandState(t);r==-1?(f.setDisabled(!0),f.setChecked(!1)):(f.setDisabled(!1),f.setChecked(r))}),f}},h="////~~weaversplit~~////",m=0,_="";window.deletefile=a,window.onAddUploadFile=i,window.checkliid=s,window.showBt=l,window.hiddenBt=u,window.addlinew=c,window.sethraseblockPosition=d},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(129),a=(n(o),function(e){var t=function(t){if(1!=window.__isremarkPage){var r=jQuery("#fsUploadProgressfileuploaddiv").attr("banfold");if(1==t.which&&jQuery(t.target).parents(".remarkDiv,.edui-popup,.edui-dialog,.filtercontainer, ._signinputphraseblockClass").length<=0&&"1"!=r){try{var n=e.getContentTxt(),o=e.getContent().replace(/<p><\/p>/g,"");(""==n&&o.indexOf("<img src=")<0||""==o)&&"remark"==e.key&&window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.controlSignInput(!1))}catch(t){}t.stopPropagation()}}};jQuery(".wea-new-top-req-content").live("mousedown",t),e.ready(function(){jQuery("#"+e.key).find(".edui-for-wfannexbutton").children("div").children("div").children("div").children(".edui-metro").addClass("wfres_1"),jQuery("#"+e.key).find(".edui-for-wfdocbutton").children("div").children("div").children("div").children(".edui-metro").addClass("wfres_2"),jQuery("#"+e.key).find(".edui-for-wfwfbutton").children("div").children("div").children("div").children(".edui-metro").addClass("wfres_3");
})});window.bindRemark=a;var i=function(e,t,r,n,o,a,i){var s=window.store_e9_workflow.getState().workflowReq.getIn(["params","hiddenarea"]),l=s.get("requestid"),u=s.get("f_weaver_belongto_userid"),c=s.get("isFormSignature");0==top.Dialog._Array.length&&jQuery("[id^=Consult]").hide();var e,d=jQuery("#"+i+"_div"),f=d.find("#"+r).val();e=37===o?"/systeminfo/BrowserMain.jsp?f_weaver_belongto_userid="+u+"&f_weaver_belongto_usertype=0&url="+e+"?documentids="+f+escape("&f_weaver_belongto_userid="+u+"&f_weaver_belongto_usertype=0"):"/systeminfo/BrowserMain.jsp?f_weaver_belongto_userid="+u+"&f_weaver_belongto_usertype=0&url="+e+"?resourceids="+f+escape("&f_weaver_belongto_userid="+u+"&f_weaver_belongto_usertype=0");var p=new window.top.Dialog;if(p.currentWindow=window,p.callbackfunParam=null,p.URL=e,p.callbackfun=function(e,t){if(t)if(""!=wuiUtil.getJsonValueByIndex(t,0)&&"0"!=wuiUtil.getJsonValueByIndex(t,0)){var n=wuiUtil.getJsonValueByIndex(t,0),s=wuiUtil.getJsonValueByIndex(t,1),c="";if(n=n.substr(0),s=s.substr(0),d.find("#"+r).val(n),"forwardremark"==i){jQuery("#forwardremark_hidden_area").find("#"+r).val(n);var f={};f[r]=n,FORWARD_OBJ.setState(f)}for(var p=n.split(","),h=s.split(","),m=0;m<p.length;m++){var _=p[m],g=h[m];37===o?c=c+"<a href='/docs/docs/DocDsp.jsp?id="+_+"&isrequest=1&requestid="+l+"'  target='_blank' title='"+g+'\' style="color:#123885;" >'+g+"</a>&nbsp;&nbsp;":c+="<a href='/workflow/request/ViewRequest.jsp?f_weaver_belongto_userid="+u+"&f_weaver_belongto_usertype=0&requestid="+_+"&isrequest=1' target='_blank' style=\"color:#123885;\">"+g+"</a>&nbsp;&nbsp;"}try{UE.getEditor(i).setContent(" &nbsp;"+c,!0)}catch(w){}try{var v,y="";152==o?(v=jQuery("#"+i).find(".edui-for-wfwfbutton").children("div").children("div").children("div").children(".edui-metro"),y="wfres_3"):(v=jQuery("#"+i).find(".edui-for-wfdocbutton").children("div").children("div").children("div").children(".edui-metro"),y="wfres_2"),0!=p.length?(v.addClass(y+"_slt"),v.removeClass(y)):(v.addClass(y),v.removeClass(y+"_slt"))}catch(w){}}else{d.find("#"+r).val(""),a&&(jQuery("#"+a).children("Table").find("TD[class=signcountClass_center]").html("0"),jQuery("#"+a).hide());try{var v,y="";152==o?(v=jQuery("#"+i).find(".edui-for-wfwfbutton").children("div").children("div").children("div").children(".edui-metro"),y="wfres_3"):(v=jQuery("#"+i).find(".edui-for-wfdocbutton").children("div").children("div").children("div").children(".edui-metro"),y="wfres_2"),v.addClass(y),v.removeClass(y+"_slt")}catch(w){}}},p.Height=620,37===o||(jQuery.browser.msie?p.Height=570:p.Height=570),p.Drag=!0,p.show(),"1"==c&&1==top.Dialog._Array.length){window.setInterval(function(){top.Dialog._Array.length<dialognum?(jQuery("[id^=Consult]").show(),clearInterval(this)):jQuery("[id^=Consult]").hide()},300)}};window.onShowSignBrowser4signinput=i;var s=function(e,t){var r=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,$(e).width()),n=$(e).height(),o=0;if(o=jQuery("iframe[name^=FCKsigniframe]").size()>0?.6*jQuery("iframe[name^=FCKsigniframe]").width():.25*window.innerWidth,r>=o){var a=r/o,i=r/a,s=n/a;if(s>=250){var l=s/250,u=i/l,c=s/l;jQuery(e).width(u),jQuery(e).height(c),jQuery(e).closest(".small_pic").width(u),jQuery(e).closest(".small_pic").height(c)}else jQuery(e).width(i),jQuery(e).height(s),jQuery(e).closest(".small_pic").width(i),jQuery(e).closest(".small_pic").height(s)}else if(n>=250){var l=n/250,u=r/l,c=n/l;jQuery(e).width(u),jQuery(e).height(c),jQuery(e).closest(".small_pic").width(u),jQuery(e).closest(".small_pic").height(c)}else jQuery(e).width(r),jQuery(e).height(n),jQuery(e).closest(".small_pic").width(r),jQuery(e).closest(".small_pic").height(n);document.getElementById(t)&&ifrResize(document.getElementById(t).contentWindow.document,t,1)};window.image_resize=s;var l=function(e){var t="";String.prototype.trim=function(){return this.replace(/^\s+|\s+|\n+|\r+$/g,"")};var r=e.get("log_remarkHtml");if(r.indexOf("small_pic")>-1||r.indexOf("SMALL_PIC")>-1){var n=r.indexOf("<div");n==-1&&(n=r.indexOf("<DIV"));for(var o=r.substring(0,n),a="",i="",s=r.substring(n);s.indexOf("<img")>-1||s.indexOf("<IMG")>-1;){var l=s.indexOf("</div");l==-1&&(l=s.indexOf("</DIV"));var u=s.substring(l+6),c=u.indexOf("<div");c==-1&&(c=u.indexOf("<DIV")),i=u.substring(0,c),o+=i;var d=s.indexOf("<img");d==-1&&(d=s.indexOf("<IMG")),s=s.substring(d);var f=s.indexOf(">");s=s.substring(f+1);var p=s.indexOf("<img");p==-1&&(p=s.indexOf("<IMG")),s=s.substring(p);var h="",m=s.indexOf(">");h=s.substring(0,m),s=s.substring(m+1),h=h.replace('class="maxImg"',""),o+="<p> "+h+"/> </p>",a=s}var _=a.indexOf("</div>");_==-1&&(_=a.indexOf("</DIV>")),a=a.substring(_+6),o+=a,r=o}t=r;var g="引用";g+=e.get("isexsAgent")?" <font color='#3F9AFF'>"+e.get("displaybyagentname")+"->"+e.get("displayname")+"</font> ":" <font color='#3F9AFF'>"+e.get("displayname")+"</font> ",g+=e.get("displaydepname")+" "+e.get("log_operatedate")+" "+e.get("log_operatetime");var w="<span><div style='text-indent:0px;padding-left:10px;font-family:微软雅黑;border:1px solid #ddeaf6;;padding-top:10px;background:#f9fcff;'>    <span style='text-indent:0px;padding-left:10px;color:#6b6b6b;font-family:微软雅黑;font-size:12px'>"+g+"</span>"+jQuery("<div></div>").append(t).html()+"</div></span>";content__=w.replace(/<p><br\/><\/p>/,"").replace(/&nbsp;/,"").replace(/\:/,"");var v=UE.getEditor("remark");v.setContent(content__+"<br>",!0),v.focus(!0),v.setContent("<br>",!0),FCKEditorExt.updateContent("remark"),v.focus(!0),window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.controlSignInput(!0));try{window.action_e9_workflow.WorkflowReqAction.signmustinputtips()}catch(f){}};window.quoteClick=l;var u=function(e){return 7};window.readCookie=u;var c=function(){window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.setLoglistTabKey(1,"")),window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.setlogParams({pgnumber:1,firstload:!1,atmet:"",maxrequestlogid:0}))};window.e9signReload=c;var d=function(e,t,r){var n=new window.top.Dialog;n.Model=!0,n.Width=900,n.Height=600,n.URL="/systeminfo/BrowserMain.jsp?url="+escape("/workflow/ruleDesign/showLocateOnline.jsp?useType=2&lng="+e+"&lat="+t+"&addr="+encodeURI(r)),n.Title=SystemEnv.getHtmlNoteName(4083,u("languageidweaver")),n.callback=function(e){},n.show()};window.openMap=d},function(e,t){var r=function(){var e={128912:"所选流程被锁定，不能提交！",128911:"批量提交成功，有部分流程被锁定不能提交！",26039:"填写意见",24964:"流程转发",21766:"转发失败，请重试！",21625:"表单日志",20149:"请至少选择一条记录。",18981:"正在转发流程，请稍候....",26156:" 您确定要暂停当前流程吗 ?",21533:"打印日志 ",26158:"您确定要启用当前流程吗 ?",26157:"您确定要撤销当前流程吗 ?",24703:"您确定将该流程强制归档吗？"};return{getHtmlLabelName:function(t){var r=null,n=!1;try{n=t.indexOf(",")>-1}catch(o){}if(n)for(var a=t.split(","),i=0;i<a.length;i++)r?r+=e[a[i]]:r=e[a[i]];else r=e[t];return r?r:null}}}();window.SystemEnvLabel=r},function(e,t,r){function n(e){return e&&e.__esModule?e:{"default":e}}var o=r(129),a=(n(o),function(e,t,r){return"3"==r?void openFullWindowHaveBar(e):("1"!=r&&"2"!=r||(e="/workflow/request/WFReset.jsp?wfid="+e+"&type="+r,t="流转设置"),dialog=new window.top.Dialog,dialog.currentWindow=window,dialog.Title=t,dialog.Width=1020,dialog.Height=580,dialog.Drag=!0,dialog.maxiumnable=!1,dialog.URL=e,void dialog.show())});window.resetWorkflow=a;var i=function(e,t,r,n,o){var a=window.store_e9_workflow.getState().workflowReq.getIn(["params","requestid"]);e=e.replace(/~0~/g,"<span class='importantInfo'>"),e=e.replace(/~1~/g,"</span>"),e=e.replace(/~2~/g,"<span class='importantDetailInfo'>");var i=jQuery(".message-detail").html();i=i?"<div class='message-detail'>"+i+"</div>":"";var s="进行设置";"流程干预"==r&&(s="流程干预");var l=i+"<span>"+e+'，请<a id="wfSErrorResetBtn" style="color:#2b8ae2!important;" href="'+t+'" title="'+r+'" type="'+o+'"> 点击这里 </a>'+s+"</span>",u=jQuery(".message-bottom span").html();jQuery("<span> 点击这里 <span>").replaceAll(".message-bottom .sendMsgBtn"),jQuery.ajax({type:"post",url:"/workflow/request/TriggerRemindWorkflow.jsp?_"+(new Date).getTime()+"=1",data:{remark:l,loginuserid:n,requestid:a},error:function(e,t,r){jQuery(".message-bottom span").html(u)},success:function(e,t){window.top.Dialog.alert("已成功向管理员发送提醒流程")}})};window.triggerSystemWorkflow=i;var s=function(){var e=null;e=window.top.Dialog?new window.top.Dialog:new Dialog,e.currentWindow=window,e.Width=650,e.Height=500,e.Modal=!0,e.maxiumnable=!1,e.Title="请选择",e.URL="/workflow/request/requestChooseOperator.jsp",e.callbackfun=function(e,t){var r={eh_setoperator:"y",eh_relationship:t.relationship,eh_operators:t.operators},n=window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.getformdatas());window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.setOperateInfo(r)),window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9Api("requestOperation","submit","",n))},e.closeHandle=function(e,t){var r=window.store_e9_workflow.getState().workflowReq.getIn(["params","hiddenarea"]).get("eh_setoperator");if("y"!=r){var n=window.store_e9_workflow.dispatch(getformdatas());window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.setOperateInfo({eh_setoperator:"n"})),window.store_e9_workflow.dispatch(window.action_e9_workflow.WorkflowReqAction.doSubmitE9Api("requestOperation","submit","",n))}},e.show()};window.rechoseoperator=s},function(e,t){!function(){function e(e){for(var t in i)e.hasOwnProperty(t)||(e[t]=i[t])}var t=30,r=0,n=0,o=10,a=7,i={itemheght:t,positionx:r,positiony:n,itemmaxlength:o,autoitems:[],entercallback:function(){alert("entercallback!!!")},muticheckcallback:function(){alert("muticheckcallback!!!")}};this.WeaverAutoComplete=function(t){t||(t={});var r=jQuery("<div></div>");r.addClass("filtercontainer"),r.click(function(e){e.stopPropagation()});var n=jQuery("<div></div>");n.addClass("filteritem");var o=jQuery("<div style='float: left;margin:1px;margin-left:3px'></div>"),i=jQuery("<span style='border:1px #e1e1e1 solid;width:140px;float:right;background:#fff;'><span style='padding-right:15px' class='at_search_btn'></span><input name='at_search' id='at_search' style='border:0px;height:25px' size='16'></span><span class='e8tips' title='"+SystemEnv.getHtmlNoteName(3652,a)+"' style='position:absolute;right:8px;top:3px;'><img src='/images/tooltip_wev8.png' align='absMiddle' style='vertical-align:middle;'/></span>");o.append(i);var s=jQuery("<input type='button' class='e8_btn_submit' style='width:55px !important;height:30px !important;' value='"+SystemEnv.getHtmlNoteName(3451,a)+"'>"),l=jQuery("<input type='button' class='e8_btn_submit' style='width:55px !important;height:30px !important;' value='"+SystemEnv.getHtmlNoteName(3516,a)+"'>");n.append(o),r.append(n);var u=jQuery("<div><ol></ol></div>");return u.addClass("autoitems"),u.css("clear","left"),r.append(u),{generateItems:function(e,r){var n,o=e.length;u.find("ol").html("");for(var a=u.find("ol"),i=0;i<o;i++)n=jQuery("<li><input type='checkbox' class=InputStyle style='vertical-align:middle;' "+r+" _uid="+e[i].uid+" _uname="+e[i].data+"><span class='data' datapy="+e[i].datapy+">"+e[i].data+"</span></li>"),n.attr("index",i+1),n.attr("uid",e[i].uid),a.append(n);o>t.itemmaxlength?(u.css("height","133px"),u.css("overflow","auto")):u.css("height",o*t.itemheght+"px"),o>0&&u.find("ol li").eq(0).addClass("on"),u.scroll(function(e){e.stopPropagation()})},initAutoContainer:function(){r.css("left",t.positionx),r.css("top",t.positiony),r.css("position","fixed")},initAutoItems:function(){var e=t.autoitems;this.generateItems(e)},registerEvents:function(){function e(){if(jQuery(".filtercontainer").length>0&&t.relativeItem){var e=t.relativeItem,r=jQuery(e).offset().left,n=jQuery(e).offset().top;jQuery(".filtercontainer").css("left",r),jQuery(".filtercontainer").css("top",n)}}function n(e){function r(e){if(u.find("ol").unbind("mouseover"),t.autoitems.length>t.itemmaxlength){var r=e.attr("index"),n=t.itemmaxlength*t.itemheght,o=r*t.itemheght,a=o-n;a<0?u.scrollTop(0):u.scrollTop(a)}e.addClass("on"),u.find("ol").mousemove(function(){u.find("ol").delegate("li","mouseover",function(){u.find("ol li.on").removeClass("on"),jQuery(this).addClass("on")}),u.find("ol").unbind("mousemove")})}var n,a=e.which;if(e.stopPropagation(),38===a)jQuery("#at_search").blur(),i.blur(),1===jQuery("li.on").prev("li").length&&(e.preventDefault(),n=jQuery("li.on"),r(jQuery("li.on").prev("li")),n.removeClass("on"));else if(40===a)jQuery("#at_search").blur(),i.blur(),1===jQuery("li.on").next("li").length&&(e.preventDefault(),n=jQuery("li.on"),r(jQuery("li.on").next("li")),n.removeClass("on"));else if(13===a){var s=jQuery("li.on");t.entercallback.call(s),o.destroy()}}var o=this,a=!0;r.mouseover(function(){a=!0}),r.mouseout(function(){a=!1}),jQuery(document).click(function(){a||(o.destroy(),a=!0)}),window.attachEvent?window.attachEvent("onscroll",e):window.addEventListener&&window.addEventListener("scroll",e),i.keyup(function(){for(var e=jQuery("#at_search").val(),r=[],n=t.autoitems,a=0,i=n.length;a<i;a++)(""===e||n[a].data.indexOf(e)>-1||n[a].datapy.toLowerCase().indexOf(e.toLowerCase())>-1)&&r.push(n[a]);o.generateItems(r)}),s.click(function(){var e=null;return e=t&&t.isfromuedit&&1==t.isfromuedit?u.find("input:checkbox:checked"):u.find("ol").find(".jNiceChecked"),0===e.length?void alert("请至少选择一个!!!"):(t.muticheckcallback.call(e),void o.destroy())}),l.click(function(){o.destroy()}),u.find("ol").delegate("li","mouseover",function(){u.find("ol li.on").removeClass("on"),jQuery(this).addClass("on")}),u.find("ol").delegate("input[type='checkbox']","click",function(e){e.stopPropagation()}),u.find("ol").delegate("li","click",function(){t.entercallback.call(jQuery(this)),o.destroy()}),jQuery(document).keydown(n)},init:function(){e(t),this.initAutoContainer(),this.initAutoItems(),this.registerEvents();var n=jQuery("<table style='border-top:1px solid #efefef;background:#fcfcfc'><tr><td width=86px></td><td style='color:#dadada'>|</td><td width=86px></td></tr><table>");n.find("td:eq(0)").append(s),n.find("td:eq(2)").append(l),r.append(n),jQuery("#"+t.editorid+"_div").append(r),i.focus()},destroy:function(){r.remove(),jQuery(document).unbind("keydown")}}}}()},function(e,t){function r(e){var t={scaleImg:!0},r=$(e).find("a").attr("pichref"),l=$(e).parent().parent().find("#"+r),h=l.html(),m=l.width(),_=l.height(),g=jQuery(h).attr("src");c=m,d=_;var w=m,v=_,y=1080,b=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,S=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,E=window.pageXOffset||window.document.documentElement.scrollLeft||window.document.body.scrollLeft,k=window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop,R={width:b,height:S,x:E,y:k};y>m&&(w=y),m>.9*b&&(w=.9*b),270>_&&(v=300),_>.9*S&&(v=.9*S);var b=m+40,S=_+40,T=R,I=(Math.max(T.height/2-S/2+k-300,0),T.width/2-b/2,Math.max(T.height/2-v/2,0)-100),O=T.width/2-w/2-20,x=0,C=0;y>m&&(C=(y-m)/2),x=_<.9*S?(v-_)/2+30:30;var A=_,j=$(e).find("a").pageX+100,D=jQuery("#zoom"),P=jQuery("#zoom_close"),q=jQuery("#zoom_left"),L=jQuery("#zoom_right"),N=jQuery("#zoom_content1");P.attr("curTop",A),P.attr("curLeft",173),P.attr("scaleImg",t.scaleImg?"true":"false"),q.attr("curTop",A),q.attr("curLeft",j-50),L.attr("curTop",A),L.attr("curLeft",j+50),jQuery("#zoom").hide().css({position:"absolute",top:A+"px",left:j+"px",width:"1px",height:"1px"}),t.closeOnClick&&jQuery("#zoom").click(hide),f=w,p=v,t.scaleImg?(N.html(h),jQuery("#zoom_content").css({width:w+20,height:v+10,"text-align":"center","vertical-align":"middle","z-index":"9999"}),jQuery("#zoom_content1").css({width:w,height:v,display:"table-cell","text-align":"center","vertical-align":"middle","z-index":"9999"}),jQuery("#zoom_content").find("img").css({"z-index":"9999","vertical-align":"middle"})):zoom_content.html(""),I<0&&(I=10),jQuery("#zoom").animate({top:I+"px",left:O+"px",opacity:"show",width:w+50,height:v+60},0,null),jQuery("#zoom_close").unbind("click").bind("click",function(){jQuery("#zoom").animate({top:P.attr("curTop")+"px",left:P.attr("curLeft")+"px",opacity:"hide",width:"1px",height:"1px"},0,null,function(){jQuery("#zoom_content1").html(""),jQuery("#zoom").css("display","none")})}),jQuery("#zoom_content").find("img").unbind("mousedown").bind("mousedown",function(e){u(e)}),jQuery("#zoom_content").find("img").unbind("mouseup").bind("mouseup",function(e){s()}),jQuery("#zoom_both").unbind("mousedown").bind("mousedown",function(e){u(e)}),jQuery("#zoom_both").unbind("mouseup").bind("mouseup",function(e){s()}),jQuery("#zoom_right").unbind("click").bind("click",function(e){var t=D.find(".maxImg");n(t,"right",b)}),jQuery("#zoom_left").unbind("click").bind("click",function(e){var t=D.find(".maxImg");n(t,"left",b)}),jQuery("#zoom_1").unbind("click").bind("click",function(e){var t=D.find(".maxImg");a(t,m,_)}),jQuery("#zoom_add").unbind("click").bind("click",function(e){var t=D.find(".maxImg");o(t,"add",m,_)}),jQuery("#zoom_minus").unbind("click").bind("click",function(e){var t=D.find(".maxImg");o(t,"minus",m,_)}),jQuery("#zoom_save").unbind("click").bind("click",function(e){i(g)})}function n(e,t,r){var n=$(e)[0],o=n.getAttribute("step");if(!(n.length<=0)){null==o&&(o=h.minStep);var r=n.width,a=n.height;if("left"==t?(o--,o<h.minStep&&(o=h.maxStep)):"right"==t&&(o++,o>h.maxStep&&(o=h.minStep)),n.setAttribute("step",o),navigator.userAgent.indexOf("MSIE")>=0){var i=$(n).attr("step");if("undefined"!=typeof FileReader)switch(i=parseInt(i)+1){case 1:n.style.cssText="-webkit-transform: rotate(0deg);-moz-transform: rotate(0deg);transform:rotate(0deg);-o-transform:rotate(0deg);";break;case 2:n.style.cssText="-webkit-transform: rotate(90deg);-moz-transform: rotate(90deg);transform:rotate(90deg);-o-transform:rotate(90deg);";break;case 3:n.style.cssText="-webkit-transform: rotate(180deg);-moz-transform: rotate(180deg);transform:rotate(180deg);-o-transform:rotate(180deg);";break;case 4:n.style.cssText="-webkit-transform: rotate(270deg);-moz-transform: rotate(270deg);transform:rotate(270deg);-o-transform:rotate(270deg);"}else{var s=document.documentMode;if(s>8)switch(i=parseInt(i)+1){case 1:n.style.cssText="-ms-transform: rotate(0deg);-ms-transform-origin:50% 50%;";break;case 2:n.style.cssText="-ms-transform: rotate(90deg);-ms-transform-origin:50% 50%;";break;case 3:n.style.cssText="-ms-transform: rotate(180deg);-ms-transform-origin:50% 50%;";break;case 4:n.style.cssText="-ms-transform: rotate(270deg);-ms-transform-origin:50% 50%;"}else{var l=90*i,u=1,m=l*(Math.PI/180),_=Math.cos(m)*u,g=-1*Math.sin(m)*u,w=Math.sin(m)*u,v=_;n.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+_+",M12="+g+",M21="+w+",M22="+v+",SizingMethod='auto expand')"}}n.width=r,n.height=a;var y=c,b=d;r=f>d?f:d,a=p>c?p:c,c=b,d=y,parent.jQuery("#zoom_content1").css({width:r,height:a,display:"table-cell","text-align":"center","vertical-align":"middle","z-index":"9999"})}else{var S=$(n).next("canvas")[0];0==$(n).next("canvas").length&&(n.style.display="none",S=document.createElement("canvas"),S.setAttribute("class","canvas"),n.parentNode.appendChild(S));var E=90*o*Math.PI/180,k=S.getContext("2d");switch(o){case 0:S.width=r,S.height=a,k.drawImage(n,0,0,r,a);break;case 1:S.width=a,S.height=r,k.rotate(E),k.drawImage(n,0,-a,r,a);break;case 2:S.width=r,S.height=a,k.rotate(E),k.drawImage(n,-r,-a,r,a);break;case 3:S.width=a,S.height=r,k.rotate(E),k.drawImage(n,-r,0,r,a)}}$(e).attr("step",h.step)}}function o(e,t,r,n){var o=$(e)[0],i=o.getAttribute("step");null==i&&(i=h.minStep),i=parseInt(i);var s=o.width,l=o.height;if(parent.jQuery("#zoom_1").bind("click",function(e){var t=parent.jQuery("#zoom").find(".maxImg");a(t,r,n)}),"add"==t){if(y++,y>13)return y--,!1;0==y?(parent.jQuery("#zoom_1").unbind(),parent.jQuery("#zoom_1").css("background","#FFFFFF url(/images/preview/noash_wev8.png) no-repeat")):parent.jQuery("#zoom_1").css("background","#FFFFFF url(/images/preview/contrast_wev8.png) no-repeat");var u=s+r/10,m=l+n/10;if(navigator.userAgent.indexOf("MSIE")>=0){var _=$(o).attr("step");o.width=u,o.height=m,$(o).css({width:u,height:m,"z-index":"9999","vertical-align":"middle"}),1==_||3==_?(c=m,d=u):(c=u,d=m),u=f>c?f:c,m=p>d?p:d,parent.jQuery("#zoom_content1").css({width:u,height:m,"text-align":"center","vertical-align":"middle","z-index":"9999",display:"table-cell"})}else{o.width=u,o.height=m,$(o).css({width:u,height:m,"z-index":"9999","vertical-align":"middle"});var g=$(o).next("canvas")[0],w=90*i*Math.PI/180;if(0!=$(o).next("canvas").length){var v=g.getContext("2d");switch(i){case 0:g.width=u,g.height=m,v.drawImage(o,0,0,u,m);break;case 1:g.width=m,g.height=u,v.rotate(w),v.drawImage(o,0,-m,u,m);break;case 2:g.width=u,g.height=m,v.rotate(w),v.drawImage(o,-u,-m,u,m);break;case 3:g.width=m,g.height=u,v.rotate(w),v.drawImage(o,-u,0,u,m)}}}}if("minus"==t){if(y--,y<-7)return y++,!1;0==y?(parent.jQuery("#zoom_1").unbind(),parent.jQuery("#zoom_1").css("background","#FFFFFF url(/images/preview/noash_wev8.png) no-repeat")):parent.jQuery("#zoom_1").css("background","#FFFFFF url(/images/preview/contrast_wev8.png) no-repeat");var b=s-r/10,S=l-n/10;if(navigator.userAgent.indexOf("MSIE")>=0){var _=$(o).attr("step");o.width=b,o.height=S,$(o).css({width:b,height:S,"z-index":"9999","vertical-align":"middle"}),1==_||3==_?(c=S,d=b):(c=b,d=S),b=f>c?f:c,S=p>d?p:d,parent.jQuery("#zoom_content1").css({width:b,height:S,"text-align":"center","vertical-align":"middle","z-index":"9999",display:"table-cell"})}else{o.width=b,o.height=S,$(o).css({width:b,height:S,"z-index":"9999","vertical-align":"middle"});var g=$(o).next("canvas")[0],w=90*i*Math.PI/180;if(0!=$(o).next("canvas").length){var v=g.getContext("2d");switch(i){case 0:g.width=b,g.height=S,v.drawImage(o,0,0,b,S);break;case 1:g.width=S,g.height=b,v.rotate(w),v.drawImage(o,0,-S,b,S);break;case 2:g.width=b,g.height=S,v.rotate(w),v.drawImage(o,-b,-S,b,S);break;case 3:g.width=S,g.height=b,v.rotate(w),v.drawImage(o,-b,0,b,S)}}}}}function a(e,t,r){var n=$(e)[0],o=n.getAttribute("step");null==o&&(o=h.minStep),o=parseInt(o),y=0;var a=n.width;if(parent.jQuery("#zoom_1").css("background","#FFFFFF url(/images/preview/noash_wev8.png) no-repeat"),parent.jQuery("#zoom_1").unbind(),a!=t)if(n.width=t-15,n.height=r-15,$(n).css({width:t-15,height:r-15,"z-index":"9999","vertical-align":"middle"}),navigator.userAgent.indexOf("MSIE")>=0){var i=$(n).attr("step");if(n.width=t,n.height=r,1==i||3==i){c=r,d=t;var s=r,l=t;t=f>s?f:l,r=p>l?p:l}else c=t,d=r,f>t&&(t=f),p>r&&(r=p);parent.jQuery("#zoom_content1").css({width:t,height:r,"text-align":"center","vertical-align":"middle",position:"absolute;","z-index":"9999",display:"table-cell"})}else{n.width=t,n.height=r,$(n).css({width:t,height:r,"z-index":"9999","vertical-align":"middle"});var u=$(n).next("canvas")[0],m=90*o*Math.PI/180;if(0!=$(n).next("canvas").length){var _=u.getContext("2d");switch(o){case 0:u.width=t,u.height=r,_.drawImage(n,0,0,t,r);break;case 1:u.width=r,u.height=t,_.rotate(m),_.drawImage(n,0,-r,t,r);break;case 2:u.width=t,u.height=r,_.rotate(m),_.drawImage(n,-t,-r,t,r);break;case 3:u.width=r,u.height=t,_.rotate(m),_.drawImage(n,-t,0,t,r)}}}}function i(e){document.location.href=e+"&download=1"}function s(){v=!1}function l(e){if(v)return g.style.top=(w?nTY+e.clientY-m:nTY+parent.event.clientY-m)+"px",g.style.left=(w?nTX+e.clientX-_:nTX+parent.event.clientX-_)+"px",!1}function u(e){for(var t=w?e.target:parent.event.srcElement,r="HTML";t.tagName!=r&&"round_shade_box"!=t.className;)t=w?t.parentNode:t.parentElement;if("round_shade_box"==t.className)return v=!0,g=t,nTY=parseInt(g.style.top+0),m=w?e.clientY:parent.event.clientY,nTX=parseInt(g.style.left+0),_=w?e.clientX:parent.event.clientX,parent.document.onmousemove=l,!1}var c,d,f,p,h={minStep:0,maxStep:3};drag=0,move=0;var m,_,g,w=(document.all,document.getElementById&&!document.all),v=!1,y=0,b=function(e){r(e)};window.showOriginalImage=b,window.formImgLazyLoad=function(e){var t=e.outerHeight(),r=e.outerWidth();if(e.get(0)===window)var n=$(window).scrollTop(),o=$(window).scrollLeft();else var n=e.offset().top,o=e.offset().left;e.find("img[original-src]").each(function(){var e=jQuery(this).offset().top-(n+t),a=jQuery(this).offset().top+jQuery(this).height()-n,i=jQuery(this).offset().left-(o+r),s=jQuery(this).offset().left+jQuery(this).width()-o;if(e<0&&a>0&&i<0&&s>0){var l=jQuery(this).attr("original-src");""!=l&&(jQuery(this).removeAttr("src").attr("src",l).removeAttr("original-src"),jQuery(this).removeAttr("style").attr("style",jQuery(this).attr("original-style")).removeAttr("original-style"),jQuery(this).attr("width",jQuery(this).attr("original-width")).removeAttr("original-width"),jQuery(this).attr("height",jQuery(this).attr("original-height")).removeAttr("original-height"))}})}},function(e,t){UE.registerUI("wflocatebutton",function(e,t){return r(e,t)},99,"remark,forwardremark");var r=function(e,t){e.registerCommand(t,{execCommand:function(){var t=jQuery("#"+e.key+"_div"),r=new window.top.Dialog;r.Model=!0,r.Width=900,r.Height=600;var n=t.find("#remarkLocation").val(),o="",a="",i="";if(""!=n&&null!=n){var s=n.split(",");o=s[1],a=s[2],i=s[3]}r.URL="/systeminfo/BrowserMain.jsp?url="+escape("/workflow/ruleDesign/showLocateOnline.jsp?useType=1&lng="+o+"&lat="+a+"&addr="+encodeURI(i)),r.Title=SystemEnv.getHtmlNoteName(3418,readCookie("languageidweaver")),r.callback=function(r){if(r){var n=(new Date).getTime(),o=n+","+r.jingdu+","+r.weidu+","+r.addr;t.find("#remarkLocation").val(o),"forwardremark"==e.key&&jQuery("#forwardremark_hidden_area").find("#remarkLocation").val(o),_targetobj=t.find(".edui-for-wflocatebutton").children("div").children("div").children("div").children(".edui-box"),_targetobj.addClass("wflocate2"),_targetobj.removeClass("edui-metro"),_targetobj.removeClass("wflocate1")}else _targetobj=t.find(".edui-for-wflocatebutton").children("div").children("div").children("div").children(".edui-box"),_targetobj.addClass("wflocate1"),_targetobj.removeClass("edui-metro"),_targetobj.removeClass("wflocate2"),t.find("#remarkLocation").val(""),"forwardremark"==e.key&&jQuery("#forwardremark_hidden_area").find("#remarkLocation").val("")},r.show()}});var r=new UE.ui.Button({name:t,title:SystemEnv.getHtmlNoteName(4082,readCookie("languageidweaver")),cssRules:"background-image: url(/ueditor/custbtn/images/positionSmall.png) !important;background-position: 0px 1px;",onclick:function(){e.execCommand(t)}});return e.addListener("selectionchange",function(){var n=e.queryCommandState(t);n==-1?(r.setDisabled(!0),r.setChecked(!1)):(r.setDisabled(!1),r.setChecked(n))}),r}}])});